function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toArray(t){return _arrayWithHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableRest()}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService(u);s.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(u((function(n,r){return Object(s.a)(t(n,r)).pipe(Object(a.a)((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new c(t,n))})}var c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}]),t}(),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var i=new o.a(this,e,n),a=this.destination;a.add(i);var s=Object(r.a)(this,t,void 0,void 0,i);s!==i&&a.add(s)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,o){var a;switch(_classCallCheck(this,n),(a=e.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!t){a.destination=i.a;break}if("object"==typeof t){t instanceof n?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),t));break}default:a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),t,r,o)}return a}return _createClass(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a,s){var u,c;_classCallCheck(this,n),(u=e.call(this))._parentSubscriber=t;var l=_assertThisInitialized(u);return Object(r.a)(o)?c=o:o&&(c=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return _createClass(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Object(l.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,i=new o.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[u.a](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(t){return t.complete()}));function o(t){return t?function(t){return new r.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r,i=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),u=n("mCNh"),c=n("2fFW"),l=((r=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(s.add(r?r.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=h(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:Object(u.b)(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=h(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new r(t)},r);function h(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,n),(i=e.call(this,t,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():o()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.2.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(r.a)(a)?(e.pop(),Object(o.a)(e,a)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[a.a])return l=t,function(t){var e=l[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,l,h=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=e[e.length-1];return Object(i.a)(c)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof c&&(s=e.pop()),null===u&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(s)(Object(a.a)(e,u))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _createClass(n,[{key:u.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new h(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new a.a;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new h(t,e)},t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).destination=t,i.source=r,i}return _createClass(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function a(t,e,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(t,n,a);if(!s.closed)return e instanceof o.a?e.subscribe(s):Object(i.a)(e)(s)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return _o})),n.d(e,"b",(function(){return tu})),n.d(e,"c",(function(){return Zs})),n.d(e,"d",(function(){return Ks})),n.d(e,"e",(function(){return Js})),n.d(e,"f",(function(){return Wu})),n.d(e,"g",(function(){return Vu})),n.d(e,"h",(function(){return no})),n.d(e,"i",(function(){return hu})),n.d(e,"j",(function(){return La})),n.d(e,"k",(function(){return ru})),n.d(e,"l",(function(){return Ma})),n.d(e,"m",(function(){return wn})),n.d(e,"n",(function(){return js})),n.d(e,"o",(function(){return et})),n.d(e,"p",(function(){return m})),n.d(e,"q",(function(){return tt})),n.d(e,"r",(function(){return bo})),n.d(e,"s",(function(){return rs})),n.d(e,"t",(function(){return is})),n.d(e,"u",(function(){return nu})),n.d(e,"v",(function(){return pt})),n.d(e,"w",(function(){return Mu})),n.d(e,"x",(function(){return dt})),n.d(e,"y",(function(){return xu})),n.d(e,"z",(function(){return vu})),n.d(e,"A",(function(){return b})),n.d(e,"B",(function(){return $s})),n.d(e,"C",(function(){return Xs})),n.d(e,"D",(function(){return qa})),n.d(e,"E",(function(){return Fa})),n.d(e,"F",(function(){return Ha})),n.d(e,"G",(function(){return Ga})),n.d(e,"H",(function(){return ur})),n.d(e,"I",(function(){return w})),n.d(e,"J",(function(){return Hu})),n.d(e,"K",(function(){return us})),n.d(e,"L",(function(){return Cu})),n.d(e,"M",(function(){return Wa})),n.d(e,"N",(function(){return Ba})),n.d(e,"O",(function(){return ls})),n.d(e,"P",(function(){return kt})),n.d(e,"Q",(function(){return To})),n.d(e,"R",(function(){return ju})),n.d(e,"S",(function(){return Un})),n.d(e,"T",(function(){return M})),n.d(e,"U",(function(){return Mn})),n.d(e,"V",(function(){return Gu})),n.d(e,"W",(function(){return Eu})),n.d(e,"X",(function(){return eu})),n.d(e,"Y",(function(){return io})),n.d(e,"Z",(function(){return Ss})),n.d(e,"ab",(function(){return ar})),n.d(e,"bb",(function(){return hr})),n.d(e,"cb",(function(){return zn})),n.d(e,"db",(function(){return An})),n.d(e,"eb",(function(){return jn})),n.d(e,"fb",(function(){return Rn})),n.d(e,"gb",(function(){return Dn})),n.d(e,"hb",(function(){return Nn})),n.d(e,"ib",(function(){return Pn})),n.d(e,"jb",(function(){return ks})),n.d(e,"kb",(function(){return zu})),n.d(e,"lb",(function(){return Cs})),n.d(e,"mb",(function(){return Os})),n.d(e,"nb",(function(){return xn})),n.d(e,"ob",(function(){return W})),n.d(e,"pb",(function(){return Ao})),n.d(e,"qb",(function(){return Go})),n.d(e,"rb",(function(){return zo})),n.d(e,"sb",(function(){return Io})),n.d(e,"tb",(function(){return ws})),n.d(e,"ub",(function(){return Wt})),n.d(e,"vb",(function(){return R})),n.d(e,"wb",(function(){return Tn})),n.d(e,"xb",(function(){return ma})),n.d(e,"yb",(function(){return Oa})),n.d(e,"zb",(function(){return Pa})),n.d(e,"Ab",(function(){return Dr})),n.d(e,"Bb",(function(){return No})),n.d(e,"Cb",(function(){return ra})),n.d(e,"Db",(function(){return na})),n.d(e,"Eb",(function(){return zs})),n.d(e,"Fb",(function(){return St})),n.d(e,"Gb",(function(){return Dt})),n.d(e,"Hb",(function(){return E})),n.d(e,"Ib",(function(){return S})),n.d(e,"Jb",(function(){return xt})),n.d(e,"Kb",(function(){return Pt})),n.d(e,"Lb",(function(){return Po})),n.d(e,"Mb",(function(){return Ho})),n.d(e,"Nb",(function(){return Fo})),n.d(e,"Ob",(function(){return Uo})),n.d(e,"Pb",(function(){return qo})),n.d(e,"Qb",(function(){return gn})),n.d(e,"Rb",(function(){return ya})),n.d(e,"Sb",(function(){return ct})),n.d(e,"Tb",(function(){return Ro})),n.d(e,"Ub",(function(){return Ws})),n.d(e,"Vb",(function(){return Vo})),n.d(e,"Wb",(function(){return Bo})),n.d(e,"Xb",(function(){return Gs})),n.d(e,"Yb",(function(){return Jo})),n.d(e,"Zb",(function(){return Lo})),n.d(e,"ac",(function(){return qs})),n.d(e,"bc",(function(){return he})),n.d(e,"cc",(function(){return fr})),n.d(e,"dc",(function(){return dr})),n.d(e,"ec",(function(){return jt})),n.d(e,"fc",(function(){return Do})),n.d(e,"gc",(function(){return da})),n.d(e,"hc",(function(){return pa})),n.d(e,"ic",(function(){return va}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("VRyK"),s=n("7o/Q");function u(){return function(t){return t.lift(new l(t))}}var c,l=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new h(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(s.a),f=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new i.a).add(this.source.subscribe(new p(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}},{key:"refCount",value:function(){return u()(this)}}]),n}(o.a),d={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(c=f.prototype)._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}},p=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(r.b);function v(){return new r.a}function y(t){return{toString:t}.toString()}function g(t,e,n){return y((function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=_construct(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}))}var m=g("Inject",(function(t){return{token:t}})),b=g("Optional"),_=g("Self"),w=g("SkipSelf"),k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function C(t){for(var e in t)if(t[e]===C)return e;throw Error("Could not find renamed property on target object.")}function O(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function I(t){return T(t,t[x])||T(t,t[D])}function T(t,e){return e&&e.token===t?e:null}function A(t){return t&&(t.hasOwnProperty(j)||t.hasOwnProperty(P))?t[j]:null}var x=C({"\u0275prov":C}),j=C({"\u0275inj":C}),N=C({"\u0275provFallback":C}),D=C({ngInjectableDef:C}),P=C({ngInjectorDef:C});function R(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(R).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function V(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var L=C({__forward_ref__:C});function M(t){return t.__forward_ref__=M,t.toString=function(){return R(this())},t}function U(t){return F(t)?t():t}function F(t){return"function"==typeof t&&t.hasOwnProperty(L)&&t.__forward_ref__===M}var H,q="undefined"!=typeof globalThis&&globalThis,z="undefined"!=typeof window&&window,G="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,W=q||B||z||G,K=C({"\u0275cmp":C}),J=C({"\u0275dir":C}),Z=C({"\u0275pipe":C}),Y=C({"\u0275mod":C}),Q=C({"\u0275loc":C}),X=C({"\u0275fac":C}),$=C({__NG_ELEMENT_ID__:C}),tt=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),et=new tt("INJECTOR",-1),nt={},rt=/\n/gm,it=C({provide:String,useValue:C}),ot=void 0;function at(t){var e=ot;return ot=t,e}function st(t){var e=H;return H=t,e}function ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default;if(void 0===ot)throw new Error("inject() must be called from an injection context");return null===ot?lt(t,void 0,e):ot.get(t,e&k.Optional?null:void 0,e)}function ct(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default;return(H||ut)(U(t),e)}function lt(t,e,n){var r=I(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&k.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(R(t),"]"))}function ht(t){for(var e=[],n=0;n<t.length;n++){var r=U(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=k.Default,a=0;a<r.length;a++){var s=r[a];s instanceof b||"Optional"===s.ngMetadataName||s===b?o|=k.Optional:s instanceof w||"SkipSelf"===s.ngMetadataName||s===w?o|=k.SkipSelf:s instanceof _||"Self"===s.ngMetadataName||s===_?o|=k.Self:i=s instanceof m||s===m?s.token:s}e.push(ct(i,o))}else e.push(ct(r))}return e}var ft=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt;if(e===nt){var n=new Error("NullInjectorError: No provider for ".concat(R(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),dt=function t(){_classCallCheck(this,t)},pt=function t(){_classCallCheck(this,t)};function vt(t,e){t.forEach((function(t){return Array.isArray(t)?vt(t,e):e(t)}))}function yt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mt(t,e,n){var r=_t(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function bt(t,e){var n=_t(t,e);if(n>=0)return t[1|n]}function _t(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var wt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),kt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Ct={},Ot=[],Et=0;function St(t){return y((function(){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===wt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ot,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||kt.Emulated,id:"c",styles:t.styles||Ot,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,a=t.features,s=t.pipes;return i.id+=Et++,i.inputs=Nt(t.inputs,r),i.outputs=Nt(t.outputs),a&&a.forEach((function(t){return t(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(It)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(Tt)}:null,i}))}function It(t){return Rt(t)||function(t){return t[J]||null}(t)}function Tt(t){return function(t){return t[Z]||null}(t)}var At={};function xt(t){var e={type:t.type,bootstrap:t.bootstrap||Ot,declarations:t.declarations||Ot,imports:t.imports||Ot,exports:t.exports||Ot,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&y((function(){At[t.id]=t.type})),e}function jt(t,e){return y((function(){var n=Lt(t,!0);n.declarations=e.declarations||Ot,n.imports=e.imports||Ot,n.exports=e.exports||Ot}))}function Nt(t,e){if(null==t)return Ct;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var Dt=St;function Pt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Rt(t){return t[K]||null}function Vt(t,e){return t.hasOwnProperty(X)?t[X]:null}function Lt(t,e){var n=t[Y]||null;if(!n&&!0===e)throw new Error("Type ".concat(R(t)," does not have '\u0275mod' property."));return n}function Mt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ut(t){return Array.isArray(t)&&!0===t[1]}function Ft(t){return 0!=(8&t.flags)}function Ht(t){return 2==(2&t.flags)}function qt(t){return 1==(1&t.flags)}function zt(t){return null!==t.template}function Gt(t){return 0!=(512&t[2])}var Bt=void 0;function Wt(t){Bt=t}function Kt(){return void 0!==Bt?Bt:"undefined"!=typeof document?document:void 0}function Jt(t){return!!t.listen}var Zt={createRenderer:function(t,e){return Kt()}};function Yt(t){for(;Array.isArray(t);)t=t[0];return t}function Qt(t,e){return Yt(e[t+20])}function Xt(t,e){return Yt(e[t.index])}function $t(t,e){return t.data[e+20]}function te(t,e){var n=e[t];return Mt(n)?n:n[0]}function ee(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ne(t){return 4==(4&t[2])}function re(t){return 128==(128&t[2])}function ie(t,e){return null===t||null==e?null:t[e]}function oe(t){t[18]=0}function ae(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var se={lFrame:Se(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ue(){return se.bindingsEnabled}function ce(){return se.lFrame.lView}function le(){return se.lFrame.tView}function he(t){se.lFrame.contextLView=t}function fe(){return se.lFrame.previousOrParentTNode}function de(t,e){se.lFrame.previousOrParentTNode=t,se.lFrame.isParent=e}function pe(){return se.lFrame.isParent}function ve(){return se.checkNoChangesMode}function ye(t){se.checkNoChangesMode=t}function ge(){return se.lFrame.bindingIndex++}function me(t){var e=se.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function be(t,e){var n=se.lFrame;n.bindingIndex=n.bindingRootIndex=t,_e(e)}function _e(t){se.lFrame.currentDirectiveIndex=t}function we(){return se.lFrame.currentQueryIndex}function ke(t){se.lFrame.currentQueryIndex=t}function Ce(t,e){var n=Ee();se.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Oe(t,e){var n=Ee(),r=t[1];se.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Ee(){var t=se.lFrame,e=null===t?null:t.child;return null===e?Se(t):e}function Se(t){var e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ie(){var t=se.lFrame;return se.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}var Te=Ie;function Ae(){var t=Ie();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xe(){return se.lFrame.selectedIndex}function je(t){se.lFrame.selectedIndex=t}function Ne(){var t=se.lFrame;return $t(t.tView,t.selectedIndex)}function De(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n];i.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,i.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,i.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,i.onDestroy)}}function Pe(t,e,n){Le(t,e,3,n)}function Re(t,e,n,r){(3&t[2])===n&&Le(t,e,n,r)}function Ve(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Le(t,e,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&t[18]:0;a<e.length;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Me(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Me(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var Ue=function t(e,n,r){_classCallCheck(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Fe(t,e,n){for(var r=Jt(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];qe(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function He(t){return 3===t||4===t||6===t}function qe(t){return 64===t.charCodeAt(0)}function ze(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||Ge(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function Ge(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Be(t){return-1!==t}function We(t){return 32767&t}function Ke(t){return t>>16}function Je(t,e){for(var n=Ke(t),r=e;n>0;)r=r[15],n--;return r}function Ze(t){return"string"==typeof t?t:null==t?"":""+t}function Ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ze(t)}var Qe=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(W);function Xe(t){return t instanceof Function?t():t}var $e=!0;function tn(t){var e=$e;return $e=t,e}var en=0;function nn(t,e){var n=on(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,rn(r.data,t),rn(e,null),rn(r.blueprint,null));var i=an(t,e),o=t.injectorIndex;if(Be(i))for(var a=We(i),s=Je(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function rn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function on(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function an(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[6],r=1;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function sn(t,e,n){!function(t,e,n){var r="string"!=typeof n?n[$]:n.charCodeAt(0)||0;null==r&&(r=n[$]=en++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=e.data;128&i?a?s?u[t+7]|=o:u[t+6]|=o:s?u[t+5]|=o:u[t+4]|=o:a?s?u[t+3]|=o:u[t+2]|=o:s?u[t+1]|=o:u[t]|=o}(t,e,n)}function un(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[$];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){Ce(e,t);try{var a=o();if(null!=a||r&k.Optional)return a;throw new Error("No provider for ".concat(Ye(n),"!"))}finally{Te()}}else if("number"==typeof o){if(-1===o)return new vn(t,e);var s=null,u=on(t,e),c=-1,l=r&k.Host?e[16][6]:null;for((-1===u||r&k.SkipSelf)&&(c=-1===u?an(t,e):e[u+8],pn(r,!1)?(s=e[1],u=We(c),e=Je(c,e)):u=-1);-1!==u;){c=e[u+8];var h=e[1];if(dn(o,u,h.data)){var f=ln(u,e,n,s,r,l);if(f!==cn)return f}pn(r,e[1].data[u+8]===l)&&dn(o,u,e)?(s=h,u=We(c),e=Je(c,e)):u=-1}}}if(r&k.Optional&&void 0===i&&(i=null),0==(r&(k.Self|k.Host))){var d=e[9],p=st(void 0);try{return d?d.get(n,i,r&k.Optional):lt(n,i,r&k.Optional)}finally{st(p)}}if(r&k.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Ye(n),"]"))}var cn={};function ln(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=hn(s,a,n,null==r?Ht(s)&&$e:r!=a&&3===s.type,i&k.Host&&o===s);return null!==u?fn(e,a,u,s):cn}function hn(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=65535&o,u=t.directiveStart,c=o>>16,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&zt(d)&&d.type===n)return u}return null}function fn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Ue){var a=i;if(a.resolving)throw new Error("Circular dep for "+Ye(o[n]));var s,u=tn(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=st(a.injectImpl)),Ce(t,r);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.onChanges,i=e.onInit,o=e.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{a.injectImpl&&st(s),tn(u),a.resolving=!1,Te()}}return i}function dn(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function pn(t,e){return!(t&k.Self||t&k.Host&&e)}var vn=function(){function t(e,n){_classCallCheck(this,t),this._tNode=e,this._lView=n}return _createClass(t,[{key:"get",value:function(t,e){return un(this._tNode,this._lView,t,void 0,e)}}]),t}();function yn(t){var e=t;if(F(t))return function(){var t=yn(U(e));return t?t():null};var n=Vt(e);if(null===n){var r=A(e);n=r&&r.factory}return n||null}function gn(t){return y((function(){for(var e=t.prototype.constructor,n=e[X]||yn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[X]||yn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}}))}function mn(t){return t.ngDebugContext}function bn(t){return t.ngOriginalError}function _n(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var wn=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||_n}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?mn(t)?mn(t):this._findContext(bn(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=bn(t);e&&bn(e);)e=bn(e);return e}}]),t}(),kn=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),t}(),Cn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(kn),On=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(kn),En=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(kn),Sn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(kn),In=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(kn);function Tn(t){return t instanceof kn?t.changingThisBreaksApplicationSecurity:t}function An(t,e){var n=xn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}function xn(t){return t instanceof kn&&t.getTypeName()||null}function jn(t){return new Cn(t)}function Nn(t){return new On(t)}function Dn(t){return new En(t)}function Pn(t){return new Sn(t)}function Rn(t){return new In(t)}var Vn=!0,Ln=!1;function Mn(){return Ln=!0,Vn}function Un(){if(Ln)throw new Error("Cannot enable prod mode after platform setup.");Vn=!1}var Fn=function(){function t(e){_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;var n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),Hn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,qn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zn(t){return(t=String(t)).match(Hn)||t.match(qn)?t:(Mn()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function Gn(t){var e,n={},r=_createForOfIteratorHelper(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Bn(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var Wn,Kn=Gn("area,br,col,hr,img,wbr"),Jn=Gn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zn=Gn("rp,rt"),Yn=Bn(Zn,Jn),Qn=Bn(Kn,Bn(Jn,Gn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bn(Zn,Gn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yn),Xn=Gn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$n=Gn("srcset"),tr=Bn(Xn,$n,Gn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),er=Gn("script,style,template"),nr=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!Qn.hasOwnProperty(e))return this.sanitizedSomething=!0,!er.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(tr.hasOwnProperty(s)){var u=o.value;Xn[s]&&(u=zn(u)),$n[s]&&(n=u,u=(n=String(n)).split(",").map((function(t){return zn(t.trim())})).join(", ")),this.buf.push(" ",a,'="',or(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();Qn.hasOwnProperty(e)&&!Kn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(or(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),rr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ir=/([^\#-~ |!])/g;function or(t){return t.replace(/&/g,"&amp;").replace(rr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(ir,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ar(t,e){var n=null;try{Wn=Wn||new Fn(t);var r=e?String(e):"";n=Wn.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Wn.getInertBodyElement(r)}while(r!==o);var a=new nr,s=a.sanitizeChildren(sr(n)||n);return Mn()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=sr(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function sr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ur=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),cr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),lr=/^url\(([^)]+)\)$/;function hr(t){if(!(t=String(t).trim()))return"";var e=t.match(lr);return e&&zn(e[1])===e[1]||t.match(cr)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Mn()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}function fr(t){var e=pr();return e?e.sanitize(ur.HTML,t)||"":An(t,"HTML")?Tn(t):ar(Kt(),Ze(t))}function dr(t){var e=pr();return e?e.sanitize(ur.URL,t)||"":An(t,"URL")?Tn(t):zn(Ze(t))}function pr(){var t=ce();return t&&t[12]}function vr(t,e){t.__ngContext__=e}function yr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function gr(){throw new Error("Cannot mix multi providers and regular providers")}function mr(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function br(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==mr((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function _r(t){return 0===t.type&&"ng-template"!==t.tagName}function wr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function kr(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(He(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!wr(t,u,n)||""===u&&1===e.length){if(Cr(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!br(t.attrs,c,n)){if(Cr(r))return!1;a=!0}continue}var l=Or(8&r?"class":u,i,_r(t),n);if(-1===l){if(Cr(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==mr(f,c,0)||2&r&&c!==h){if(Cr(r))return!1;a=!0}}}}else{if(!a&&!Cr(r)&&!Cr(u))return!1;if(a&&Cr(u))continue;a=!1,r=u|1&r}}return Cr(r)||a}function Cr(t){return 0==(1&t)}function Or(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Er(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(kr(t,e[r],n))return!0;return!1}function Sr(t,e){return t?":not("+e.trim()+")":e}function Ir(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Cr(a)||(e+=Sr(o,i),i=""),r=a,o=o||!Cr(r);n++}return""!==i&&(e+=Sr(o,i)),e}var Tr={};function Ar(t){var e=t[3];return Ut(e)?e[3]:e}function xr(t){return Nr(t[13])}function jr(t){return Nr(t[4])}function Nr(t){for(;null!==t&&!Ut(t);)t=t[4];return t}function Dr(t){Pr(le(),ce(),xe()+t,ve())}function Pr(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Pe(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Re(e,o,0,n)}je(n)}function Rr(t,e){return t<<17|e<<2}function Vr(t){return t>>17&32767}function Lr(t){return 2|t}function Mr(t){return(131068&t)>>2}function Ur(t,e){return-131069&t|e<<2}function Fr(t){return 1|t}function Hr(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];ke(i),a.contentQueries(2,e[o],o)}}}function qr(t,e,n){return Jt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function zr(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,oe(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Gr(t,e,n,r,i,o){var a=n+20,s=t.data[a]||function(t,e,n,r,i,o){var a=fe(),s=pe(),u=s?a:a&&a.parent,c=t.data[n]=$r(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),a&&(!s||null!=a.child||null===c.parent&&2!==a.type?s||(a.next=c):a.child=c),c}(t,e,a,r,i,o);return de(s,!0),s}function Br(t,e,n){Oe(e,e[6]);try{var r=t.viewQuery;null!==r&&wi(1,r,n);var i=t.template;null!==i&&Jr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Hr(t,e),t.staticViewQueries&&wi(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)yi(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,Ae()}}function Wr(t,e,n,r){var i=e[2];if(256!=(256&i)){Oe(e,e[6]);var o=ve();try{oe(e),se.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Jr(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&Pe(e,s,null)}else{var u=t.preOrderHooks;null!==u&&Re(e,u,0,null),Ve(e,0)}if(function(t){for(var e=xr(t);null!==e;e=jr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&ae(o,1),i[2]|=1024}}(e),function(t){for(var e=xr(t);null!==e;e=jr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];re(r)&&Wr(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Hr(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&Pe(e,c)}else{var l=t.contentHooks;null!==l&&Re(e,l,1),Ve(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var r=t.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(je(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(be(r,i),a(2,e[i])),i++)}}finally{je(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)vi(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&wi(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&Pe(e,d)}else{var p=t.viewHooks;null!==p&&Re(e,p,2),Ve(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ae(e[3],-1))}finally{Ae()}}}function Kr(t,e,n,r){var i=e[10],o=!ve(),a=ne(e);try{o&&!a&&i.begin&&i.begin(),a&&Br(t,e,r),Wr(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Jr(t,e,n,r,i){var o=xe();try{je(-1),2&r&&e.length>20&&Pr(t,e,0,ve()),n(r,i)}finally{je(o)}}function Zr(t,e,n){ue()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||nn(n,e),vr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=zt(u);c&&hi(e,n,u);var l=fn(e,t,s,n);vr(l,e),null!==a&&fi(0,s-i,l,u,0,a),c&&(te(n.index,e)[8]=l)}}(t,e,n,Xt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,a=t.firstCreatePass,s=n.index-20,u=se.lFrame.currentDirectiveIndex;try{je(s);for(var c=r;c<i;c++){var l=t.data[c],h=e[c];_e(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?oi(l,h):a&&o.push(null)}}finally{je(-1),_e(u)}}(t,e,n))}function Yr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function Qr(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Xr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Xr(t,e,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:Tr);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function $r(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ti(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ei(t,e,n,r,i,o,a,s){var u,c=Xt(e,n),l=e.inputs;!s&&null!=l&&(u=l[r])?(Si(t,n,u,r,i),Ht(e)&&function(t,e){var n=te(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=a?a(i,e.tagName||"",r):i,Jt(o)?o.setProperty(c,r,i):qe(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function ni(t,e,n,r){var i=!1;if(ue()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Er(n,a.selectors,!1)&&(i||(i=[]),sn(nn(n,e),t,a.type),zt(a)?(2&n.flags&&yr(n),si(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,ci(n,t.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}ai(t,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=ze(n.mergedAttrs,d.hostAttrs),li(t,e,d),ui(t.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),l=!0),h||!d.onChanges&&!d.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),h=!0),ri(t,d),s+=d.hostVars}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||_r(e)?null:di(l,i);o.push(h),a=ti(l,u,a),s=ti(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n),ii(t,e,s)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=ze(n.mergedAttrs,n.attrs),i}function ri(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ii(t,e,n){for(var r=0;r<n;r++)e.push(Tr),t.blueprint.push(Tr),t.data.push(null)}function oi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ai(t,e,n){var r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function si(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ui(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;zt(e)&&(n[""]=t)}}function ci(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function li(t,e,n){t.data.push(n);var r=n.factory||(n.factory=Vt(n.type)),i=new Ue(r,zt(n),null);t.blueprint.push(i),e.push(i)}function hi(t,e,n){var r=Xt(e,t),i=Qr(n),o=t[10],a=gi(t,zr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=a}function fi(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function di(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function pi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function vi(t,e){var n=te(e,t);if(re(n)){var r=n[1];80&n[2]?Wr(r,n,r.template,n[8]):n[5]>0&&function t(e){for(var n=xr(e);null!==n;n=jr(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];Wr(o,i,o.template,i[8])}else i[5]>0&&t(i)}var a=e[1].components;if(null!==a)for(var s=0;s<a.length;s++){var u=te(a[s],e);re(u)&&u[5]>0&&t(u)}}(n)}}function yi(t,e){var n=te(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Br(r,n,n[8])}function gi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function mi(t){for(;t;){t[2]|=64;var e=Ar(t);if(Gt(t)&&!e)return t;t=e}return null}function bi(t,e,n){var r=e[10];r.begin&&r.begin();try{Wr(t,e,t.template,n)}catch(i){throw Ei(e,i),i}finally{r.end&&r.end()}}function _i(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=ee(n),i=r[1];Kr(i,r,i.template,n)}}(t[8])}function wi(t,e,n){ke(0),e(t,n)}var ki=Promise.resolve(null);function Ci(t){return t[7]||(t[7]=[])}function Oi(t){return t.cleanup||(t.cleanup=[])}function Ei(t,e){var n=t[9],r=n?n.get(wn,null):null;r&&r.handleError(e)}function Si(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function Ii(t,e){var n=e[3];return-1===t.index?Ut(n)?n:null:n}function Ti(t,e){var n=Ii(t,e);return n?Ui(e[11],n[7]):null}function Ai(t,e,n,r,i){if(null!=r){var o,a=!1;Ut(r)?o=r:Mt(r)&&(a=!0,r=r[0]);var s=Yt(r);0===t&&null!==n?null==i?Li(e,n,s):Vi(e,n,s,i||null):1===t&&null!==n?Vi(e,n,s,i||null):2===t?function(t,e,n){var r=Ui(t,e);r&&function(t,e,n,r){Jt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Yt(n)&&Ai(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];zi(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function xi(t,e,n,r){var i=Ti(t.node,e);i&&zi(t,e,e[11],n?1:2,i,r)}function ji(t,e){var n=t[9],r=n.indexOf(e);1024&e[2]&&ae(e[3],-1),n.splice(r,1)}function Ni(t,e){if(!(t.length<=10)){var n=10+e,r=t[n];if(r){var i=r[17];null!==i&&i!==t&&ji(i,r),e>0&&(t[n-1][4]=r[4]);var o=gt(t,10+e);xi(r[1],r,!1,null);var a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Di(t,e){if(!(256&e[2])){var n=e[11];Jt(n)&&n.destroyNode&&zi(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Ri(t[1],t);for(;e;){var n=null;if(Mt(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Mt(e)&&Ri(e[1],e),e=Pi(e,t);null===e&&(e=t),Mt(e)&&Ri(e[1],e),n=e&&e[4]}e=n}}(e)}}function Pi(t,e){var n;return Mt(t)&&(n=t[6])&&2===n.type?Ii(n,t):t[3]===e?null:t[3]}function Ri(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Ue)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(e):Yt(e[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);e[7]=null}}(t,e);var n=e[6];n&&3===n.type&&Jt(e[11])&&e[11].destroy();var r=e[17];if(null!==r&&Ut(e[3])){r!==e[3]&&ji(r,e);var i=e[19];null!==i&&i.detachView(t)}}}function Vi(t,e,n,r){Jt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Li(t,e,n){Jt(t)?t.appendChild(e,n):e.appendChild(n)}function Mi(t,e,n,r){null!==r?Vi(t,e,n,r):Li(t,e,n)}function Ui(t,e){return Jt(t)?t.parentNode(e):e.parentNode}function Fi(t,e,n,r){var i=function(t,e,n){for(var r=e.parent;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){var i=n[6];return 2===i.type?Ti(i,n):n[0]}if(e&&5===e.type&&4&e.flags)return Xt(e,n).parentNode;if(2&r.flags){var o=t.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==kt.ShadowDom&&a!==kt.Native)return null}return Xt(r,n)}(t,r,e);if(null!=i){var o=e[11],a=function(t,e){if(2===t.type){var n=Ii(t,e);return null===n?null:Hi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Xt(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(var s=0;s<n.length;s++)Mi(o,i,n[s],a);else Mi(o,i,n,a)}}function Hi(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){var r=n.type;if(3===r)return Xt(n,e);if(0===r)return Hi(-1,e[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return t(e,i);var o=e[n.index];return Ut(o)?Hi(-1,o):Yt(o)}var a=e[16],s=a[6],u=Ar(a),c=s.projection[n.projection];return null!=c?t(u,c):t(e,n.next)}return null}(r,i)}return e[7]}function qi(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===e&&(s&&vr(Yt(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(qi(t,e,n.child,r,i,o,!1),Ai(e,t,i,s,o)):1===u?Gi(t,e,r,n,i,o):Ai(e,t,i,s,o)),n=a?n.projectionNext:n.next}}function zi(t,e,n,r,i,o){qi(n,r,t.node.child,e,i,o,!1)}function Gi(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Ai(e,t,i,s[u],o);else qi(t,e,s,a[3],i,o,!0)}function Bi(t,e,n){Jt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Wi(t,e,n){Jt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var Ki,Ji,Zi,Yi=function(){function t(e,n){_classCallCheck(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Di(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){var e,n,r;e=this._lView[1],r=t,Ci(n=this._lView).push(r),e.firstCreatePass&&Oi(e).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){mi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){bi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){ye(!0);try{bi(t,e,n)}finally{ye(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,zi(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView;return null==t[0]?function t(e,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(Yt(a)),Ut(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&t(u[1],u,c,i)}var l=r.type;if(4===l||5===l)t(e,n,r.child,i);else if(1===l){var h=n[16],f=h[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,_toConsumableArray(f));else{var d=Ar(h);t(d[1],d,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),Qi=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t))._view=t,r}return _createClass(n,[{key:"detectChanges",value:function(){_i(this._view)}},{key:"checkNoChanges",value:function(){!function(t){ye(!0);try{_i(t)}finally{ye(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Yi);function Xi(t,e,n){return Ki||(Ki=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(t)),new Ki(Xt(e,n))}function $i(t,e,n,r){return Ji||(Ji=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._declarationView=t,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=zr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Br(e,n,t),new Yi(n)}}]),n}(t)),0===n.type?new Ji(r,n,Xi(e,n,r)):null}function to(t,e,n,r){var i;Zi||(Zi=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,e,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=t,o._hostTNode=e,o._hostView=i,o}return _createClass(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(dt,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ut(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],a=new Zi(o,o[6],o[3]);a.detach(a.indexOf(t))}}var s=this._adjustIndex(e);return function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],yt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,n,this._lContainer,s),xi(r,n,!0,Hi(s,this._lContainer)),t.attachToViewContainerRef(this),yt(this._lContainer[8],s,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1);!function(t,e){var n=Ni(t,e);n&&Di(n[1],n)}(this._lContainer,e),gt(this._lContainer[8],e)}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=Ni(this._lContainer,e);return n&&null!=gt(this._lContainer[8],e)?new Yi(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return Xi(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new vn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=an(this._hostTNode,this._hostView),e=Je(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=Ke(t),a=e,s=e[6];o>1;)s=(a=a[15])[6],o--;return s}(t,this._hostView,this._hostTNode);return Be(t)&&null!=n?new vn(n,e):new vn(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(t));var o=r[n.index];if(Ut(o))i=o;else{var a;if(4===n.type)a=Yt(o);else if(a=r[11].createComment(""),Gt(r)){var s=r[11],u=Xt(n,r);Vi(s,Ui(s,u),a,function(t,e){return Jt(t)?t.nextSibling(e):e.nextSibling}(s,u))}else Fi(r[1],r,a,n);r[n.index]=i=pi(o,r,a,n),gi(r,i)}return new Zi(i,n,r)}function eo(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Ht(t)){var r=te(t.index,e);return new Yi(r,r)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Yi(e[16],e):null}(fe(),ce(),t)}var no=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return ro()},t}(),ro=eo,io=new tt("Set Injector scope."),oo={},ao={},so=[],uo=void 0;function co(){return void 0===uo&&(uo=new ft),uo}function lo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new ho(t,n,e||co(),r)}var ho=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&vt(n,(function(t){return i.processProvider(t,e,n)})),vt([e],(function(t){return i.processInjectorType(t,[],a)})),this.records.set(et,vo(void 0,this));var s=this.records.get(io);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:R(e))}return _createClass(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Default;this.assertNotDestroyed();var r,i=at(this);try{if(!(n&k.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof tt)&&I(t);o=a&&this.injectableDefInScope(a)?vo(fo(t),oo):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&k.Self?co():this.parent).get(t,e=n&k.Optional&&e===nt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(R(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=R(e);if(Array.isArray(e))i=e.map(R).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):R(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(rt,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{at(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(R(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=U(t)))return!1;var i=A(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=A(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{vt(i.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))}))}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;vt(i,(function(t){return r.processProvider(t,n,i||so)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,vo(i.factory,oo));var h=i.providers;if(null!=h&&!s){var f=t;vt(h,(function(t){return r.processProvider(t,f,h)}))}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=go(t=U(t))?t:U(t&&t.provide),i=function(t,e,n){return yo(t)?vo(void 0,t.useValue):vo(po(t,e,n),oo)}(t,e,n);if(go(t)||!0!==t.multi){var o=this.records.get(r);o&&void 0!==o.multi&&gr()}else{var a=this.records.get(r);a?void 0===a.multi&&gr():((a=vo(void 0,oo,!0)).factory=function(){return ht(a.multi)},this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===ao?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(R(t)):e.value===oo&&(e.value=ao,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function fo(t){var e=I(t),n=null!==e?e.factory:Vt(t);if(null!==n)return n;var r=A(t);if(null!==r)return r.factory;if(t instanceof tt)throw new Error("Token ".concat(R(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=function(t,e){for(var n=[],r=0;r<t;r++)n.push("?");return n}(e);throw new Error("Can't resolve all parameters for ".concat(R(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[x]||t[D]||t[N]&&t[N]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function po(t,e,n){var r,i=void 0;if(go(t)){var o=U(t);return Vt(o)||fo(o)}if(yo(t))i=function(){return U(t.useValue)};else if((r=t)&&r.useFactory)i=function(){return t.useFactory.apply(t,_toConsumableArray(ht(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return ct(U(t.useExisting))};else{var a=U(t&&(t.useClass||t.provide));if(a||function(t,e,n){var r="";throw t&&e&&(r=" - only instances of Provider and Type are allowed, got: [".concat(e.map((function(t){return t==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(R(t),"'")+r)}(e,n,t),!function(t){return!!t.deps}(t))return Vt(a)||fo(a);i=function(){return _construct(a,_toConsumableArray(ht(t.deps)))}}return i}function vo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function yo(t){return null!==t&&"object"==typeof t&&it in t}function go(t){return"function"==typeof t}var mo=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=lo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},bo=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?mo(t,e,""):mo(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=nt,t.NULL=new ft,t.\u0275prov=E({token:t,providedIn:"any",factory:function(){return ct(et)}}),t.__NG_ELEMENT_ID__=-1,t}(),_o=new tt("AnalyzeForEntryComponents"),wo=new Map,ko=new Set;function Co(t){return"string"==typeof t?t:t.text()}function Oo(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=V(i,s):2==o&&(r=V(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Eo=null;function So(){if(!Eo){var t=W.Symbol;if(t&&t.iterator)Eo=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Eo=r)}}return Eo}function Io(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}var To=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Ao(t){return!!xo(t)&&(Array.isArray(t)||!(t instanceof Map)&&So()in t)}function xo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function jo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function No(t,e,n,r){var i=ce();return jo(i,ge(),e)&&(le(),function(t,e,n,r,i,o){var a=Xt(t,e),s=e[11];if(null==r)Jt(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var u=null==i?Ze(r):i(r,t.tagName||"",n);Jt(s)?s.setAttribute(a,n,u,o):o?a.setAttributeNS(o,n,u):a.setAttribute(n,u)}}(Ne(),i,t,e,n,r)),No}function Do(t,e,n,r,i,o,a,s){var u=ce(),c=le(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=Gr(e,n[6],t,0,a||null,ie(c,s));ni(e,n,l,ie(c,u)),De(e,l);var h=l.tViews=Xr(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=$r(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,a):c.data[l];de(h,!1);var f=u[11].createComment("");Fi(c,u,f,h),vr(f,u),gi(u,u[l]=pi(f,u,f,h)),qt(h)&&Zr(c,u,h),null!=a&&Yr(u,h,s)}function Po(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default,n=ce();return null==n?ct(t,e):un(fe(),n,U(t),e)}function Ro(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(He(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(fe(),t)}function Vo(){throw new Error("invalid")}function Lo(t,e,n){var r=ce();return jo(r,ge(),e)&&ei(le(),Ne(),r,t,e,r[11],n,!1),Lo}function Mo(t,e,n,r,i){var o=i?"class":"style";Si(t,n,e.inputs[o],o,r)}function Uo(t,e,n,r){var i=ce(),o=le(),a=20+t,s=i[11],u=i[a]=qr(e,s,se.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=ie(s,o),c=Gr(e,n[6],t,3,i,u);return ni(e,n,c,ie(s,a)),null!==c.attrs&&Oo(c,c.attrs,!1),null!==c.mergedAttrs&&Oo(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[a];de(c,!0);var l=c.mergedAttrs;null!==l&&Fe(s,u,l);var h=c.classes;null!==h&&Wi(s,u,h);var f=c.styles;null!==f&&Bi(s,u,f),Fi(o,i,u,c),0===se.lFrame.elementDepthCount&&vr(u,i),se.lFrame.elementDepthCount++,qt(c)&&(Zr(o,i,c),function(t,e,n){if(Ft(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,c,i)),null!==r&&Yr(i,c)}function Fo(){var t=fe();pe()?se.lFrame.isParent=!1:de(t=t.parent,!1);var e=t;se.lFrame.elementDepthCount--;var n=le();n.firstCreatePass&&(De(n,t),Ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Mo(n,e,ce(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Mo(n,e,ce(),e.stylesWithoutHost,!1)}function Ho(t,e,n,r){Uo(t,e,n,r),Fo()}function qo(){return ce()}function zo(t){return!!t&&"function"==typeof t.then}function Go(t){return!!t&&"function"==typeof t.subscribe}function Bo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=ce(),o=le(),a=fe();return function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=qt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Ci(e),h=!0;if(3===r.type){var f=Xt(r,e),d=s?s(f):Ct,p=d.target||f,v=l.length,y=s?function(t){return s(Yt(t[r.index])).target}:r.index;if(Jt(n)){var g=null;if(!s&&u&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=Ko(r,e,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=Ko(r,e,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,y,v,a)}var b,_=r.outputs;if(h&&null!==_&&(b=_[i])){var w=b.length;if(w)for(var k=0;k<w;k+=2){var C=e[b[k]][b[k+1]].subscribe(o),O=l.length;l.push(o,C),c&&c.push(i,r.index,O,-(O+1))}}}(o,i,i[11],a,t,e,n,r),Bo}function Wo(t,e,n){try{return!1!==e(n)}catch(r){return Ei(t,r),!1}}function Ko(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?te(t.index,e):e;0==(32&e[2])&&mi(a);for(var s=Wo(e,n,o),u=i.__ngNextListenerFn__;u;)s=Wo(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Jo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(se.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,se.lFrame.contextLView))[8]}(t)}var Zo=[];function Yo(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?Vr(o):Mr(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];Qo(t[s],e)&&(u=!0,t[s+1]=r?Fr(c):Lr(c)),s=r?Vr(c):Mr(c)}u&&(t[n+1]=r?Lr(o):Fr(o))}function Qo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&_t(t,e)>=0}var Xo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $o(t){return t.substring(Xo.key,Xo.keyEnd)}function ta(t,e){var n=Xo.textEnd;return n===e?-1:(e=Xo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Xo.key=e,n),ea(t,e,n))}function ea(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function na(t,e){return function(t,e,n,r){var i,o,a=ce(),s=le(),u=me(2);(s.firstUpdatePass&&aa(s,t,u,!0),e!==Tr&&jo(a,u,e))&&(null==n&&(i=null===(o=se.lFrame)?null:o.currentSanitizer)&&(n=i),ca(s,s.data[xe()+20],a,a[11],t,a[u+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=R(Tn(t)))),t}(e,n),!0,u))}(t,e,null),na}function ra(t){!function(t,e,n,r){var i=le(),o=me(2);i.firstUpdatePass&&aa(i,null,o,!0);var a=ce();if(n!==Tr&&jo(a,o,n)){var s=i.data[xe()+20];if(fa(s,!0)&&!oa(i,o)){var u=s.classesWithoutHost;null!==u&&(n=V(u,n||"")),Mo(i,s,a,n,!0)}else!function(t,e,n,r,i,o,a,s){i===Tr&&(i=Zo);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=null,v=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,v=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,v=d),null!==p&&ca(t,e,n,r,p,v,!0,s),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return Zo;var r=[],i=Tn(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&t(r,a,i[a]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(mt,ia,t)}function ia(t,e){for(var n=function(t){return function(t){Xo.key=0,Xo.keyEnd=0,Xo.value=0,Xo.valueEnd=0,Xo.textEnd=t.length}(t),ta(t,ea(t,0,Xo.textEnd))}(e);n>=0;n=ta(e,n))mt(t,$o(e),!0)}function oa(t,e){return e>=t.expandoStartIndex}function aa(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[xe()+20],a=oa(t,n);fa(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=se.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ua(n=sa(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=sa(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==Mr(r))return t[Vr(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[Vr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=ua(s=sa(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=ua(r,t[o].hostAttrs,n);return ua(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=Vr(a),u=Mr(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||_t(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=Vr(t[s+1]);t[r+1]=Rr(f,s),0!==f&&(t[f+1]=Ur(t[f+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=Rr(s,0),0!==s&&(t[s+1]=Ur(t[s+1],r)),s=r;else t[r+1]=Rr(u,0),0===s?s=r:t[u+1]=Ur(t[u+1],r),u=r;l&&(t[r+1]=Lr(t[r+1])),Yo(t,c,r,!0),Yo(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&_t(o,e)>=0&&(n[r+1]=Fr(n[r+1]))}(e,c,t,r,o),a=Rr(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}function sa(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=ua(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function ua(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),mt(t,a,!!n||e[++o]))}return void 0===t?null:t}function ca(t,e,n,r,i,o,a,s){if(3===e.type){var u=t.data,c=u[s+1];ha(1==(1&c)?la(u,e,n,i,Mr(c),a):void 0)||(ha(o)||2==(2&c)&&(o=la(u,null,n,i,s,a)),function(t,e,n,r,i){var o=Jt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,a):n.style.removeProperty(r):o?t.setStyle(n,r,i,a):n.style.setProperty(r,i)}}(r,a,Qt(xe(),n),i,o))}}function la(t,e,n,r,i,o){for(var a=null===e,s=void 0;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===Tr&&(f=h?Zo:void 0);var d=h?bt(f,r):l===r?f:void 0;if(c&&!ha(d)&&(d=bt(u,r)),ha(d)&&(s=d,a))return s;var p=t[i+1];i=a?Vr(p):Mr(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(s=bt(v,r))}return s}function ha(t){return void 0!==t}function fa(t,e){return 0!=(t.flags&(e?16:32))}function da(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=ce(),r=le(),i=t+20,o=r.firstCreatePass?Gr(r,n[6],t,3,null,null):r.data[i],a=n[i]=function(t,e){return Jt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Fi(r,n,a,o),de(o,!1)}function pa(t){return va("",t,""),pa}function va(t,e,n){var r=ce(),i=function(t,e,n,r){return jo(t,ge(),n)?e+Ze(n)+r:Tr}(r,t,e,n);return i!==Tr&&function(t,e,n){var r=Qt(e,t),i=t[11];Jt(i)?i.setValue(r,n):r.textContent=n}(r,xe(),i),va}function ya(t,e,n){var r=ce();return jo(r,ge(),e)&&ei(le(),Ne(),r,t,e,r[11],n,!0),ya}function ga(t,e){var n=ee(t)[1],r=n.data.length-1;De(n,{directiveStart:r,directiveEnd:r+1})}function ma(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(zt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=ba(t.inputs),o.declaredInputs=ba(t.declaredInputs),o.outputs=ba(t.outputs);var a=i.hostBindings;a&&ka(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&_a(t,s),u&&wa(t,u),O(t.inputs,i.inputs),O(t.declaredInputs,i.declaredInputs),O(t.outputs,i.outputs),zt(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=t.afterContentInit||i.afterContentInit,o.afterViewChecked=t.afterViewChecked||i.afterViewChecked,o.afterViewInit=t.afterViewInit||i.afterViewInit,o.doCheck=t.doCheck||i.doCheck,o.onDestroy=t.onDestroy||i.onDestroy,o.onInit=t.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===ma&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ze(i.hostAttrs,n=ze(n,i.hostAttrs))}}(r)}function ba(t){return t===Ct?{}:t===Ot?[]:t}function _a(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function wa(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function ka(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var Ca=function(){function t(e,n,r){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Oa(t){t.type.prototype.ngOnChanges&&(t.setInput=Ea,t.onChanges=function(){var t=Sa(this),e=t&&t.current;if(e){var n=t.previous;if(n===Ct)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}})}function Ea(t,e,n,r){var i=Sa(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Ct,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Ca(u&&u.currentValue,e,a===Ct),t[r]=e}function Sa(t){return t.__ngSimpleChanges__||null}function Ia(t,e,n,r,i){if(t=U(t),Array.isArray(t))for(var o=0;o<t.length;o++)Ia(t[o],e,n,r,i);else{var a=le(),s=ce(),u=go(t)?t:U(t.provide),c=po(t),l=fe(),h=65535&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>16;if(go(t)||!t.multi){var p=new Ue(c,i,Po),v=xa(u,e,i?h:h+d,f);-1===v?(sn(nn(l,s),a,u),Ta(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var y=xa(u,e,h+d,f),g=xa(u,e,h,h+d),m=y>=0&&n[y],b=g>=0&&n[g];if(i&&!b||!i&&!m){sn(nn(l,s),a,u);var _=function(t,e,n,r,i){var o=new Ue(t,n,Po);return o.multi=[],o.index=e,o.componentProviders=0,Aa(o,i,r&&!n),o}(i?Na:ja,n.length,i,r,c);!i&&b&&(n[g].providerFactory=_),Ta(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(_),s.push(_)}else Ta(a,t,y>-1?y:g,Aa(n[i?g:y],c,!i&&r));!i&&r&&b&&n[g].componentProviders++}}}function Ta(t,e,n,r){var i=go(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function Aa(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function xa(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function ja(t,e,n,r){return Da(this.multi,[])}function Na(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=fn(n,n[1],this.providerFactory.index,r);Da(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else Da(o,i=[]);return i}function Da(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Pa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=le();if(r.firstCreatePass){var i=zt(t);Ia(n,r.data,r.blueprint,i,!0),Ia(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}Oa.ngInherit=!0;var Ra=function t(){_classCallCheck(this,t)},Va=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(R(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),La=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new Va,t}(),Ma=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return Ua(t)},t}(),Ua=function(t){return Xi(t,fe(),ce())},Fa=function t(){_classCallCheck(this,t)},Ha=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),qa=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return za()},t}(),za=function(){var t=ce(),e=te(fe().index,t);return function(t){var e=t[11];if(Jt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Mt(e)?e:t)},Ga=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275prov=E({token:t,providedIn:"root",factory:function(){return null}}),t}(),Ba=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Wa=new Ba("9.1.13"),Ka=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return Ao(t)}},{key:"create",value:function(t){return new Za(t)}}]),t}(),Ja=function(t,e){return e},Za=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ja}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<$a(n,r,i)?e:n,a=$a(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Ao(t))throw new Error("Error trying to diff '".concat(R(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Io(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Io(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[So()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&Io(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Io(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Io(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Io(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ya(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Xa),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),Ya=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Qa=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Io(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Xa=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Qa,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function $a(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var ts=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||xo(t)}},{key:"create",value:function(){return new es}}]),t}(),es=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||xo(t)))throw new Error("Error trying to diff '".concat(R(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new ns(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Io(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),ns=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},rs=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new b]]}}}]),t}();return t.\u0275prov=E({token:t,providedIn:"root",factory:function(){return new t([new Ka])}}),t}(),is=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new b]]}}}]),t}();return t.\u0275prov=E({token:t,providedIn:"root",factory:function(){return new t([new ts])}}),t}(),os=[new ts],as=new rs([new Ka]),ss=new is(os),us=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return cs(t,Ma)},t}(),cs=function(t,e){return $i(t,e,fe(),ce())},ls=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return hs(t,Ma)},t}(),hs=function(t,e){return to(t,e,fe(),ce())},fs={},ds=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).ngModule=t,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(t){var e=Rt(t);return new ys(e,this.ngModule)}}]),n}(La);function ps(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var vs=new tt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Qe}}),ys=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(Ir).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,fs,i);return o!==fs||r===fs?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(Fa,Zt),u=a.get(Ga,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Jt(t))return t.selectRootElement(e,n===kt.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):qr(l,s.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:Qe,clean:ki,playerHandler:null,flags:0},v=Xr(0,-1,null,1,0,null,null,null,null,null),y=zr(null,v,p,f,null,null,s,c,u,a);Oe(y,null);try{var g=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=Gr(a,null,0,3,null,null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(Oo(s,u,!0),null!==t&&(Fe(i,t,u),null!==s.classes&&Wi(i,t,s.classes),null!==s.styles&&Bi(i,t,s.styles)));var c=r.createRenderer(t,e),l=zr(n,Qr(e),null,e.onPush?64:16,n[20],s,r,c,void 0);return a.firstCreatePass&&(sn(nn(s,n),a,e.type),si(a,s),ci(s,n.length,1)),gi(n,l),n[20]=l}(h,this.componentDef,y,s,c);if(h)if(n)Fe(c,h,["ng-version",Wa.full]);else{var m=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Cr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),b=m.attrs,_=m.classes;b&&Fe(c,h,b),_&&_.length>0&&Wi(c,h,_.join(" "))}if(o=$t(v,0),void 0!==e)for(var w=o.projection=[],k=0;k<this.ngContentSelectors.length;k++){var C=e[k];w.push(null!=C?Array.from(C):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=fe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ai(t,r,1),li(t,e,n));var i=fn(e,t,e.length-1,r);vr(i,e);var o=Xt(r,e);return o&&vr(o,e),i}(o,n,e);r.components.push(a),t[8]=a,i&&i.forEach((function(t){return t(a,e)})),e.contentQueries&&e.contentQueries(1,a,n.length-1);var s=fe();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){je(s.index-20);var u=n[1];ri(u,e),ii(u,n,e.hostVars),oi(e,a)}return a}(g,this.componentDef,y,p,[ga]),Br(v,y,null)}finally{Ae()}var O=new gs(this.componentType,i,Xi(Ma,o,y),y,o);return n&&!d||(v.node.child=o),O}},{key:"inputs",get:function(){return ps(this.componentDef.inputs)}},{key:"outputs",get:function(){return ps(this.componentDef.outputs)}}]),n}(Ra),gs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s,u,c,l;return _classCallCheck(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new Qi(o),u=o[1],c=o,null==(l=u.node)&&(u.node=l=$r(0,null,2,-1,null,null)),c[6]=l,s.componentType=t,s}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new vn(this._tNode,this._rootLView)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),ms=void 0,bs=["en",[["a","p"],["AM","PM"],ms],[["AM","PM"],ms,ms],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ms,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ms,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ms,"{1} 'at' {0}",ms],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],_s={};function ws(t,e,n){"string"!=typeof e&&(n=e,e=t[Ss.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),_s[e]=t,n&&(_s[e][Ss.ExtraData]=n)}function ks(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=Es(e);if(n)return n;var r=e.split("-")[0];if(n=Es(r))return n;if("en"===r)return bs;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function Cs(t){return ks(t)[Ss.CurrencyCode]||null}function Os(t){return ks(t)[Ss.PluralCase]}function Es(t){return t in _s||(_s[t]=W.ng&&W.ng.common&&W.ng.common.locales&&W.ng.common.locales[t]),_s[t]}var Ss=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();function Is(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var Ts=new Map,As=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;_classCallCheck(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new ds(_assertThisInitialized(i));var o=Lt(t),a=t[Q]||null;return a&&Is(a),i._bootstrapComponents=Xe(o.bootstrap),i._r3Injector=lo(t,r,[{provide:dt,useValue:_assertThisInitialized(i)},{provide:La,useValue:i.componentFactoryResolver}],R(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return _createClass(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Default;return t===bo||t===dt||t===et?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(dt),xs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).moduleType=t,null!==Lt(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(R(e)," vs ").concat(R(e.name)))})(n,Ts.get(n),e),Ts.set(n,e)}var r=e.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(t),r}return _createClass(n,[{key:"create",value:function(t){return new As(this.moduleType,t)}}]),n}(pt),js=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(t=e.call(this)).__isAsync=r,t}return _createClass(n,[{key:"emit",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var o,a=function(t){return null},s=function(){return null};t&&"object"==typeof t?(o=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(a=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(a=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,o,a,s);return t instanceof i.a&&t.add(u),u}}]),n}(r.a);function Ns(){return this._results[So()]()}var Ds=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new js,this.length=0;var e=So(),n=t.prototype;n[e]||(n[e]=Ns)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Ps=function(){function t(e){_classCallCheck(this,t),this.queryList=e,this.matches=null}return _createClass(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),Rs=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Bs(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Vs=function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.predicate=e,this.descendants=n,this.isStatic=r,this.read=i},Ls=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"track",value:function(t){this.queries.push(t)}},{key:"length",get:function(){return this.queries.length}}]),t}(),Ms=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Us(e,n[r]));else{var i=this.metadata.predicate;i===us?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,hn(e,t,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Ma||r===ls||r===us&&0===e.type)this.addMatch(e.index,-2);else{var i=hn(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Us(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Fs(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Xi(Ma,t,e):0===t.type?$i(us,Ma,t,e):null}(e,t):-2===n?function(t,e,n){return n===Ma?Xi(Ma,e,t):n===us?$i(us,Ma,e,t):n===ls?to(ls,Ma,e,t):void 0}(t,e,r):fn(t,t[1],n,e)}function Hs(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Fs(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function qs(t){var e=ce(),n=le(),r=we();ke(r+1);var i=Bs(n,r);if(t.dirty&&ne(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?function t(e,n,r,i){var o=e.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=Hs(e,n,o,r),u=0;u<a.length;u+=2){var c=a[u];if(c>0)i.push(s[u/2]);else{for(var l=a[u+1],h=n[-c],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&t(d[1],d,l,i)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var y=p[v];t(y[1],y,l,i)}}}return i}(n,e,r,[]):Hs(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function zs(t,e,n,r){!function(t,e,n,r,i,o,a,s){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Ls),t.queries.track(new Ms(e,n))}(t,new Vs(n,r,!1,i),a.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,s)),function(t,e){var n=new Ds;!function(t,e,n,r){var i=Ci(e);i.push(n),t.firstCreatePass&&Oi(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new Rs),e[19].queries.push(new Ps(n))}(t,e)}(le(),ce(),e,n,r,0,fe(),t)}function Gs(){return t=ce(),e=we(),t[19].queries[e].queryList;var t,e}function Bs(t,e){return t.queries.getByIndex(e)}function Ws(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.Default,e=eo(!0);if(null!=e||t&k.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}var Ks=new tt("Application Initializer"),Js=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();zo(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(Ks,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}(),Zs=new tt("AppId"),Ys={provide:Zs,useFactory:function(){return"".concat(Qs()).concat(Qs()).concat(Qs())},deps:[]};function Qs(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Xs=new tt("Platform Initializer"),$s=new tt("Platform ID"),tu=new tt("appBootstrapListener"),eu=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}(),nu=new tt("LocaleId"),ru=new tt("DefaultCurrencyCode"),iu=function t(e,n){_classCallCheck(this,t),this.ngModuleFactory=e,this.componentFactories=n},ou=function(t){return new xs(t)},au=ou,su=function(t){return Promise.resolve(ou(t))},uu=function(t){var e=ou(t),n=Xe(Lt(t).declarations).reduce((function(t,e){var n=Rt(e);return n&&t.push(new ys(n)),t}),[]);return new iu(e,n)},cu=uu,lu=function(t){return Promise.resolve(uu(t))},hu=function(){var t=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=au,this.compileModuleAsync=su,this.compileModuleAndAllComponentsSync=cu,this.compileModuleAndAllComponentsAsync=lu}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}(),fu=new tt("compilerOptions"),du=Promise.resolve(0);function pu(t){"undefined"==typeof Zone?du.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var vu=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new js(!1),this.onMicrotaskEmpty=new js(!1),this.onStable=new js(!1),this.onError=new js(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=W.requestAnimationFrame,e=W.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(W,(function(){t.lastRequestAnimationFrameId=-1,bu(t),mu(t)})),bu(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,i,o,a,s){try{return _u(n),t.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),wu(n)}},onInvoke:function(t,e,r,i,o,a,s){try{return _u(n),t.invoke(r,i,o,a,s)}finally{wu(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,bu(n),mu(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,gu,yu,yu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function yu(){}var gu={};function mu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function bu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function _u(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wu(t){t._nesting--,mu(t)}var ku=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new js,this.onMicrotaskEmpty=new js,this.onStable=new js,this.onError=new js}return _createClass(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),Cu=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){vu.assertNotInAngularZone(),pu((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())pu((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(vu))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}(),Ou=function(){var t=function(){function t(){_classCallCheck(this,t),this._applications=new Map,Iu.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Iu.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}();function Eu(t){Iu=t}var Su,Iu=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Tu=function(t,e,n){var r=t.get(fu,[]).concat(e),i=new xs(n);if(0===wo.size)return Promise.resolve(i);var o,a,s=(o=r.map((function(t){return t.providers})),a=[],o.forEach((function(t){return t&&a.push.apply(a,_toConsumableArray(t))})),a);if(0===s.length)return Promise.resolve(i);var u=function(){var t=W.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),c=bo.create({providers:s}).get(u.ResourceLoader);return function(t){var e=[],n=new Map;function r(t){var e=n.get(t);if(!e){var r=function(t){return Promise.resolve(c.get(t))}(t);n.set(t,e=r.then(Co))}return e}return wo.forEach((function(t,n){var i=[];t.templateUrl&&i.push(r(t.templateUrl).then((function(e){t.template=e})));var o=t.styleUrls,a=t.styles||(t.styles=[]),s=t.styles.length;o&&o.forEach((function(e,n){a.push(""),i.push(r(e).then((function(r){a[s+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(t){ko.delete(t)}(n)}));e.push(u)})),wo=new Map,Promise.all(e).then((function(){}))}().then((function(){return i}))},Au=new tt("AllowMultipleToken"),xu=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function ju(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+e,i=new tt(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Nu();if(!o||o.injector.get(Au,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:io,useValue:"platform"});!function(t){if(Su&&!Su.destroyed&&!Su.injector.get(Au,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Su=t.get(Du);var e=t.get(Xs,null);e&&e.forEach((function(t){return t()}))}(bo.create({providers:a,name:r}))}return function(t){var e=Nu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Nu(){return Su&&!Su.destroyed?Su:null}var Du=function(){var t=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new ku:("zone.js"===n?void 0:n)||new vu({enableLongStackTrace:Mn(),shouldCoalesceEventChangeDetection:r})),a=[{provide:vu,useValue:o}];return o.run((function(){var e=bo.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(wn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Lu(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var o=((a=n.injector.get(Js)).runInitializers(),a.donePromise.then((function(){return Is(n.injector.get(nu,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return zo(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Pu({},n);return Tu(this.injector,r,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Vu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(R(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(bo))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}();function Pu(t,e){return Array.isArray(e)?e.reduce(Pu,t):Object.assign(Object.assign({},t),e)}var Ru,Vu=((Ru=function(){function t(e,n,r,i,s,c){var l=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Mn(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run((function(){l.tick()}))}});var h=new o.a((function(t){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular((function(){t.next(l._stable),t.complete()}))})),f=new o.a((function(t){var e;l._zone.runOutsideAngular((function(){e=l._zone.onStable.subscribe((function(){vu.assertNotInAngularZone(),pu((function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,t.next(!0))}))}))}));var n=l._zone.onUnstable.subscribe((function(){vu.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(a.a)(h,f.pipe((function(t){return u()((e=v,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e})))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Ra?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(dt),o=n.create(bo.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(Cu,null);return a&&o.injector.get(Ou).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Mn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Lu(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(tu,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),Lu(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||Ru)(ct(vu),ct(eu),ct(bo),ct(wn),ct(La),ct(Js))},Ru.\u0275prov=E({token:Ru,factory:Ru.\u0275fac}),Ru);function Lu(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Mu=function t(){_classCallCheck(this,t)},Uu=function t(){_classCallCheck(this,t)},Fu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Hu=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||Fu}return _createClass(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,r=_slicedToArray(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(t){return t[o]})).then((function(t){return qu(t,i,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return qu(t,r,i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(hu),ct(Uu,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}();function qu(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var zu=function(t){return null},Gu=ju(null,"core",[{provide:$s,useValue:"unknown"},{provide:Du,deps:[bo]},{provide:Ou,deps:[]},{provide:eu,deps:[]}]),Bu=[{provide:Vu,useClass:Vu,deps:[vu,eu,bo,wn,La,Js]},{provide:vs,deps:[vu],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:Js,useClass:Js,deps:[[new b,Ks]]},{provide:hu,useClass:hu,deps:[]},Ys,{provide:rs,useFactory:function(){return as},deps:[]},{provide:is,useFactory:function(){return ss},deps:[]},{provide:nu,useFactory:function(t){return Is(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new m(nu),new b,new w]]},{provide:ru,useValue:"USD"}],Wu=function(){var t=function t(e){_classCallCheck(this,t)};return t.\u0275mod=xt({type:t}),t.\u0275inj=S({factory:function(e){return new(e||t)(ct(Vu))},providers:Bu}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a((function(n){var r=new i.a,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}]),t}(),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("SpAZ");function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(e)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return h}));var r,i=n("7o/Q"),o=n("EY2u"),a=n("LRne"),s=n("HDdC"),u=((r=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(a.a)(this.value);case"E":return t=this.error,new s.a((function(e){return e.error(t)}));case"C":return Object(o.b)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r);function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new l(t,e))}}var l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.scheduler,this.delay))}}]),t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new f(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(u.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(u.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(i.a),f=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return _})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return u})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return v}));var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function s(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return s().indexOf("Electron/")>=0}function p(){var t=s();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return s().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return Object(r.c)(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?m(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new y(i,s,r);return u},t}();function m(t,e){return t.replace(b,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new k(t,e);return n.subscribe.bind(n)}var k=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r,i,o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),u=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(Object(s.a)(r))try{r.call(this)}catch(p){e=p instanceof u?l(p.errors):[p]}if(Object(o.a)(i))for(var h=-1,f=i.length;++h<f;){var d=i[h];if(Object(a.a)(d))try{d.unsubscribe()}catch(p){e=e||[],p instanceof u?e=e.concat(l(p.errors)):e.push(p)}}if(e)throw new u(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce((function(t,e){return t.concat(e instanceof u?e.errors:e)}),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return S})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return g})),n.d(e,"f",(function(){return O})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return y})),n.d(e,"j",(function(){return k}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),a=n("tf+s"),s=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}var h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;_classCallCheck(this,t),this.zone=e,this.delegate=n}return _createClass(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule((function(e){var n=this;r.runGuarded((function(){t.apply(n,[e])}))}),e,n)}}]),t}(),f=function(){function t(e){_classCallCheck(this,t),this.zone=e,this.task=null}return _createClass(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)})),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout((function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)}),10)}}]),t}(),d=function t(e){_classCallCheck(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((function(){return new h(Zone.current)})),this.insideAngular=e.run((function(){return new h(Zone.current,i.a)}))};function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(a.a)(t.outsideAngular),Object(s.b)(t.insideAngular))}}var v=["ngOnDestroy"],y=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(i,o){return n.runOutsideAngular((function(){var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(v.indexOf(o)>-1)return function(){};var a=e.toPromise().then((function(t){var e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then((function(t){return n.run((function(){return t}))})):n.run((function(){return e}))}));return new Proxy((function(){}),{get:function(t,e){return a[e]},apply:function(t,e,n){return a.then((function(t){var e,i=t&&t.apply(void 0,_toConsumableArray(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i}))}})}))}})},g=function(t,e){e.forEach((function(e){Object.getOwnPropertyNames(e.prototype||e).forEach((function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))}))}))},m=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),_=new u.N("6.1.4");function w(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=c.a.apps.filter((function(t){return t&&t.name===i.name}))[0]||n.runOutsideAngular((function(){return c.a.initializeApp(e,i)}));try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var k=function(){C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(u.U)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function O(e,n,r,i,o){var a=_toArray(globalThis.\u0275AngularfireInstanceCache.get(e)||[]),s=a[0],u=a.slice(1);if(s){try{o.some((function(t,e){var n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n}))&&C("error","".concat(n," was already initialized on the ").concat(r.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(l){}return s}var c=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[c].concat(_toConsumableArray(o))),c}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var E={provide:function t(){_classCallCheck(this,t)},useFactory:w,deps:[m,u.z,[new u.A,b]]},S=function(){var t=function(){function t(e){_classCallCheck(this,t),c.a.registerVersion("angularfire",_.full,e.toString()),c.a.registerVersion("angular",u.M.full)}return _createClass(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:b,useValue:n}]}}}]),t}();return t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({factory:function(e){return new(e||t)(u.Sb(u.B))},providers:[E]}),t}()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("HDdC"),i=1,o=Promise.resolve(),a={};function s(t){return t in a&&(delete a[t],!0)}var u=function(t){var e=i++;return a[e]=!0,o.then((function(){return s(e)&&t()})),e},c=function(t){s(t)},l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=u(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(c(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),h=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(l),f=n("DH7j"),d=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return _classCallCheck(this,n),(r=e.call(this)).source=t,r.delayTime=o,r.scheduler=a,i=o,(Object(f.a)(i)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),a&&"function"==typeof a.schedule||(r.scheduler=h),r}return _createClass(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new v(t,e))}}var v=function(){function t(e,n){_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return new d(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("7o/Q");function i(){}var o=n("n6bG");function a(t,e,n){return function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(e,n,r){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,a,s){var u;return _classCallCheck(this,n),(u=e.call(this,t))._tapNext=i,u._tapError=i,u._tapComplete=i,u._tapError=a||i,u._tapComplete=s||i,Object(o.a)(r)?(u._context=_assertThisInitialized(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i,u._tapError=r.error||i,u._tapComplete=r.complete||i),u}return _createClass(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.e)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.c)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new s.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(a.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(s){var u,c,h=s.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&Object(a.f)(d,s.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,s.multipleInstances?t:[])}}try{for(var p=Object(o.h)(Object.keys(e)),v=p.next();!v.done;v=p.next())e[v.value]._addComponent(s)}catch(y){u={error:y}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.f)(e,t)},createSubscribe:a.d,ErrorFactory:a.b,deepExtend:a.f}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(a.h)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.m)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),g.apply(void 0,t)};var m=p;!function(t,e){t.INTERNAL.registerComponent(new s.a("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(m),e.a=m},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL"),i={apiKey:"AIzaSyCfTcU2AnPweLSQlJLHGRIpl1tTjUHxGCk",authDomain:"vascobauerle-fe7a7.firebaseapp.com",databaseURL:"https://vascobauerle-fe7a7.firebaseio.com",projectId:"vascobauerle-fe7a7",storageBucket:"vascobauerle-fe7a7.appspot.com",messagingSenderId:"476425196211",appId:"1:476425196211:web:d35b2a49868e2943d696c6"},o=null;function a(){return o}var s,u=new r.q("DocumentToken"),c=((s=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||s)},s.\u0275prov=Object(r.Hb)({factory:l,token:s,providedIn:"platform"}),s);function l(){return Object(r.Sb)(d)}var h,f=new r.q("Location Initialized"),d=((h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=a().getLocation(),this._history=a().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return a().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){p()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){p()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(c)).\u0275fac=function(t){return new(t||h)(r.Sb(u))},h.\u0275prov=Object(r.Hb)({factory:v,token:h,providedIn:"platform"}),h);function p(){return!!window.history.pushState}function v(){return new d(Object(r.Sb)(u))}function y(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}var b,_=((b=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||b)},b.\u0275prov=Object(r.Hb)({factory:w,token:b,providedIn:"root"}),b);function w(t){var e=Object(r.Sb)(u).location;return new S(Object(r.Sb)(c),e&&e.origin||"")}var k,C,O,E=new r.q("appBaseHref"),S=((O=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;if(_classCallCheck(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return y(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(_)).\u0275fac=function(t){return new(t||O)(r.Sb(c),r.Sb(E,8))},O.\u0275prov=r.Hb({token:O,factory:O.\u0275fac}),O),I=((C=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=y(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(_)).\u0275fac=function(t){return new(t||C)(r.Sb(c),r.Sb(E,8))},C.\u0275prov=r.Hb({token:C,factory:C.\u0275fac}),C),T=((k=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=e;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=g(x(o)),this._platformStrategy.onPopState((function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+m(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,x(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||k)(r.Sb(_),r.Sb(c))},k.normalizeQueryParams=m,k.joinWithSlash=y,k.stripTrailingSlash=g,k.\u0275prov=Object(r.Hb)({factory:A,token:k,providedIn:"root"}),k);function A(){return new T(Object(r.Sb)(_),Object(r.Sb)(c))}function x(t){return t.replace(/\/index.html$/,"")}var j,N,D,P=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),R=r.mb,V=function t(){_classCallCheck(this,t)},L=((j=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).locale=t,r}return _createClass(n,[{key:"getPluralCategory",value:function(t,e){switch(R(e||this.locale)(t)){case P.Zero:return"zero";case P.One:return"one";case P.Two:return"two";case P.Few:return"few";case P.Many:return"many";default:return"other"}}}]),n}(V)).\u0275fac=function(t){return new(t||j)(r.Sb(r.u))},j.\u0275prov=r.Hb({token:j,factory:j.\u0275fac}),j),M=function(){function t(e,n,r,i){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),U=((N=function(){function t(e,n,r){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(Fb){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new M(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new F(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new F(t,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||N)(r.Lb(r.O),r.Lb(r.K),r.Lb(r.s))},N.\u0275dir=r.Gb({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),N),F=function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n},H=((D=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new q,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){z("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){z("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||D)(r.Lb(r.O),r.Lb(r.K))},D.\u0275dir=r.Gb({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),D),q=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function z(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(r.vb)(e),"'."))}var G,B,W,K,J,Z,Y=((B=function t(){_classCallCheck(this,t)}).\u0275mod=r.Jb({type:B}),B.\u0275inj=r.Ib({factory:function(t){return new(t||B)},providers:[{provide:V,useClass:L}]}),B),Q=((G=function t(){_classCallCheck(this,t)}).\u0275prov=Object(r.Hb)({token:G,providedIn:"root",factory:function(){return new X(Object(r.Sb)(u),window,Object(r.Sb)(r.m))}}),G),X=function(){function t(e,n,r){_classCallCheck(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='".concat(t,"']"));if(n)return void this.scrollToElement(n)}catch(ow){this.errorHandler.handleError(ow)}}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(Fb){return!1}}}]),t}(),$=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=tt||(tt=document.querySelector("base"))?tt.getAttribute("href"):null;return null==n?null:(e=n,W||(W=document.createElement("a")),W.setAttribute("href",e),"/"===W.pathname.charAt(0)?W.pathname:"/"+W.pathname)}},{key:"resetBaseElement",value:function(){tt=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return function(t,e){e=encodeURIComponent(e);var n,r=_createForOfIteratorHelper(t.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===e)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,o||(o=t)}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){_classCallCheck(this,t)}}())),tt=null,et=new r.q("TRANSITION_ID"),nt=[{provide:r.d,useFactory:function(t,e,n){return function(){n.get(r.e).donePromise.then((function(){var n=a();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[et,u,r.r],multi:!0}],rt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){r.ob.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=function(){return t.getAllTestabilities()},r.ob.getAllAngularRootElements=function(){return t.getAllRootElements()},r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push((function(t){var e=r.ob.getAllAngularTestabilities(),n=e.length,i=!1,o=function(e){i=i||e,0==--n&&t(i)};e.forEach((function(t){t.whenStable(o)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(r.W)(new t)}}]),t}(),it=new r.q("EventManagerPlugins"),ot=((K=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)}}]),t}()).\u0275fac=function(t){return new(t||K)(r.Sb(it),r.Sb(r.z))},K.\u0275prov=r.Hb({token:K,factory:K.\u0275fac}),K),at=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=a().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),st=((Z=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||Z)},Z.\u0275prov=r.Hb({token:Z,factory:Z.\u0275fac}),Z),ut=((J=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return a().remove(t)}))}}]),n}(st)).\u0275fac=function(t){return new(t||J)(r.Sb(u))},J.\u0275prov=r.Hb({token:J,factory:J.\u0275fac}),J),ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},lt=/%COMP%/g;function ht(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?ht(t,i,n):(i=i.replace(lt,t),n.push(i))}return n}function ft(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var dt,pt,vt,yt,gt=((dt=function(){function t(e,n,r){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new mt(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.P.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new bt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case r.P.Native:case r.P.ShadowDom:return new _t(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=ht(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||dt)(r.Sb(ot),r.Sb(ut),r.Sb(r.c))},dt.\u0275prov=r.Hb({token:dt,factory:dt.\u0275fac}),dt),mt=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(ct[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=ct[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=ct[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ft(n)):this.eventManager.addEventListener(t,e,ft(n))}}]),t}(),bt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;_classCallCheck(this,n),(a=e.call(this,t)).component=i;var s,u=ht(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(lt,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(lt,s)),a}return _createClass(n,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,t,e);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(mt),_t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a){var s;_classCallCheck(this,n),(s=e.call(this,t)).sharedStylesHost=i,s.hostEl=o,s.component=a,s.shadowRoot=a.encapsulation===r.P.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=ht(a.id,a.styles,[]),c=0;c<u.length;c++){var l=document.createElement("style");l.textContent=u[c],s.shadowRoot.appendChild(l)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(mt),wt=((pt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(at)).\u0275fac=function(t){return new(t||pt)(r.Sb(u))},pt.\u0275prov=r.Hb({token:pt,factory:pt.\u0275fac}),pt),kt=["alt","control","meta","shift"],Ct={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ot={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Et={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},St=((vt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return a().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(kt.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ot.hasOwnProperty(e)&&(e=Ot[e]))}return Ct[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),kt.forEach((function(r){r!=n&&(0,Et[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(at)).\u0275fac=function(t){return new(t||vt)(r.Sb(u))},vt.\u0275prov=r.Hb({token:vt,factory:vt.\u0275fac}),vt),It=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){$.makeCurrent(),rt.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],Tt=Object(r.R)(r.V,"browser",It),At=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:it,useClass:wt,multi:!0,deps:[u,r.z,r.B]},{provide:it,useClass:St,multi:!0,deps:[u]},[],{provide:gt,useClass:gt,deps:[ot,ut,r.c]},{provide:r.E,useExisting:gt},{provide:st,useExisting:ut},{provide:ut,useClass:ut,deps:[u]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:ot,useClass:ot,deps:[it,r.z]},[]],xt=((yt=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:et,useExisting:r.c},nt]}}}]),t}()).\u0275mod=r.Jb({type:yt}),yt.\u0275inj=r.Ib({factory:function(t){return new(t||yt)(r.Sb(yt,12))},providers:At,imports:[Y,r.f]}),yt);"undefined"!=typeof window&&window;var jt=n("LRne"),Nt=n("Cfvw"),Dt=n("XNiG"),Pt=n("9ppp"),Rt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._value=t,r}return _createClass(n,[{key:"_subscribe",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Pt.a;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(Dt.a),Vt=n("HDdC"),Lt=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Mt=n("z+Ro"),Ut=n("DH7j"),Ft=n("l7GE"),Ht=n("ZUHj"),qt=n("yCtX"),zt={},Gt=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Bt(t,this.resultSelector))}}]),t}(),Bt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(t){this.values.push(zt),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(Ht.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===zt?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Ft.a),Wt=n("EY2u");function Kt(t){return new Vt.a((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Nt.a)(n):Object(Wt.b)()).subscribe(e)}))}var Jt=n("lJxs"),Zt=n("bHdf");function Yt(){return Object(Zt.a)(1)}var Qt=n("7o/Q");function Xt(t,e){return function(n){return n.lift(new $t(t,e))}}var $t=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new te(t,this.predicate,this.thisArg))}}]),t}(),te=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(Qt.a),ee=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function ne(t){return function(e){return 0===t?Object(Wt.b)():e.lift(new re(t))}}var re=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new ee}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ie(t,this.total))}}]),t}(),ie=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(Qt.a);function oe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue;return function(e){return e.lift(new ae(t))}}var ae=function(){function t(e){_classCallCheck(this,t),this.errorFactory=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new se(t,this.errorFactory))}}]),t}(),se=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(ow){t=ow}this.destination.error(t)}}]),n}(Qt.a);function ue(){return new Lt}function ce(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new le(t))}}var le=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new he(t,this.defaultValue))}}]),t}(),he=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(Qt.a),fe=n("SpAZ");function de(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Xt((function(e,n){return t(e,n,r)})):fe.a,ne(1),n?ce(e):oe((function(){return new Lt})))}}var pe=n("51Dv");function ve(t){return function(e){var n=new ye(t),r=e.lift(n);return n.caught=r}}var ye=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ge(t,this.selector,this.caught))}}]),t}(),ge=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new pe.a(this,void 0,void 0);this.add(r);var i=Object(Ht.a)(this,e,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(Ft.a);function me(t){return function(e){return 0===t?Object(Wt.b)():e.lift(new be(t))}}var be=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new ee}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new _e(t,this.total))}}]),t}(),_e=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(Qt.a);function we(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Xt((function(e,n){return t(e,n,r)})):fe.a,me(1),n?ce(e):oe((function(){return new Lt})))}}var ke=n("5+tZ"),Ce=function(){function t(e,n,r){_classCallCheck(this,t),this.predicate=e,this.thisArg=n,this.source=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Oe(t,this.predicate,this.thisArg,this.source))}}]),t}(),Oe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(Qt.a);function Ee(t,e){return"function"==typeof e?function(n){return n.pipe(Ee((function(n,r){return Object(Nt.a)(t(n,r)).pipe(Object(Jt.a)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new Se(t))}}var Se=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ie(t,this.project))}}]),t}(),Ie=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new pe.a(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Object(Ht.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}}]),n}(Ft.a);function Te(){return Yt()(Object(jt.a).apply(void 0,arguments))}function Ae(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(Mt.a)(r)?(e.pop(),function(t){return Te(e,t,r)}):function(t){return Te(e,t)}}function xe(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new je(t,e,n))}}var je=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ne(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Ne=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(Qt.a);function De(t,e){return Object(ke.a)(t,e,1)}var Pe,Re=n("mCNh"),Ve=n("vkgz"),Le=n("quSY"),Me=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ue(t,this.callback))}}]),t}(),Ue=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).add(new Le.a(r)),i}return n}(Qt.a),Fe=function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n},He=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Fe),qe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Fe),ze=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Fe),Ge=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Fe),Be=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Fe),We=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Fe),Ke=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Fe),Je=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Fe),Ze=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Fe),Ye=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),Qe=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),Xe=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),$e=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),tn=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),en=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),nn=function(){function t(e,n,r){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),rn=((Pe=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Pe)},Pe.\u0275cmp=r.Fb({type:Pe,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Mb(0,"router-outlet")},directives:function(){return[ui]},encapsulation:2}),Pe),on=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function an(t){return new on(t)}function sn(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function un(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var cn=function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n};function ln(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];hn(r,fn(e,r))}}function hn(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&ln(t.children,e)}function fn(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function dn(t){var e=t.children&&t.children.map(dn),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=rn),n}function pn(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!vn(t[n=r[o]],e[n]))return!1;return!0}function vn(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every((function(t){return e.indexOf(t)>-1})):t===e}function yn(t){return Array.prototype.concat.apply([],t)}function gn(t){return t.length>0?t[t.length-1]:null}function mn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function bn(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(Nt.a)(Promise.resolve(t)):Object(jt.a)(t)}function _n(t,e,n){return n?function(t,e){return pn(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!On(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return vn(t[n],e[n])}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!On(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!On(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!On(n.segments,a)&&!!n.children.primary&&e(n.children.primary,r,s)}(e,n,n.segments)}(t.root,e.root)}var wn=function(){function t(e,n,r){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=r}return _createClass(t,[{key:"toString",value:function(){return Tn.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=an(this.queryParams)),this._queryParamMap}}]),t}(),kn=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,mn(n,(function(t,e){return t.parent=r}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return An(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),Cn=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"toString",value:function(){return Rn(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=an(this.parameters)),this._parameterMap}}]),t}();function On(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function En(t,e){var n=[];return mn(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),mn(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var Sn=function t(){_classCallCheck(this,t)},In=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new Fn(t);return new wn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+function t(e,n){if(!e.hasChildren())return An(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return mn(e.children,(function(e,n){"primary"!==n&&i.push("".concat(n,":").concat(t(e,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=En(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return"".concat(An(e),"/(").concat(o.join("//"),")")}(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return"".concat(jn(t),"=").concat(jn(e))})).join("&"):"".concat(jn(t),"=").concat(jn(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),Tn=new In;function An(t){return t.segments.map((function(t){return Rn(t)})).join("/")}function xn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jn(t){return xn(t).replace(/%3B/gi,";")}function Nn(t){return xn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dn(t){return decodeURIComponent(t)}function Pn(t){return Dn(t.replace(/\+/g,"%20"))}function Rn(t){return"".concat(Nn(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(Nn(t),"=").concat(Nn(e[t]))})).join("")));var e}var Vn=/^[^\/()?;=#]+/;function Ln(t){var e=t.match(Vn);return e?e[0]:""}var Mn=/^[^=?&#]+/,Un=/^[^?&#]+/,Fn=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kn([],{}):new kn([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new kn(t,e)),n}},{key:"parseSegment",value:function(){var t=Ln(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Cn(Dn(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Ln(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Ln(this.remaining);r&&(n=r,this.capture(n))}t[Dn(e)]=Dn(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Mn);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Un);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Pn(e),o=Pn(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Ln(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new kn([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Hn=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=qn(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=qn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=zn(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return zn(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function qn(t,e){if(t===e.value)return e;var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=qn(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function zn(t,e){if(t===e.value)return[e];var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=zn(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var Gn=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Bn(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var Wn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).snapshot=r,Xn(_assertThisInitialized(i),t),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Hn);function Kn(t,e){var n=function(t,e){var n=new Yn([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Qn("",new Gn(n,[]))}(t,e),r=new Rt([new Cn("",{})]),i=new Rt({}),o=new Rt({}),a=new Rt({}),s=new Rt(""),u=new Jn(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new Wn(new Gn(u,[]),n)}var Jn=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Jt.a)((function(t){return an(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Jt.a)((function(t){return an(t)})))),this._queryParamMap}}]),t}();function Zn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Yn=function(){function t(e,n,r,i,o,a,s,u,c,l,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=an(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=an(this.queryParams)),this._queryParamMap}}]),t}(),Qn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,r)).url=t,Xn(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return $n(this._root)}}]),n}(Hn);function Xn(t,e){e.value._routerState=t,e.children.forEach((function(e){return Xn(t,e)}))}function $n(t){var e=t.children.length>0?" { ".concat(t.children.map($n).join(", ")," } "):"";return"".concat(t.value).concat(e)}function tr(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,pn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),pn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!pn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),pn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function er(t,e){return pn(t.params,e.params)&&function(t,e){return On(t,e)&&t.every((function(t,n){return pn(t.parameters,e[n].parameters)}))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||er(t.parent,e.parent))}function nr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function rr(t,e,n,r,i){var o={};return r&&mn(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new wn(n.root===t?e:function t(e,n,r){var i={};return mn(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new kn(e.segments,i)}(n.root,t,e),o,i)}var ir=function(){function t(e,n,r){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&nr(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==gn(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),or=function t(e,n,r){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function ar(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function sr(t,e,n){if(t||(t=new kn([],{})),0===t.segments.length&&t.hasChildren())return ur(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=ar(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!fr(s,u,a))return o;r+=2}else{if(!fr(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new kn(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new kn(t.segments.slice(r.pathIndex),t.children),ur(o,0,i)}return r.match&&0===i.length?new kn(t.segments,{}):r.match&&!t.hasChildren()?cr(t,e,n):r.match?ur(t,0,i):cr(t,e,n)}function ur(t,e,n){if(0===n.length)return new kn(t.segments,{});var r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return mn(r,(function(n,r){null!==n&&(i[r]=sr(t.children[r],e,n))})),mn(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new kn(t.segments,i)}function cr(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=lr(n[i].outlets);return new kn(r,o)}if(0===i&&nr(n[0]))r.push(new Cn(t.segments[e].path,n[0])),i++;else{var a=ar(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&nr(s)?(r.push(new Cn(a,hr(s))),i+=2):(r.push(new Cn(a,{})),i++)}}return new kn(r,{})}function lr(t){var e={};return mn(t,(function(t,n){null!==t&&(e[n]=cr(new kn([],{}),0,t))})),e}function hr(t){var e={};return mn(t,(function(t,n){return e[n]=""+t})),e}function fr(t,e,n){return t==n.path&&pn(e,n.parameters)}var dr=function(){function t(e,n,r,i){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),tr(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=Bn(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),mn(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=Bn(t),o=t.value.component?r.children:e;mn(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=Bn(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new en(t.value.snapshot))})),t.children.length&&this.forwardEvent(new $e(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(tr(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),pr(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function pr(t){tr(t.value),t.children.forEach(pr)}function vr(t){return"function"==typeof t}function yr(t){return t instanceof wn}var gr=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},mr=function t(e){_classCallCheck(this,t),this.urlTree=e};function br(t){return new Vt.a((function(e){return e.error(new gr(t))}))}function _r(t){return new Vt.a((function(e){return e.error(new mr(t))}))}function wr(t){return new Vt.a((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var kr=function(){function t(e,n,i,o,a){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=i,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(r.x)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(Jt.a)((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(ve((function(e){if(e instanceof mr)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof gr)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(Jt.a)((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(ve((function(t){if(t instanceof gr)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new kn([],{primary:t}):t;return new wn(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Jt.a)((function(t){return new kn([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(jt.a)({});var o=[],a=[],s={};return mn(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(t,e,c,u)).pipe(Object(Jt.a)((function(t){return s[i]=t})));"primary"===i?o.push(l):a.push(l)})),jt.a.apply(null,o.concat(a)).pipe(Yt(),de(),Object(Jt.a)((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return Object(jt.a).apply(void 0,_toConsumableArray(n)).pipe(Object(Jt.a)((function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(ve((function(t){if(t instanceof gr)return Object(jt.a)(null);throw t})))})),Yt(),we((function(t){return!!t})),ve((function(t,n){if(t instanceof Lt||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,r,i))return Object(jt.a)(new kn([],{}));throw new gr(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return Sr(r)!==o?br(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):br(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?_r(o):this.lineralizeSegments(n,o).pipe(Object(ke.a)((function(n){var o=new kn(n,{});return i.expandSegment(t,o,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=Cr(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return br(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?_r(f):this.lineralizeSegments(r,f).pipe(Object(ke.a)((function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Jt.a)((function(t){return n._loadedConfig=t,new kn(r,{})}))):Object(jt.a)(new kn(r,{}));var o=Cr(e,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return br(e);var c=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(ke.a)((function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some((function(n){return Er(t,e,n)&&"primary"!==Sr(n)}))}(t,n,r)?{segmentGroup:Or(new kn(e,function(t,e){var n={};n.primary=e;var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==Sr(o)&&(n[Sr(o)]=new kn([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new kn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return Er(t,e,n)}))}(t,n,r)?{segmentGroup:Or(new kn(t.segments,function(t,e,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;Er(t,e,s)&&!r[Sr(s)]&&(o[Sr(s)]=new kn([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,c,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(Object(Jt.a)((function(t){return new kn(s,t)}))):0===r.length&&0===u.length?Object(jt.a)(new kn(s,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(Object(Jt.a)((function(t){return new kn(s.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(jt.a)(new cn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(jt.a)(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?Object(Nt.a)(i).pipe(Object(Jt.a)((function(r){var i,o=t.get(r);if(function(t){return t&&vr(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!vr(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return bn(i)}))).pipe(Yt(),(r=function(t){return!0===t},function(t){return t.lift(new Ce(r,void 0,t))})):Object(jt.a)(!0)}(t.injector,e,n).pipe(Object(ke.a)((function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(Jt.a)((function(t){return e._loadedConfig=t,t}))):function(t){return new Vt.a((function(e){return e.error(sn("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):Object(jt.a)(new cn([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(jt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return wr(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new wn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return mn(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return mn(e.children,(function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)})),new kn(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return t}}]),t}();function Cr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||un)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Or(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new kn(t.segments.concat(e.segments),e.children)}return t}function Er(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Sr(t){return t.outlet||"primary"}var Ir=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},Tr=function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n};function Ar(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function xr(t,e,n){var r=Bn(t),i=t.value;mn(r,(function(t,r){xr(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new Tr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var jr=Symbol("INITIAL_VALUE");function Nr(){return Ee((function(t){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=null,i=null;return Object(Mt.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(Ut.a)(e[0])&&(e=e[0]),Object(qt.a)(e,i).lift(new Gt(r))}).apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(me(1),Ae(jr))})))).pipe(xe((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==jr)return t;if(r===jr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||yr(r))return r}return t}),t)}),jr),Xt((function(t){return t!==jr})),Object(Jt.a)((function(t){return yr(t)?t:!0===t})),me(1))}))}function Dr(t,e){return null!==t&&e&&e(new tn(t)),Object(jt.a)(!0)}function Pr(t,e){return null!==t&&e&&e(new Xe(t)),Object(jt.a)(!0)}function Rr(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(jt.a)(!0);var i=r.map((function(r){return Kt((function(){var i,o=Ar(r,e,n);if(function(t){return t&&vr(t.canActivate)}(o))i=bn(o.canActivate(e,t));else{if(!vr(o))throw new Error("Invalid CanActivate guard");i=bn(o(e,t))}return i.pipe(we())}))}));return Object(jt.a)(i).pipe(Nr())}function Vr(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return Kt((function(){var i=e.guards.map((function(i){var o,a=Ar(i,e.node,n);if(function(t){return t&&vr(t.canActivateChild)}(a))o=bn(a.canActivateChild(r,t));else{if(!vr(a))throw new Error("Invalid CanActivateChild guard");o=bn(a(r,t))}return o.pipe(we())}));return Object(jt.a)(i).pipe(Nr())}))}));return Object(jt.a)(i).pipe(Nr())}var Lr=function t(){_classCallCheck(this,t)},Mr=function(){function t(e,n,r,i,o,a){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(t,[{key:"recognize",value:function(){try{var t=Hr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Yn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Gn(n,e),i=new Qn(this.url,r);return this.inheritParamsAndData(i._root),Object(jt.a)(i)}catch(ow){return new Vt.a((function(e){return e.error(ow)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=Zn(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=En(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,e,n,r){var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(ow){if(!(ow instanceof Lr))throw ow}}}catch(s){o.e(s)}finally{o.f()}if(this.noLeftoversInUrl(e,n,r))return[];throw new Lr}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new Lr;if((t.outlet||"primary")!==r)throw new Lr;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?gn(n).parameters:{};i=new Yn(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gr(t),r,t.component,t,Ur(e),Fr(e)+n.length,Br(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Lr;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||un)(n,t,e);if(!r)throw new Lr;var i={};mn(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new Yn(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gr(t),r,t.component,t,Ur(e),Fr(e)+o.length,Br(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=Hr(e,o,a,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new Gn(i,d)]}if(0===c.length&&0===f.length)return[new Gn(i,[])];var p=this.processSegment(c,h,f,"primary");return[new Gn(i,p)]}}]),t}();function Ur(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Fr(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Hr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return qr(t,e,n)&&"primary"!==zr(n)}))}(t,n,r)){var o=new kn(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==zr(s)){var u=new kn([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[zr(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}(t,e,r,new kn(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return qr(t,e,n)}))}(t,n,r)){var a=new kn(t.segments,function(t,e,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(qr(t,n,c)&&!i[zr(c)]){var l=new kn([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[zr(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new kn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function qr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function zr(t){return t.outlet||"primary"}function Gr(t){return t.data||{}}function Br(t){return t.resolve||{}}function Wr(t,e,n,r){var i=Ar(t,e,r);return bn(i.resolve?i.resolve(e,n):i(e,n))}function Kr(t){return function(e){return e.pipe(Ee((function(e){var n=t(e);return n?Object(Nt.a)(n).pipe(Object(Jt.a)((function(){return e}))):Object(Nt.a)([e])})))}}var Jr=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),Zr=new r.q("ROUTES"),Yr=function(){function t(e,n,r,i){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Jt.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new cn(yn(i.injector.get(Zr)).map(dn),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(Nt.a)(this.loader.load(t)):bn(t()).pipe(Object(ke.a)((function(t){return t instanceof r.v?Object(jt.a)(t):Object(Nt.a)(e.compiler.compileModuleAsync(t))})))}}]),t}(),Qr=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function Xr(t){throw t}function $r(t,e,n){return e.parse("/")}function ti(t,e){return Object(jt.a)(null)}var ei,ni,ri,ii,oi=((ei=function(){function t(e,n,i,o,a,s,u,c){var l=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Dt.a,this.errorHandler=Xr,this.malformedUriErrorHandler=$r,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ti,afterPreactivation:ti},this.urlHandlingStrategy=new Qr,this.routeReuseStrategy=new Jr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(r.x),this.console=a.get(r.X);var h=a.get(r.z);this.isNgZoneEnabled=h instanceof r.z,this.resetConfig(c),this.currentUrlTree=new wn(new kn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Yr(s,u,(function(t){return l.triggerEvent(new Ye(t))}),(function(t){return l.triggerEvent(new Qe(t))})),this.routerState=Kn(this.currentUrlTree,this.rootComponentType),this.transitions=new Rt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Xt((function(t){return 0!==t.id})),Object(Jt.a)((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),Ee((function(t){var r,i,o,a,s=!1,u=!1;return Object(jt.a)(t).pipe(Object(Ve.a)((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Ee((function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(jt.a)(t).pipe(Ee((function(t){var r=e.transitions.getValue();return n.next(new He(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?Wt.a:[t]})),Ee((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,function(t){return t.pipe(Ee((function(t){return function(t,e,n,r,i){return new kr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(Jt.a)((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),Object(Ve.a)((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe(Object(ke.a)((function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Mr(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(Jt.a)((function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})})));var a})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(Ve.a)((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),Object(Ve.a)((function(t){var r=new Be(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,d=new He(u,e.serializeUrl(c),l,h);n.next(d);var p=Kn(c,e.rootComponentType).snapshot;return Object(jt.a)(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Wt.a})),Kr((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(Ve.a)((function(t){var n=new We(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),Object(Jt.a)((function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=Bn(n);return e.children.forEach((function(e){!function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,s=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!On(t.url,e.url);case"pathParamsOrQueryParamsChange":return!On(t.url,e.url)||!pn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!er(t,e)||!pn(t.queryParams,e.queryParams);case"paramsChange":default:return!er(t,e)}}(s,a,a.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Ir(i)):(a.data=s.data,a._resolvedData=s._resolvedData),t(e,n,a.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Tr(u&&u.outlet&&u.outlet.component||null,s))}else s&&xr(n,u,o),o.canActivateChecks.push(new Ir(i)),t(e,null,a.component?u?u.children:null:r,i,o)}(e,a[e.value.outlet],r,i.concat([e.value]),o),delete a[e.value.outlet]})),mn(a,(function(t,e){return xr(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(t,e){return function(n){return n.pipe(Object(ke.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(jt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Nt.a)(t).pipe(Object(ke.a)((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(jt.a)(!0);var a=o.map((function(o){var a,s=Ar(o,e,i);if(function(t){return t&&vr(t.canDeactivate)}(s))a=bn(s.canDeactivate(t,e,n,r));else{if(!vr(s))throw new Error("Invalid CanDeactivate guard");a=bn(s(t,e,n,r))}return a.pipe(we())}));return Object(jt.a)(a).pipe(Nr())}(t.component,t.route,n,e,r)})),we((function(t){return!0!==t}),!0))}(s,r,i,t).pipe(Object(ke.a)((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(Nt.a)(e).pipe(De((function(e){return Object(Nt.a)([Pr(e.route.parent,r),Dr(e.route,r),Vr(t,e.path,n),Rr(t,e.route,n)]).pipe(Yt(),we((function(t){return!0!==t}),!0))})),we((function(t){return!0!==t}),!0))}(r,a,t,e):Object(jt.a)(n)})),Object(Jt.a)((function(t){return Object.assign(Object.assign({},n),{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),Object(Ve.a)((function(t){if(yr(t.guardsResult)){var n=sn('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),Object(Ve.a)((function(t){var n=new Ke(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),Xt((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new ze(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),Kr((function(t){if(t.guards.canActivateChecks.length)return Object(jt.a)(t).pipe(Object(Ve.a)((function(t){var n=new Je(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(Object(ke.a)((function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?Object(Nt.a)(i).pipe(De((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(jt.a)({});if(1===i.length){var o=i[0];return Wr(t[o],e,n,r).pipe(Object(Jt.a)((function(t){return _defineProperty({},o,t)})))}var a={};return Object(Nt.a)(i).pipe(Object(ke.a)((function(i){return Wr(t[i],e,n,r).pipe(Object(Jt.a)((function(t){return a[i]=t,t})))}))).pipe(de(),Object(Jt.a)((function(){return a})))}(t._resolve,t,e,r).pipe(Object(Jt.a)((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Zn(t,n).resolve),null})))}(t.route,e,n,r)})),function(t,e){return arguments.length>=2?function(n){return Object(Re.a)(xe(t,e),ne(1),ce(e))(n)}:function(e){return Object(Re.a)(xe((function(e,n,r){return t(e,n,r+1)})),ne(1))(e)}}((function(t,e){return t})),Object(Jt.a)((function(e){return t}))):Object(jt.a)(t)})))}),Object(Ve.a)((function(t){var n=new Ze(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})));var n,r})),Kr((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(Jt.a)((function(t){var n=function(t,e,n){var r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(e.shouldReuseRoute(a.value.snapshot,n.value))return t(e,n,a)}}catch(s){o.e(s)}finally{o.f()}return t(e,n)}))}(e,n,r);return new Gn(i,o)}var a=e.retrieve(n.value);if(a){var s=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var u,c=new Jn(new Rt((u=n.value).url),new Rt(u.params),new Rt(u.queryParams),new Rt(u.fragment),new Rt(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return t(e,n)}));return new Gn(c,l)}(t,e._root,n?n._root:void 0);return new Wn(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})})),Object(Ve.a)((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},Object(Jt.a)((function(t){return new dr(o,t.targetRouterState,t.currentRouterState,a).activate(i),t}))),Object(Ve.a)({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){e.resetUrlToCurrentUrlTree();var r=new ze(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Me(r))}),ve((function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=yr(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new ze(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new Ge(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(Tf){t.reject(Tf)}}var s;return Wt.a})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){ln(t),this.config=t.map(dn),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,o=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,u=e.preserveFragment;Object(r.U)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o,h=null;if(s)switch(s){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=a?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return rr(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ir(!0,0,t);var e=0,n=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return mn(r.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(t),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(t),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):[].concat(_toConsumableArray(t),[r])}),[]);return new ir(n,e,r)}(n);if(o.toRoot())return rr(e.root,new kn([],{}),e,r,i);var a=function(t,e,n){if(t.isAbsolute)return new or(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new or(n.snapshot._urlSegment,!0,0);var r=nr(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new or(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?ur(a.segmentGroup,a.index,o.commands):sr(a.segmentGroup,a.index,o.commands);return rr(a.segmentGroup,s,e,r,i)}(c,this.currentUrlTree,t,h,l)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=yr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(ow){e=this.malformedUriErrorHandler(ow,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(yr(t))return _n(this.currentUrlTree,t,e);var n=this.parseUrl(t);return _n(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new qe(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,a,s,u=this.getTransition();if(u&&"imperative"!==e&&"imperative"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"hashchange"==e&&"popstate"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"popstate"==e&&"hashchange"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(t,e){o=t,a=e}));var c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){r.Vb()},ei.\u0275dir=r.Gb({type:ei}),ei),ai=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new si,this.attachRef=null},si=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new ai,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),ui=((ni=function(){function t(e,n,i,o,a){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=o||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ci(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||ni)(r.Lb(si),r.Lb(r.O),r.Lb(r.j),r.Tb("name"),r.Lb(r.h))},ni.\u0275dir=r.Gb({type:ni,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),ni),ci=function(){function t(e,n,r){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=r}return _createClass(t,[{key:"get",value:function(t,e){return t===Jn?this.route:t===si?this.childContexts:this.parent.get(t,e)}}]),t}(),li=function t(){_classCallCheck(this,t)},hi=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return Object(jt.a)(null)}}]),t}(),fi=((ii=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new Yr(n,r,(function(t){return e.triggerEvent(new Ye(t))}),(function(t){return e.triggerEvent(new Qe(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Xt((function(t){return t instanceof qe})),De((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(s){i.e(s)}finally{i.f()}return Object(Nt.a)(r).pipe(Object(Zt.a)(),Object(Jt.a)((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(Object(ke.a)((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||ii)(r.Sb(oi),r.Sb(r.w),r.Sb(r.i),r.Sb(r.r),r.Sb(li))},ii.\u0275prov=r.Hb({token:ii,factory:ii.\u0275fac}),ii),di=((ri=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof He?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof qe&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof nn&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new nn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){r.Vb()},ri.\u0275dir=r.Gb({type:ri}),ri),pi=new r.q("ROUTER_CONFIGURATION"),vi=new r.q("ROUTER_FORROOT_GUARD"),yi=[T,{provide:Sn,useClass:In},{provide:oi,useFactory:function(t,e,n,r,i,o,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new oi(null,t,e,n,r,i,o,yn(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=a();h.events.subscribe((function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[Sn,si,T,r.r,r.w,r.i,Zr,pi,[function(){return function t(){_classCallCheck(this,t)}}(),new r.A],[function(){return function t(){_classCallCheck(this,t)}}(),new r.A]]},si,{provide:Jn,useFactory:function(t){return t.routerState.root},deps:[oi]},{provide:r.w,useClass:r.J},fi,hi,function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(ve((function(){return Object(jt.a)(null)})))}}]),t}(),{provide:pi,useValue:{enableTracing:!1}}];function gi(){return new r.y("Router",oi)}var mi,bi=((mi=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[yi,Ci(e),{provide:vi,useFactory:ki,deps:[[oi,new r.A,new r.I]]},{provide:pi,useValue:n||{}},{provide:_,useFactory:wi,deps:[c,[new r.p(E),new r.A],pi]},{provide:di,useFactory:_i,deps:[oi,Q,pi]},{provide:li,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:hi},{provide:r.y,multi:!0,useFactory:gi},[Ei,{provide:r.d,multi:!0,useFactory:Si,deps:[Ei]},{provide:Ti,useFactory:Ii,deps:[Ei]},{provide:r.b,multi:!0,useExisting:Ti}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Ci(e)]}}}]),t}()).\u0275mod=r.Jb({type:mi}),mi.\u0275inj=r.Ib({factory:function(t){return new(t||mi)(r.Sb(vi,8),r.Sb(oi,8))}}),mi);function _i(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new di(t,e,n)}function wi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new I(t,e):new S(t,e)}function ki(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ci(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Zr,multi:!0,useValue:t}]}var Oi,Ei=((Oi=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new Dt.a}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(f,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(oi),i=t.injector.get(pi);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?Object(jt.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(pi),n=this.injector.get(fi),i=this.injector.get(di),o=this.injector.get(oi),a=this.injector.get(r.g);t===a.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||Oi)(r.Sb(r.r))},Oi.\u0275prov=r.Hb({token:Oi,factory:Oi.\u0275fac}),Oi);function Si(t){return t.appInitializer.bind(t)}function Ii(t){return t.bootstrapListener.bind(t)}var Ti=new r.q("Router Initializer"),Ai=n("XoHu");function xi(t,e){return new Vt.a((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=Object(Nt.a)(t[s]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(a===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()}))}var ji,Ni,Di,Pi,Ri=new r.q("NgValueAccessor"),Vi={provide:Ri,useExisting:Object(r.T)((function(){return Li})),multi:!0},Li=((ji=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||ji)(r.Lb(r.D),r.Lb(r.l))},ji.\u0275dir=r.Gb({type:ji,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.zb([Vi])]}),ji),Mi={provide:Ri,useExisting:Object(r.T)((function(){return Fi})),multi:!0},Ui=new r.q("CompositionEventMode"),Fi=((Pi=function(){function t(e,n,r){var i;_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=a()?a().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||Pi)(r.Lb(r.D),r.Lb(r.l),r.Lb(Ui,8))},Pi.\u0275dir=r.Gb({type:Pi,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Wb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.zb([Mi])]}),Pi),Hi=((Di=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}()).\u0275fac=function(t){return new(t||Di)},Di.\u0275dir=r.Gb({type:Di}),Di),qi=((Ni=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Hi)).\u0275fac=function(t){return zi(t||Ni)},Ni.\u0275dir=r.Gb({type:Ni,features:[r.xb]}),Ni),zi=r.Qb(qi);function Gi(){throw new Error("unimplemented")}var Bi,Wi,Ki=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return _createClass(n,[{key:"validator",get:function(){return Gi()}},{key:"asyncValidator",get:function(){return Gi()}}]),n}(Hi),Ji=function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),Zi=((Wi=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(Ji)).\u0275fac=function(t){return new(t||Wi)(r.Lb(Ki,2))},Wi.\u0275dir=r.Gb({type:Wi,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),Wi),Yi=((Bi=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(Ji)).\u0275fac=function(t){return new(t||Bi)(r.Lb(qi,2))},Bi.\u0275dir=r.Gb({type:Bi,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),Bi);function Qi(t){return null==t||0===t.length}var Xi=new r.q("NgValidators"),$i=new r.q("NgAsyncValidators"),to=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,eo=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(Qi(e.value)||Qi(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(Qi(e.value)||Qi(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return Qi(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return Qi(t.value)||to.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){if(Qi(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}},{key:"maxLength",value:function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(Qi(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(no);return 0==e.length?null:function(t){return io(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(no);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if(Object(Ut.a)(r))return xi(r,null);if(Object(Ai.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return xi(i.map((function(t){return r[t]})),i)}}if("function"==typeof e[e.length-1]){var o=e.pop();return xi(e=1===e.length&&Object(Ut.a)(e[0])?e[0]:e,null).pipe(Object(Jt.a)((function(t){return o.apply(void 0,_toConsumableArray(t))})))}return xi(e,null)}(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(ro)).pipe(Object(Jt.a)(io))}}}]),t}();function no(t){return null!=t}function ro(t){var e=Object(r.rb)(t)?Object(Nt.a)(t):t;if(!Object(r.qb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function io(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function oo(t){return t.validate?function(e){return t.validate(e)}:t}function ao(t){return t.validate?function(e){return t.validate(e)}:t}var so,uo,co,lo,ho,fo,po={provide:Ri,useExisting:Object(r.T)((function(){return vo})),multi:!0},vo=((so=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||so)(r.Lb(r.D),r.Lb(r.l))},so.\u0275dir=r.Gb({type:so,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.zb([po])]}),so),yo={provide:Ri,useExisting:Object(r.T)((function(){return mo})),multi:!0},go=((co=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||co)},co.\u0275prov=r.Hb({token:co,factory:co.\u0275fac}),co),mo=((uo=function(){function t(e,n,r,i){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Ki),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),t}()).\u0275fac=function(t){return new(t||uo)(r.Lb(r.D),r.Lb(r.l),r.Lb(go),r.Lb(r.r))},uo.\u0275dir=r.Gb({type:uo,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([yo])]}),uo),bo={provide:Ri,useExisting:Object(r.T)((function(){return _o})),multi:!0},_o=((lo=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||lo)(r.Lb(r.D),r.Lb(r.l))},lo.\u0275dir=r.Gb({type:lo,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.zb([bo])]}),lo),wo='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',ko='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Co='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Oo=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+wo)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(ko,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(Co))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+wo)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+ko)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(t){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(t,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===t?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),t}(),Eo={provide:Ri,useExisting:Object(r.T)((function(){return So})),multi:!0},So=((ho=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r.sb}return _createClass(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||ho)(r.Lb(r.D),r.Lb(r.l))},ho.\u0275dir=r.Gb({type:ho,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.zb([Eo])]}),ho),Io={provide:Ri,useExisting:Object(r.T)((function(){return To})),multi:!0},To=((fo=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r.sb}return _createClass(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=e._getOptionValue(l.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||fo)(r.Lb(r.D),r.Lb(r.l))},fo.\u0275dir=r.Gb({type:fo,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.zb([Io])]}),fo);function Ao(t,e){return[].concat(_toConsumableArray(e.path),[t])}function xo(t,e){t||Po(e,"Cannot find control with"),e.valueAccessor||Po(e,"No value accessor for form control with"),t.validator=eo.compose([t.validator,e.validator]),t.asyncValidator=eo.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&jo(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&jo(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function jo(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function No(t,e){null==t&&Po(e,"Cannot find control with"),t.validator=eo.compose([t.validator,e.validator]),t.asyncValidator=eo.composeAsync([t.asyncValidator,e.asyncValidator])}function Do(t){return Po(t,"There is no FormControl instance attached to form control element with")}function Po(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function Ro(t){return null!=t?eo.compose(t.map(oo)):null}function Vo(t){return null!=t?eo.composeAsync(t.map(ao)):null}function Lo(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(r.sb)(e,n.currentValue)}var Mo=[Li,_o,vo,So,To,mo];function Uo(t,e){t._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}))}function Fo(t,e){if(!e)return null;Array.isArray(e)||Po(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach((function(e){var o;e.constructor===Fi?n=e:(o=e,Mo.some((function(t){return o.constructor===t}))?(r&&Po(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Po(t,"More than one custom value accessor matches form control with"),i=e))})),i||r||n||(Po(t,"No valid value accessor for form control with"),null)}function Ho(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function qo(t){var e=Go(t)?t.validators:t;return Array.isArray(e)?Ro(e):e||null}function zo(t,e){var n=Go(e)?e.asyncValidators:t;return Array.isArray(n)?Vo(n):n||null}function Go(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Bo,Wo,Ko,Jo,Zo,Yo,Qo,Xo,$o=function(){function t(e,n){_classCallCheck(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(t,[{key:"setValidators",value:function(t){this.validator=qo(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=zo(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=ro(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach((function(t){r=r instanceof ea?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof na&&r.at(t)||null})),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new r.n,this.statusChanges=new r.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){Go(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),ta=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this,qo(i),zo(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return _createClass(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}($o),ea=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,qo(r),zo(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof ta?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){var e=this,n=!1;return this._forEachChild((function(r,i){n=n||e.contains(i)&&t(r)})),n}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}($o),na=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,qo(r),zo(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof ta?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=_createForOfIteratorHelper(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}($o),ra={provide:qi,useExisting:Object(r.T)((function(){return oa}))},ia=Promise.resolve(null),oa=((Wo=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this)).submitted=!1,o._directives=[],o.ngSubmit=new r.n,o.form=new ea({},Ro(t),Vo(i)),o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;ia.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),xo(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;ia.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),Ho(e._directives,t)}))}},{key:"addFormGroup",value:function(t){var e=this;ia.then((function(){var n=e._findContainer(t.path),r=new ea({});No(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(t){var e=this;ia.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;ia.then((function(){n.form.get(t.path).setValue(e)}))}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Uo(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(qi)).\u0275fac=function(t){return new(t||Wo)(r.Lb(Xi,10),r.Lb($i,10))},Wo.\u0275dir=r.Gb({type:Wo,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Wb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([ra]),r.xb]}),Wo),aa=((Bo=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Ao(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Ro(this._validators)}},{key:"asyncValidator",get:function(){return Vo(this._asyncValidators)}}]),n}(qi)).\u0275fac=function(t){return sa(t||Bo)},Bo.\u0275dir=r.Gb({type:Bo,features:[r.xb]}),Bo),sa=r.Qb(aa),ua=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(wo,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(ko,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(Co))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(ko,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(Co))}}]),t}(),ca={provide:qi,useExisting:Object(r.T)((function(){return la}))},la=((Ko=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof oa||ua.modelGroupParentException()}}]),n}(aa)).\u0275fac=function(t){return new(t||Ko)(r.Lb(qi,5),r.Lb(Xi,10),r.Lb($i,10))},Ko.\u0275dir=r.Gb({type:Ko,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[r.zb([ca]),r.xb]}),Ko),ha={provide:Ki,useExisting:Object(r.T)((function(){return da}))},fa=Promise.resolve(null),da=((Zo=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this)).control=new ta,s._registered=!1,s.update=new r.n,s._parent=t,s._rawValidators=i||[],s._rawAsyncValidators=o||[],s.valueAccessor=Fo(_assertThisInitialized(s),a),s}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Lo(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){xo(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof la)&&this._parent instanceof aa?ua.formGroupNameException():this._parent instanceof la||this._parent instanceof oa||ua.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||ua.missingNameException()}},{key:"_updateValue",value:function(t){var e=this;fa.then((function(){e.control.setValue(t,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;fa.then((function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()}))}},{key:"path",get:function(){return this._parent?Ao(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Ro(this._rawValidators)}},{key:"asyncValidator",get:function(){return Vo(this._rawAsyncValidators)}}]),n}(Ki)).\u0275fac=function(t){return new(t||Zo)(r.Lb(qi,9),r.Lb(Xi,10),r.Lb($i,10),r.Lb(Ri,10))},Zo.\u0275dir=r.Gb({type:Zo,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.zb([ha]),r.xb,r.yb]}),Zo),pa=((Jo=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Jo)},Jo.\u0275dir=r.Gb({type:Jo,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Jo),va=new r.q("NgModelWithFormControlWarning"),ya={provide:qi,useExisting:Object(r.T)((function(){return ga}))},ga=((Yo=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this))._validators=t,o._asyncValidators=i,o.submitted=!1,o.directives=[],o.form=null,o.ngSubmit=new r.n,o}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return xo(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){Ho(this.directives,t)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);No(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);No(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Uo(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange((function(){return Do(e)})),e.valueAccessor.registerOnTouched((function(){return Do(e)})),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&xo(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=Ro(this._validators);this.form.validator=eo.compose([this.form.validator,t]);var e=Vo(this._asyncValidators);this.form.asyncValidator=eo.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){this.form||Oo.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(qi)).\u0275fac=function(t){return new(t||Yo)(r.Lb(Xi,10),r.Lb($i,10))},Yo.\u0275dir=r.Gb({type:Yo,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Wb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([ya]),r.xb,r.yb]}),Yo),ma={provide:qi,useExisting:Object(r.T)((function(){return ba}))},ba=((Qo=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){ka(this._parent)&&Oo.groupParentException()}}]),n}(aa)).\u0275fac=function(t){return new(t||Qo)(r.Lb(qi,13),r.Lb(Xi,10),r.Lb($i,10))},Qo.\u0275dir=r.Gb({type:Qo,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.zb([ma]),r.xb]}),Qo),_a={provide:qi,useExisting:Object(r.T)((function(){return wa}))},wa=((Xo=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){ka(this._parent)&&Oo.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return Ao(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return Ro(this._validators)}},{key:"asyncValidator",get:function(){return Vo(this._asyncValidators)}}]),n}(qi)).\u0275fac=function(t){return new(t||Xo)(r.Lb(qi,13),r.Lb(Xi,10),r.Lb($i,10))},Xo.\u0275dir=r.Gb({type:Xo,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.zb([_a]),r.xb]}),Xo);function ka(t){return!(t instanceof ba||t instanceof ga||t instanceof wa)}var Ca,Oa,Ea,Sa,Ia,Ta,Aa={provide:Ki,useExisting:Object(r.T)((function(){return xa}))},xa=((Ca=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a,s){var u;return _classCallCheck(this,n),(u=e.call(this))._ngModelWarningConfig=s,u._added=!1,u.update=new r.n,u._ngModelWarningSent=!1,u._parent=t,u._rawValidators=i||[],u._rawAsyncValidators=o||[],u.valueAccessor=Fo(_assertThisInitialized(u),a),u}return _createClass(n,[{key:"ngOnChanges",value:function(t){var e,i;this._added||this._setUpControl(),Lo(t,this.viewModel)&&(e=n,i=this._ngModelWarningConfig,Object(r.U)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(Oo.ngModelWarning("formControlName"),e._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_checkParentType",value:function(){!(this._parent instanceof ba)&&this._parent instanceof aa?Oo.ngModelGroupException():this._parent instanceof ba||this._parent instanceof ga||this._parent instanceof wa||Oo.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(t){Oo.disabledAttrWarning()}},{key:"path",get:function(){return Ao(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Ro(this._rawValidators)}},{key:"asyncValidator",get:function(){return Vo(this._rawAsyncValidators)}}]),n}(Ki)).\u0275fac=function(t){return new(t||Ca)(r.Lb(qi,13),r.Lb(Xi,10),r.Lb($i,10),r.Lb(Ri,10),r.Lb(va,8))},Ca.\u0275dir=r.Gb({type:Ca,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([Aa]),r.xb,r.yb]}),Ca._ngModelWarningSentOnce=!1,Ca),ja={provide:Xi,useExisting:Object(r.T)((function(){return Na})),multi:!0},Na=((Ta=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validate",value:function(t){return this.required?eo.required(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}}]),t}()).\u0275fac=function(t){return new(t||Ta)},Ta.\u0275dir=r.Gb({type:Ta,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Bb("required",e.required?"":null)},inputs:{required:"required"},features:[r.zb([ja])]}),Ta),Da=((Ia=function t(){_classCallCheck(this,t)}).\u0275mod=r.Jb({type:Ia}),Ia.\u0275inj=r.Ib({factory:function(t){return new(t||Ia)}}),Ia),Pa=((Sa=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new ea(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(t,e,n){return new ta(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map((function(t){return r._createControl(t)}));return new na(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(r){n[r]=e._createControl(t[r])})),n}},{key:"_createControl",value:function(t){return t instanceof ta||t instanceof ea||t instanceof na?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||Sa)},Sa.\u0275prov=r.Hb({token:Sa,factory:Sa.\u0275fac}),Sa),Ra=((Ea=function t(){_classCallCheck(this,t)}).\u0275mod=r.Jb({type:Ea}),Ea.\u0275inj=r.Ib({factory:function(t){return new(t||Ea)},providers:[go],imports:[Da]}),Ea),Va=((Oa=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:va,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275mod=r.Jb({type:Oa}),Oa.\u0275inj=r.Ib({factory:function(t){return new(t||Oa)},providers:[Pa,go],imports:[Da]}),Oa),La=n("D0XW");function Ma(){return function(t){return t.lift(new Ua)}}var Ua=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Fa(t))}}]),t}(),Fa=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).hasPrev=!1,r}return _createClass(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(Qt.a),Ha=function(){function t(e,n){_classCallCheck(this,t),this.compare=e,this.keySelector=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new qa(t,this.compare,this.keySelector))}}]),t}(),qa=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return _createClass(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(Qt.a),za=n("pxpQ"),Ga=n("spgP"),Ba=n("Jgta"),Wa=n("zIRd"),Ka=n("q/0M"),Ja=n("qOnz"),Za=function(t,e){return(Za=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ya(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Qa,Xa="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},$a=$a||{},ts=Xa||self;function es(){}function ns(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function rs(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var is="closure_uid_"+(1e9*Math.random()>>>0),os=0;function as(t,e,n){return t.call.apply(t.bind,arguments)}function ss(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function us(t,e,n){return(us=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?as:ss).apply(null,arguments)}function cs(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ls(){return Date.now()}function hs(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function fs(){this.j=this.j,this.i=this.i}fs.prototype.j=!1,fs.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,is)&&t[is]||(t[is]=++os)}(this)},fs.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ds=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ps=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function vs(t){return Array.prototype.concat.apply([],arguments)}function ys(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function gs(t){return/^[\s\xa0]*$/.test(t)}var ms,bs=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function _s(t,e){return-1!=t.indexOf(e)}function ws(t,e){return t<e?-1:t>e?1:0}t:{var ks=ts.navigator;if(ks){var Cs=ks.userAgent;if(Cs){ms=Cs;break t}}ms=""}function Os(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Es(t){var e={};for(var n in t)e[n]=t[n];return e}var Ss="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Is(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ss.length;o++)n=Ss[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ts(t){return Ts[" "](t),t}Ts[" "]=es;var As,xs,js=_s(ms,"Opera"),Ns=_s(ms,"Trident")||_s(ms,"MSIE"),Ds=_s(ms,"Edge"),Ps=Ds||Ns,Rs=_s(ms,"Gecko")&&!(_s(ms.toLowerCase(),"webkit")&&!_s(ms,"Edge"))&&!(_s(ms,"Trident")||_s(ms,"MSIE"))&&!_s(ms,"Edge"),Vs=_s(ms.toLowerCase(),"webkit")&&!_s(ms,"Edge");function Ls(){var t=ts.document;return t?t.documentMode:void 0}t:{var Ms="",Us=(xs=ms,Rs?/rv:([^\);]+)(\)|;)/.exec(xs):Ds?/Edge\/([\d\.]+)/.exec(xs):Ns?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(xs):Vs?/WebKit\/(\S+)/.exec(xs):js?/(?:Version)[ \/]?(\S+)/.exec(xs):void 0);if(Us&&(Ms=Us?Us[1]:""),Ns){var Fs=Ls();if(null!=Fs&&Fs>parseFloat(Ms)){As=String(Fs);break t}}As=Ms}var Hs={};function qs(t){return function(t,e){var n=Hs;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=bs(String(As)).split("."),r=bs(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ws(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ws(0==a[2].length,0==s[2].length)||ws(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var zs=ts.document&&Ns&&(Ls()||parseInt(As,10))||void 0,Gs=!Ns||9<=Number(zs),Bs=Ns&&!qs("9"),Ws=function(){if(!ts.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ts.addEventListener("test",es,e),ts.removeEventListener("test",es,e)}catch(n){}return t}();function Ks(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Js(t,e){if(Ks.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Rs){t:{try{Ts(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Zs[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ks.prototype.b=function(){this.defaultPrevented=!0},hs(Js,Ks);var Zs={2:"touch",3:"pen",4:"mouse"};Js.prototype.b=function(){Js.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Bs)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ys="closure_listenable_"+(1e6*Math.random()|0),Qs=0;function Xs(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Qs,this.Y=this.Z=!1}function $s(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function tu(t){this.src=t,this.a={},this.b=0}function eu(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=ds(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&($s(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function nu(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}tu.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=nu(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new Xs(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ru="closure_lm_"+(1e6*Math.random()|0),iu={};function ou(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=du(r),e&&e[Ys]?e.wa(n,r,rs(i)?!!i.capture:!!i,o):au(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ou(t,e[o],n,r,i);return null}return n=du(n),t&&t[Ys]?t.va(e,n,rs(r)?!!r.capture:!!r,i):au(t,e,n,!1,r,i)}function au(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=rs(i)?!!i.capture:!!i;if(a&&!Gs)return null;var s=hu(t);if(s||(t[ru]=s=new tu(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=lu,e=Gs?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ws||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(uu(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function su(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ys])eu(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(uu(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=hu(e))?(eu(n,t),0==n.b&&(n.src=null,e[ru]=null)):$s(t)}}}function uu(t){return t in iu?iu[t]:iu[t]="on"+t}function cu(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&su(t),n.call(r,e)}function lu(t,e){if(t.Y)return!0;if(!Gs){if(!e)t:{e=["window","event"];for(var n=ts,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return cu(t,e=new Js(e,this))}return cu(t,new Js(e,this))}function hu(t){return(t=t[ru])instanceof tu?t:null}var fu="__closure_events_fn_"+(1e9*Math.random()>>>0);function du(t){return"function"==typeof t?t:(t[fu]||(t[fu]=function(e){return t.handleEvent(e)}),t[fu])}function pu(){fs.call(this),this.c=new tu(this),this.J=this,this.C=null}function vu(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Ks(e,t);else if(e instanceof Ks)e.target=e.target||t;else{var i=e;Is(e=new Ks(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=yu(a,r,!0,e)&&i}if(i=yu(a=e.a=t,r,!0,e)&&i,i=yu(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=yu(a=e.a=n[o],r,!1,e)&&i}function yu(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&eu(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}hs(pu,fs),pu.prototype[Ys]=!0,(Qa=pu.prototype).addEventListener=function(t,e,n,r){ou(this,t,e,n,r)},Qa.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=rs(i)?!!i.capture:!!i,r=du(r),e&&e[Ys]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=nu(a=e.a[n],r,i,o))&&($s(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=hu(e))&&(n=e.a[n.toString()],e=-1,n&&(e=nu(n,r,i,o)),(r=-1<e?n[e]:null)&&su(r))}(this,t,e,n,r)},Qa.G=function(){if(pu.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)$s(n[r]);delete e.a[t],e.b--}}this.C=null},Qa.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Qa.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var gu=ts.JSON.stringify;function mu(){this.b=this.a=null}var bu,_u=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new ku}),(function(t){t.reset()}));function wu(){var t=Su,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function ku(){this.next=this.b=this.a=null}function Cu(t){ts.setTimeout((function(){throw t}),0)}function Ou(t,e){bu||function(){var t=ts.Promise.resolve(void 0);bu=function(){t.then(Iu)}}(),Eu||(bu(),Eu=!0),Su.add(t,e)}mu.prototype.add=function(t,e){var n=_u.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},ku.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},ku.prototype.reset=function(){this.next=this.b=this.a=null};var Eu=!1,Su=new mu;function Iu(){for(var t;t=wu();){try{t.a.call(t.b)}catch(n){Cu(n)}var e=_u;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Eu=!1}function Tu(t,e){pu.call(this),this.b=t||1,this.a=e||ts,this.f=us(this.Za,this),this.g=ls()}function Au(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function xu(t,e,n){if("function"==typeof t)n&&(t=us(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=us(t.handleEvent,t)}return 2147483647<Number(e)?-1:ts.setTimeout(t,e||0)}function ju(t){t.a=xu((function(){t.a=null,t.c&&(t.c=!1,ju(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}hs(Tu,pu),(Qa=Tu.prototype).aa=!1,Qa.M=null,Qa.Za=function(){if(this.aa){var t=ls()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),vu(this,"tick"),this.aa&&(Au(this),this.start()))}},Qa.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ls())},Qa.G=function(){Tu.X.G.call(this),Au(this),delete this.a};var Nu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Za(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ju(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ts.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(fs);function Du(t){fs.call(this),this.b=t,this.a={}}hs(Du,fs);var Pu=[];function Ru(t,e,n,r){Array.isArray(n)||(n&&(Pu[0]=n.toString()),n=Pu);for(var i=0;i<n.length;i++){var o=ou(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Vu(t){Os(t.a,(function(t,e){this.a.hasOwnProperty(e)&&su(t)}),t),t.a={}}function Lu(){this.a=!0}function Mu(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return gu(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}Du.prototype.G=function(){Du.X.G.call(this),Vu(this)},Du.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lu.prototype.info=function(){};var Uu={},Fu=null;function Hu(){return Fu=Fu||new pu}function qu(t){Ks.call(this,Uu.Fa,t)}function zu(t){var e=Hu();vu(e,new qu(e,t))}function Gu(t,e){Ks.call(this,Uu.STAT_EVENT,t),this.stat=e}function Bu(t){var e=Hu();vu(e,new Gu(e,t))}function Wu(t){Ks.call(this,Uu.Ga,t)}function Ku(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ts.setTimeout((function(){t()}),e)}Uu.Fa="serverreachability",hs(qu,Ks),Uu.STAT_EVENT="statevent",hs(Gu,Ks),Uu.Ga="timingevent",hs(Wu,Ks);var Ju={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Zu={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Yu(){}function Qu(){}Yu.prototype.a=null;var Xu,$u={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function tc(){Ks.call(this,"d")}function ec(){Ks.call(this,"c")}function nc(){}function rc(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Du(this),this.P=ic,this.R=new Tu(t=Ps?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}hs(tc,Ks),hs(ec,Ks),hs(nc,Yu),Xu=new nc;var ic=45e3,oc={},ac={};function sc(t,e,n){t.H=1,t.i=Ac(Cc(e)),t.j=n,t.I=!0,uc(t,null)}function uc(t,e){t.u=ls(),hc(t),t.l=Cc(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),qc(n.b,"t",r),t.D=0,t.a=Vl(t.g,t.g.C?e:null),0<t.O&&(t.F=new Nu(us(t.Ca,t,t.a),t.O)),Ru(t.J,t.a,"readystatechange",t.Xa),e=t.B?Es(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),zu(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function cc(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=lc(t,n);if(i==ac){4==e&&(t.h=4,Bu(14),r=!1),Mu(t.c,t.f,null,"[Incomplete Response]");break}if(i==oc){t.h=4,Bu(15),Mu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Mu(t.c,t.f,i,null),yc(t,i)}4==e&&0==n.length&&(t.h=1,Bu(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Tl(e),e.F=!0,Bu(11))):(Mu(t.c,t.f,n,"[Invalid Chunked Response]"),vc(t),pc(t))}function lc(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ac:(n=Number(e.substring(n,r)),isNaN(n)?oc:(r+=1)+n>e.length?ac:(e=e.substr(r,n),t.D=r+n,e))}function hc(t){t.T=ls()+t.P,fc(t,t.P)}function fc(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ku(us(t.Va,t),e)}function dc(t){t.o&&(ts.clearTimeout(t.o),t.o=null)}function pc(t){0==t.g.v||t.A||jl(t.g,t)}function vc(t){dc(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Au(t.R),Vu(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function yc(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Zc(n.b,t)))if(n.I=t.N,!t.C&&Zc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(m_){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;xl(n),bl(n)}Il(n),Bu(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ku(us(n.Sa,n),6e3));if(1>=Jc(n.b)&&n.ea){try{n.ea()}catch(m_){}n.ea=void 0}}else Dl(n,11)}else if((t.C||n.a==t)&&xl(n),!gs(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(_s(l,"spdy")||_s(l,"quic")||_s(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Yc(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Tc(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ls()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Rl(u,u.C?u.ga:null,u.fa),d.C){Qc(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(dc(p),hc(p)),u.a=d}else Sl(u);0<n.g.length&&kl(n)}else"stop"!=i[0]&&"close"!=i[0]||Dl(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Dl(n,7):ml(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);zu(4)}catch(m_){}}function gc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ns(t)||"string"==typeof t)ps(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ns(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ns(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function mc(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof mc)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function bc(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];_c(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)_c(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function _c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Qa=rc.prototype).setTimeout=function(t){this.P=t},Qa.Xa=function(t){t=t.target;var e=this.F;e&&3==pl(t)?e.f():this.Ca(t)},Qa.Ca=function(t){try{if(t==this.a)t:{var e=pl(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Ps&&!this.a.$())){this.A||4!=e||7==n||zu(8==n||0>=r?3:2),dc(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gs(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,Bu(12),vc(this),pc(this);break t}Mu(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,yc(this,u)}this.I?(cc(this,e,o),Ps&&this.b&&3==e&&(Ru(this.J,this.R,"tick",this.Wa),this.R.start())):(Mu(this.c,this.f,o,null),yc(this,o)),4==e&&vc(this),this.b&&!this.A&&(4==e?jl(this.g,this):(this.b=!1,hc(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Bu(12)):(this.h=0,Bu(13)),vc(this),pc(this)}}}catch(c){}},Qa.Wa=function(){if(this.a){var t=pl(this.a),e=this.a.$();this.D<e.length&&(dc(this),cc(this,t,e),this.b&&4!=t&&hc(this))}},Qa.cancel=function(){this.A=!0,vc(this)},Qa.Va=function(){this.o=null;var t=ls();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(zu(3),Bu(17)),vc(this),this.h=2,pc(this)):fc(this,this.T-t)},(Qa=mc.prototype).K=function(){bc(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Qa.L=function(){return bc(this),this.a.concat()},Qa.get=function(t,e){return _c(this.b,t)?this.b[t]:e},Qa.set=function(t,e){_c(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Qa.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var wc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function kc(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof kc){this.a=void 0!==e?e:t.a,Oc(this,t.f),this.j=t.j,Ec(this,t.c),Sc(this,t.h),this.g=t.g,e=t.b;var n=new Mc;n.c=e.c,e.a&&(n.a=new mc(e.a),n.b=e.b),Ic(this,n),this.i=t.i}else t&&(n=String(t).match(wc))?(this.a=!!e,Oc(this,n[1]||"",!0),this.j=xc(n[2]||""),Ec(this,n[3]||"",!0),Sc(this,n[4]),this.g=xc(n[5]||"",!0),Ic(this,n[6]||"",!0),this.i=xc(n[7]||"")):(this.a=!!e,this.b=new Mc(null,this.a))}function Cc(t){return new kc(t)}function Oc(t,e,n){t.f=n?xc(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ec(t,e,n){t.c=n?xc(e,!0):e}function Sc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ic(t,e,n){e instanceof Mc?(t.b=e,function(t,e){e&&!t.f&&(Uc(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Fc(this,e),qc(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=jc(e,Vc)),t.b=new Mc(e,t.a))}function Tc(t,e,n){t.b.set(e,n)}function Ac(t){return Tc(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ls()).toString(36)),t}function xc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Nc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Nc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}kc.prototype.toString=function(){var t=[],e=this.f;e&&t.push(jc(e,Dc,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(jc(e,Dc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(jc(n,"/"==n.charAt(0)?Rc:Pc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",jc(n,Lc)),t.join("")};var Dc=/[#\/\?@]/g,Pc=/[#\?:]/g,Rc=/[#\?]/g,Vc=/[#\?@]/g,Lc=/#/g;function Mc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Uc(t){t.a||(t.a=new mc,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Fc(t,e){Uc(t),e=zc(t,e),_c(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,_c((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&bc(t)))}function Hc(t,e){return Uc(t),e=zc(t,e),_c(t.a.b,e)}function qc(t,e,n){Fc(t,e),0<n.length&&(t.c=null,t.a.set(zc(t,e),ys(n)),t.b+=n.length)}function zc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Qa=Mc.prototype).add=function(t,e){Uc(this),this.c=null,t=zc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Qa.forEach=function(t,e){Uc(this),this.a.forEach((function(n,r){ps(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Qa.L=function(){Uc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Qa.K=function(t){Uc(this);var e=[];if("string"==typeof t)Hc(this,t)&&(e=vs(e,this.a.get(zc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=vs(e,t[n])}return e},Qa.set=function(t,e){return Uc(this),this.c=null,Hc(this,t=zc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Qa.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Qa.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Gc=function(t,e){this.b=t,this.a=e};function Bc(t){this.g=t||Wc,t=ts.PerformanceNavigationTiming?0<(t=ts.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ts.ia&&ts.ia.ya&&ts.ia.ya()&&ts.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Wc=10;function Kc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Jc(t){return t.b?1:t.a?t.a.size:0}function Zc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Yc(t,e){t.a?t.a.add(e):t.b=e}function Qc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Xc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ya(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ys(t.c)}function $c(){}function tl(){this.a=new $c}function el(t,e,n){var r=n||"";try{gc(t,(function(t,n){var i=t;rs(t)&&(i=gu(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(ow){throw e.push(r+"type="+encodeURIComponent("_badmap")),ow}}function nl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Bc.prototype.cancel=function(){var t,e;if(this.c=Xc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ya(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},$c.prototype.stringify=function(t){return ts.JSON.stringify(t,void 0)},$c.prototype.parse=function(t){return ts.JSON.parse(t,void 0)};var rl=ts.JSON.parse;function il(t){pu.call(this),this.headers=new mc,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ol,this.D=this.F=!1}hs(il,pu);var ol="",al=/^https?$/i,sl=["POST","PUT"];function ul(t){return"content-type"==t.toLowerCase()}function cl(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,ll(t),fl(t)}function ll(t){t.u||(t.u=!0,vu(t,"complete"),vu(t,"error"))}function hl(t){if(t.b&&void 0!==$a&&(!t.s[1]||4!=pl(t)||2!=t.W()))if(t.l&&4==pl(t))xu(t.za,0,t);else if(vu(t,"readystatechange"),4==pl(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(wc)[1]||null;if(!o&&ts.self&&ts.self.location){var a=ts.self.location.protocol;o=a.substr(0,a.length-1)}i=!al.test(o?o.toLowerCase():"")}e=i}if(e)vu(t,"complete"),vu(t,"success");else{t.h=6;try{var s=2<pl(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",ll(t)}}finally{fl(t)}}}function fl(t,e){if(t.a){dl(t);var n=t.a,r=t.s[0]?es:null;t.a=null,t.s=null,e||vu(t,"ready");try{n.onreadystatechange=r}catch(ow){}}}function dl(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ts.clearTimeout(t.m),t.m=null)}function pl(t){return t.a?t.a.readyState:0}function vl(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Os(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Tc(t,e,n))}function yl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gl(t){this.pa=0,this.g=[],this.c=new Lu,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=yl("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=yl("baseRetryDelayMs",5e3,t),this.Ra=yl("retryDelaySeedMs",1e4,t),this.Ma=yl("forwardChannelMaxRetries",2,t),this.ma=yl("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Bc(t&&t.concurrentRequestLimit),this.ka=new tl,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function ml(t){if(_l(t),3==t.v){var e=t.R++,n=Cc(t.B);Tc(n,"SID",t.J),Tc(n,"RID",e),Tc(n,"TYPE","terminate"),Ol(t,n),(e=new rc(t,t.c,e,void 0)).H=2,e.i=Ac(Cc(n)),n=!1,ts.navigator&&ts.navigator.sendBeacon&&(n=ts.navigator.sendBeacon(e.i.toString(),"")),!n&&ts.Image&&((new Image).src=e.i,n=!0),n||(e.a=Vl(e.g,null),e.a.ba(e.i)),e.u=ls(),hc(e)}Pl(t)}function bl(t){t.a&&(Tl(t),t.a.cancel(),t.a=null)}function _l(t){bl(t),t.j&&(ts.clearTimeout(t.j),t.j=null),xl(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ts.clearTimeout(t.h),t.h=null)}function wl(t,e){t.g.push(new Gc(t.Oa++,e)),3==t.v&&kl(t)}function kl(t){Kc(t.b)||t.h||(t.h=!0,Ou(t.Ba,t),t.u=0)}function Cl(t,e){var n;n=e?e.f:t.R++;var r=Cc(t.B);Tc(r,"SID",t.J),Tc(r,"RID",n),Tc(r,"AID",t.P),Ol(t,r),t.i&&t.l&&vl(r,t.i,t.l),n=new rc(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=El(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Yc(t.b,n),sc(n,r,e)}function Ol(t,e){t.f&&gc({},(function(t,n){Tc(e,n,t)}))}function El(t,e,n){n=Math.min(t.g.length,n);var r=t.f?us(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{el(l,a,"req"+c+"_")}catch(mh){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Sl(t){t.a||t.j||(t.T=1,Ou(t.Aa,t),t.o=0)}function Il(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ku(us(t.Aa,t),Nl(t,t.o)),t.o++,0))}function Tl(t){null!=t.s&&(ts.clearTimeout(t.s),t.s=null)}function Al(t){t.a=new rc(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Cc(t.la);Tc(e,"RID","rpc"),Tc(e,"SID",t.J),Tc(e,"CI",t.H?"0":"1"),Tc(e,"AID",t.P),Ol(t,e),Tc(e,"TYPE","xmlhttp"),t.i&&t.l&&vl(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ac(Cc(e)),n.j=null,n.I=!0,uc(n,t)}function xl(t){null!=t.m&&(ts.clearTimeout(t.m),t.m=null)}function jl(t,e){var n=null;if(t.a==e){xl(t),Tl(t),t.a=null;var r=2}else{if(!Zc(t.b,e))return;n=e.s,Qc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ls()-e.u;var i=t.u;vu(r=Hu(),new Wu(r,n,e,i)),kl(t)}else Sl(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Jc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ku(us(t.Ba,t,e),Nl(t,t.u)),t.u++,0)))}(t,e)||2==r&&Il(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Dl(t,5);break;case 4:Dl(t,10);break;case 3:Dl(t,6);break;default:Dl(t,2)}}function Nl(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Dl(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=us(t.Ya,t);n||(n=new kc("//www.google.com/images/cleardot.gif"),ts.location&&"http"==ts.location.protocol||Oc(n,"https"),Ac(n)),function(t,e){var n=new Lu;if(ts.Image){var r=new Image;r.onload=cs(nl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=cs(nl,n,r,"TestLoadImage: error",!1,e),r.onabort=cs(nl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=cs(nl,n,r,"TestLoadImage: timeout",!1,e),ts.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Bu(2);t.v=0,t.f&&t.f.ra(e),Pl(t),_l(t)}function Pl(t){t.v=0,t.I=-1,t.f&&(0==Xc(t.b).length&&0==t.g.length||(t.b.c.length=0,ys(t.g),t.g.length=0),t.f.qa())}function Rl(t,e,n){var r=function(t){return t instanceof kc?Cc(t):new kc(t,void 0)}(n);if(""!=r.c)e&&Ec(r,e+"."+r.c),Sc(r,r.h);else{var i=ts.location;r=function(t,e,n,r){var i=new kc(null,void 0);return t&&Oc(i,t),e&&Ec(i,e),n&&Sc(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Os(t.V,(function(t,e){Tc(r,e,t)})),n=t.na,(e=t.A)&&n&&Tc(r,e,n),Tc(r,"VER",t.ha),Ol(t,r),r}function Vl(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new il(t.Na)).F=t.C,e}function Ll(){}function Ml(){if(Ns&&!(10<=Number(zs)))throw Error("Environmental error: no available transport.")}function Ul(t,e){pu.call(this),this.a=new gl(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!gs(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gs(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ql(this)}function Fl(t){tc.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Hl(){ec.call(this),this.status=1}function ql(t){this.a=t}(Qa=il.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Xu),this.a.onreadystatechange=us(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void cl(this,o)}t=n||"";var i=new mc(this.headers);r&&gc(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=ul,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ts.FormData&&t instanceof ts.FormData,!(0<=ds(sl,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{dl(this),0<this.o&&((this.D=function(t){return Ns&&qs(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=us(this.xa,this)):this.m=xu(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){cl(this,o)}},Qa.xa=function(){void 0!==$a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,vu(this,"timeout"),this.abort(8))},Qa.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,vu(this,"complete"),vu(this,"abort"),fl(this))},Qa.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),fl(this,!0)),il.X.G.call(this)},Qa.za=function(){this.j||(this.A||this.l||this.g?hl(this):this.Ua())},Qa.Ua=function(){hl(this)},Qa.W=function(){try{return 2<pl(this)?this.a.status:-1}catch(xs){return-1}},Qa.$=function(){try{return this.a?this.a.responseText:""}catch(xs){return""}},Qa.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),rl(e)}},Qa.ua=function(){return this.h},Qa.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Qa=gl.prototype).ha=8,Qa.v=1,Qa.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new rc(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Is(r=Es(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=El(this,n,e),Tc(i=Cc(this.B),"RID",t),Tc(i,"CVER",22),this.A&&Tc(i,"X-HTTP-Session-Id",this.A),Ol(this,i),this.i&&r&&vl(i,this.i,r),Yc(this.b,n),this.Ia&&Tc(i,"TYPE","init"),this.da?(Tc(i,"$req",e),Tc(i,"SID","null"),n.U=!0,sc(n,i,null)):sc(n,i,e),this.v=2}}else 3==this.v&&(t?Cl(this,t):0==this.g.length||Kc(this.b)||Cl(this))},Qa.Aa=function(){if(this.j=null,Al(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ku(us(this.Ta,this),t)}},Qa.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Bu(10),bl(this),Al(this))},Qa.Sa=function(){null!=this.m&&(this.m=null,bl(this),Il(this),Bu(19))},Qa.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Bu(2)):(this.c.info("Failed to ping google.com"),Bu(1))},(Qa=Ll.prototype).ta=function(){},Qa.sa=function(){},Qa.ra=function(){},Qa.qa=function(){},Qa.Ja=function(){},Ml.prototype.a=function(t,e){return new Ul(t,e)},hs(Ul,pu),Ul.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Bu(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Rl(t,null,t.fa),kl(t)},Ul.prototype.close=function(){ml(this.a)},Ul.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,wl(this.a,e)}else this.l?((e={}).__data__=gu(t),wl(this.a,e)):wl(this.a,t)},Ul.prototype.G=function(){this.a.f=null,delete this.f,ml(this.a),delete this.a,Ul.X.G.call(this)},hs(Fl,tc),hs(Hl,ec),hs(ql,Ll),ql.prototype.ta=function(){vu(this.a,"a")},ql.prototype.sa=function(t){vu(this.a,new Fl(t))},ql.prototype.ra=function(t){vu(this.a,new Hl(t))},ql.prototype.qa=function(){vu(this.a,"b")},Ml.prototype.createWebChannel=Ml.prototype.a,Ul.prototype.send=Ul.prototype.h,Ul.prototype.open=Ul.prototype.g,Ul.prototype.close=Ul.prototype.close,Ju.NO_ERROR=0,Ju.TIMEOUT=8,Ju.HTTP_ERROR=6,Zu.COMPLETE="complete",Qu.EventType=$u,$u.OPEN="a",$u.CLOSE="b",$u.ERROR="c",$u.MESSAGE="d",pu.prototype.listen=pu.prototype.va,il.prototype.listenOnce=il.prototype.wa,il.prototype.getLastError=il.prototype.Qa,il.prototype.getLastErrorCode=il.prototype.ua,il.prototype.getStatus=il.prototype.W,il.prototype.getResponseJson=il.prototype.Pa,il.prototype.getResponseText=il.prototype.$,il.prototype.send=il.prototype.ba;var zl=Ju,Gl=Zu,Bl=Uu,Wl=Qu,Kl=il,Jl=n("mrSG"),Zl=new Ka.b("@firebase/firestore");function Yl(){return Zl.logLevel}function Ql(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zl.logLevel<=Ka.a.DEBUG){var r=e.map(th);Zl.debug.apply(Zl,Object(Jl.g)(["Firestore (8.2.2): "+t],r))}}function Xl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zl.logLevel<=Ka.a.ERROR){var r=e.map(th);Zl.error.apply(Zl,Object(Jl.g)(["Firestore (8.2.2): "+t],r))}}function $l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zl.logLevel<=Ka.a.WARN){var r=e.map(th);Zl.warn.apply(Zl,Object(Jl.g)(["Firestore (8.2.2): "+t],r))}}function th(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(ow){return t}}function eh(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.2) INTERNAL ASSERTION FAILED: "+t;throw Xl(e),new Error(e)}function nh(t,e){t||eh()}function rh(t,e){return t}function ih(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var oh=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=ih(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ah(t,e){return t<e?-1:t>e?1:0}function sh(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function uh(t){return t+"\0"}var ch=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return ah(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();ch.h=new ch("");var lh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},hh=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Jl.c)(e,t),e}(Error),fh=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(ch.fromBase64String(e))}catch(e){throw new hh(lh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ch.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),dh=function(t){this._=t};function ph(){if("undefined"==typeof Uint8Array)throw new hh(lh.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function vh(){if("undefined"==typeof atob)throw new hh(lh.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var yh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jl.c)(e,t),e.fromBase64String=function(t){return vh(),new e(fh.fromBase64String(t))},e.fromUint8Array=function(t){return ph(),new e(fh.fromUint8Array(t))},e.prototype.toBase64=function(){return vh(),this._.toBase64()},e.prototype.toUint8Array=function(){return ph(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(dh),gh=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},mh=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),bh=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();bh.UNAUTHENTICATED=new bh(null),bh.P=new bh("google-credentials-uid"),bh.g=new bh("first-party-uid");var _h=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},wh=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(bh.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),kh=function(){function t(t){var e=this;this.C=null,this.currentUser=bh.UNAUTHENTICATED,this.N=!1,this.O=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.O++,e.currentUser=e.F(),e.N=!0,e.p&&e.p(e.currentUser)},this.O=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.O,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.O!==e?(Ql("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(nh("string"==typeof n.accessToken),new _h(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return nh(null===t||"string"==typeof t),new bh(t)},t}(),Ch=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=bh.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Oh=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Ch(this.k,this.M))},t.prototype.S=function(t){t(bh.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Eh=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Eh.U=-1;var Sh=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new hh(lh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new hh(lh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new hh(lh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new hh(lh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?ah(this.nanoseconds,t.nanoseconds):ah(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ih=function(){function t(t){this.timestamp=t}return t.j=function(e){return new t(e)},t.min=function(){return new t(new Sh(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),Th=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&eh(),void 0===n?n=t.length-e:n>t.length-e&&eh(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ah=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jl.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new hh(lh.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(Th),xh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jl.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return xh.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new hh(lh.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new hh(lh.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new hh(lh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new hh(lh.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(Th),Nh=function(){function t(t){this.path=t}return t.ft=function(e){return new t(Ah.ct(e))},t.dt=function(e){return new t(Ah.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ah.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return Ah.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new Ah(e.slice()))},t}();function Dh(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ph(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Rh(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Vh=function(){function t(t){this.fields=t,t.sort(jh.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return sh(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Lh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mh(t){if(nh(!!t),"string"==typeof t){var e=0,n=Lh.exec(t);if(nh(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Uh(t.seconds),nanos:Uh(t.nanos)}}function Uh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Fh(t){return"string"==typeof t?ch.fromBase64String(t):ch.fromUint8Array(t)}function Hh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function qh(t){var e=Mh(t.mapValue.fields.__local_write_time__.timestampValue);return new Sh(e.seconds,e.nanos)}function zh(t){return null==t}function Gh(t){return 0===t&&1/t==-1/0}function Bh(t){return"number"==typeof t&&Number.isInteger(t)&&!Gh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Wh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hh(t)?4:10:eh()}function Kh(t,e){var n=Wh(t);if(n!==Wh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qh(t).isEqual(qh(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Mh(t.timestampValue),r=Mh(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Fh(t.bytesValue).isEqual(Fh(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Uh(t.geoPointValue.latitude)===Uh(e.geoPointValue.latitude)&&Uh(t.geoPointValue.longitude)===Uh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Uh(t.integerValue)===Uh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Uh(t.doubleValue),r=Uh(e.doubleValue);return n===r?Gh(n)===Gh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return sh(t.arrayValue.values||[],e.arrayValue.values||[],Kh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Dh(n)!==Dh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Kh(n[i],r[i])))return!1;return!0}(t,e);default:return eh()}}function Jh(t,e){return void 0!==(t.values||[]).find((function(t){return Kh(t,e)}))}function Zh(t,e){var n=Wh(t),r=Wh(e);if(n!==r)return ah(n,r);switch(n){case 0:return 0;case 1:return ah(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Uh(t.integerValue||t.doubleValue),r=Uh(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Yh(t.timestampValue,e.timestampValue);case 4:return Yh(qh(t),qh(e));case 5:return ah(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Fh(t),r=Fh(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ah(n[i],r[i]);if(0!==o)return o}return ah(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ah(Uh(t.latitude),Uh(e.latitude));return 0!==n?n:ah(Uh(t.longitude),Uh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Zh(n[i],r[i]);if(o)return o}return ah(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=ah(r[a],o[a]);if(0!==s)return s;var u=Zh(n[r[a]],i[o[a]]);if(0!==u)return u}return ah(r.length,o.length)}(t.mapValue,e.mapValue);default:throw eh()}}function Yh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ah(t,e);var n=Mh(t),r=Mh(e),i=ah(n.seconds,r.seconds);return 0!==i?i:ah(n.nanos,r.nanos)}function Qh(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Mh(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Fh(e.bytesValue).toBase64():"referenceValue"in e?Nh.dt(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):eh();var n}(t)}function Xh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function $h(t){return!!t&&"integerValue"in t}function tf(t){return!!t&&"arrayValue"in t}function ef(t){return!!t&&"nullValue"in t}function nf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rf(t){return!!t&&"mapValue"in t}var of=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!rf(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return Kh(this.proto,t.proto)},t}(),af=function(){function t(t){void 0===t&&(t=of.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Wh(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(jh.at(),this.Rt);return null!=t?new of(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=rf(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.gt(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function sf(t){var e=[];return Ph(t.fields||{},(function(t,n){var r=new jh([t]);if(rf(n)){var i=sf(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)})),new Vh(e)}var uf=function(t,e){this.key=t,this.version=e},cf=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Jl.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(uf),lf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Jl.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(uf),hf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jl.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(uf),ff=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.St=null};function df(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ff(t,e,n,r,i,o,a)}function pf(t){var e=rh(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+Qh(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=If(e.startAt)),e.endAt&&(n+="|ub:",n+=If(e.endAt)),e.St=n}return e.St}function vf(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Af(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Kh(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jf(t.startAt,e.startAt)&&jf(t.endAt,e.endAt)}function yf(t){return Nh.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var gf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Jl.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new mf(t,n,r):"array-contains"===n?new kf(t,r):"in"===n?new Cf(t,r):"not-in"===n?new Of(t,r):"array-contains-any"===n?new Ef(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new bf(t,n):new _f(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Zh(e,this.value)):null!==e&&Wh(this.value)===Wh(e)&&this.Ct(Zh(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return eh()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),mf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Nh.dt(r.referenceValue),i}return Object(Jl.c)(e,t),e.prototype.matches=function(t){var e=Nh.J(t.key,this.key);return this.Ct(e)},e}(gf),bf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=wf(0,n),r}return Object(Jl.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(gf),_f=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=wf(0,n),r}return Object(Jl.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(gf);function wf(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Nh.dt(t.referenceValue)}))}var kf=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Jl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return tf(e)&&Jh(e.arrayValue,this.value)},e}(gf),Cf=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Jl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Jh(this.value.arrayValue,e)},e}(gf),Of=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Jl.c)(e,t),e.prototype.matches=function(t){if(Jh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Jh(this.value.arrayValue,e)},e}(gf),Ef=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Jl.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!tf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Jh(e.value.arrayValue,t)}))},e}(gf),Sf=function(t,e){this.position=t,this.before=e};function If(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Qh(t)})).join(",")}var Tf=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Af(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function xf(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.ht()?Nh.J(Nh.dt(a.referenceValue),n.key):Zh(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function jf(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Kh(t.position[n],e.position[n]))return!1;return!0}var Nf=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Ot=null,this.Ft=null};function Df(t,e,n,r,i,o,a,s){return new Nf(t,e,n,r,i,o,a,s)}function Pf(t){return new Nf(t)}function Rf(t){return!zh(t.limit)&&"F"===t.limitType}function Vf(t){return!zh(t.limit)&&"L"===t.limitType}function Lf(t){return t.Nt.length>0?t.Nt[0].field:null}function Mf(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function Uf(t){return null!==t.collectionGroup}function Ff(t){var e=rh(t);if(null===e.Ot){e.Ot=[];var n=Mf(e),r=Lf(e);if(null!==n&&null===r)n.ht()||e.Ot.push(new Tf(n)),e.Ot.push(new Tf(jh.lt(),"asc"));else{for(var i=!1,o=0,a=e.Nt;o<a.length;o++){var s=a[o];e.Ot.push(s),s.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ot.push(new Tf(jh.lt(),u))}}}return e.Ot}function Hf(t){var e=rh(t);if(!e.Ft)if("F"===e.limitType)e.Ft=df(e.path,e.collectionGroup,Ff(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ff(e);r<i.length;r++){var o=i[r];n.push(new Tf(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new Sf(e.endAt.position,!e.endAt.before):null,s=e.startAt?new Sf(e.startAt.position,!e.startAt.before):null;e.Ft=df(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.Ft}function qf(t,e,n){return new Nf(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zf(t,e){return vf(Hf(t),Hf(e))&&t.limitType===e.limitType}function Gf(t){return pf(Hf(t))+"|lt:"+t.limitType}function Bf(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+Qh(e.value);var e})).join(", ")+"]"),zh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+If(t.startAt)),t.endAt&&(e+=", endAt: "+If(t.endAt)),"Target("+e+")"}(Hf(t))+"; limitType="+t.limitType+")"}function Wf(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Nh.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!xf(t.startAt,Ff(t),e)||t.endAt&&xf(t.endAt,Ff(t),e))}(t,e)}function Kf(t){return function(e,n){for(var r=!1,i=0,o=Ff(t);i<o.length;i++){var a=o[i],s=Jf(a,e,n);if(0!==s)return s;r=r||a.field.ht()}return 0}}function Jf(t,e,n){var r=t.field.ht()?Nh.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Zh(r,i):eh()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return eh()}}var Zf=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Ih.min()),void 0===o&&(o=Ih.min()),void 0===a&&(a=ch.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function Yf(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function Qf(t){return{integerValue:""+t}}function Xf(t,e){return Bh(e)?Qf(e):Yf(t,e)}var $f=function(){this.Ut=void 0};function td(t,e,n){return t instanceof rd?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof id?od(t,e):t instanceof ad?sd(t,e):function(t,e){var n=nd(t,e),r=cd(n)+cd(t.Qt);return $h(n)&&$h(t.Qt)?Qf(r):Yf(t.Kt,r)}(t,e)}function ed(t,e,n){return t instanceof id?od(t,e):t instanceof ad?sd(t,e):n}function nd(t,e){return t instanceof ud?$h(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var rd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jl.c)(e,t),e}($f),id=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Jl.c)(e,t),e}($f);function od(t,e){for(var n=ld(e),r=function(t){n.some((function(e){return Kh(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ad=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Jl.c)(e,t),e}($f);function sd(t,e){for(var n=ld(e),r=function(t){n=n.filter((function(e){return!Kh(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ud=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(Jl.c)(e,t),e}($f);function cd(t){return Uh(t.integerValue||t.doubleValue)}function ld(t){return tf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var hd=function(t,e){this.field=t,this.transform=e},fd=function(t,e){this.version=t,this.transformResults=e},dd=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.jt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function pd(t,e){return void 0!==t.updateTime?e instanceof cf&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof cf}var vd=function(){};function yd(t,e,n){return t instanceof wd?function(t,e,n){var r=t.value;if(n.transformResults){var i=Od(t.fieldTransforms,e,n.transformResults);r=Sd(t.fieldTransforms,r,i)}return new cf(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof kd?function(t,e,n){if(!pd(t.Gt,e))return new hf(t.key,n.version);var r=Cd(t,e,n.transformResults?Od(t.fieldTransforms,e,n.transformResults):[]);return new cf(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new lf(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function gd(t,e,n,r){return t instanceof wd?function(t,e,n,r){if(!pd(t.Gt,e))return e;var i=t.value,o=Ed(t.fieldTransforms,n,e);i=Sd(t.fieldTransforms,i,o);var a=_d(e);return new cf(t.key,a,i,{bt:!0})}(t,e,r):t instanceof kd?function(t,e,n,r){if(!pd(t.Gt,e))return e;var i=_d(e),o=Cd(t,e,Ed(t.fieldTransforms,n,e));return new cf(t.key,i,o,{bt:!0})}(t,e,r):function(t,e){return pd(t.Gt,e)?new lf(t.key,Ih.min()):e}(t,e)}function md(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],a=e instanceof cf?e.field(o.field):void 0,s=nd(o.transform,a||null);null!=s&&(n=null==n?(new af).set(o.field,s):n.set(o.field,s))}return n?n.yt():null}(t.fieldTransforms,e)}function bd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&sh(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof id&&e instanceof id||t instanceof ad&&e instanceof ad?sh(t.elements,e.elements,Kh):t instanceof ud&&e instanceof ud?Kh(t.Qt,e.Qt):t instanceof rd&&e instanceof rd}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function _d(t){return t instanceof cf?t.version:Ih.min()}var wd=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(Jl.c)(e,t),e}(vd),kd=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.zt=r,a.Gt=i,a.fieldTransforms=o,a.type=1,a}return Object(Jl.c)(e,t),e}(vd);function Cd(t,e,n){var r;return r=function(t,e){var n=new af(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof cf?e.data():of.empty()),Sd(t.fieldTransforms,r,n)}function Od(t,e,n){var r=[];nh(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof cf&&(s=e.field(o.field)),r.push(ed(a,s,n[i]))}return r}function Ed(t,e,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,c=null;n instanceof cf&&(c=n.field(s.field)),i.push(td(u,c,e))}return i}function Sd(t,e,n){for(var r=new af(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var Id,Td,Ad=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(Jl.c)(e,t),e}(vd),xd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(Jl.c)(e,t),e}(vd),jd=function(t){this.count=t};function Nd(t){switch(t){case lh.OK:return eh();case lh.CANCELLED:case lh.UNKNOWN:case lh.DEADLINE_EXCEEDED:case lh.RESOURCE_EXHAUSTED:case lh.INTERNAL:case lh.UNAVAILABLE:case lh.UNAUTHENTICATED:return!1;case lh.INVALID_ARGUMENT:case lh.NOT_FOUND:case lh.ALREADY_EXISTS:case lh.PERMISSION_DENIED:case lh.FAILED_PRECONDITION:case lh.ABORTED:case lh.OUT_OF_RANGE:case lh.UNIMPLEMENTED:case lh.DATA_LOSS:return!0;default:return eh()}}function Dd(t){if(void 0===t)return Xl("GRPC error has no .code"),lh.UNKNOWN;switch(t){case Id.OK:return lh.OK;case Id.CANCELLED:return lh.CANCELLED;case Id.UNKNOWN:return lh.UNKNOWN;case Id.DEADLINE_EXCEEDED:return lh.DEADLINE_EXCEEDED;case Id.RESOURCE_EXHAUSTED:return lh.RESOURCE_EXHAUSTED;case Id.INTERNAL:return lh.INTERNAL;case Id.UNAVAILABLE:return lh.UNAVAILABLE;case Id.UNAUTHENTICATED:return lh.UNAUTHENTICATED;case Id.INVALID_ARGUMENT:return lh.INVALID_ARGUMENT;case Id.NOT_FOUND:return lh.NOT_FOUND;case Id.ALREADY_EXISTS:return lh.ALREADY_EXISTS;case Id.PERMISSION_DENIED:return lh.PERMISSION_DENIED;case Id.FAILED_PRECONDITION:return lh.FAILED_PRECONDITION;case Id.ABORTED:return lh.ABORTED;case Id.OUT_OF_RANGE:return lh.OUT_OF_RANGE;case Id.UNIMPLEMENTED:return lh.UNIMPLEMENTED;case Id.DATA_LOSS:return lh.DATA_LOSS;default:return eh()}}(Td=Id||(Id={}))[Td.OK=0]="OK",Td[Td.CANCELLED=1]="CANCELLED",Td[Td.UNKNOWN=2]="UNKNOWN",Td[Td.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Td[Td.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Td[Td.NOT_FOUND=5]="NOT_FOUND",Td[Td.ALREADY_EXISTS=6]="ALREADY_EXISTS",Td[Td.PERMISSION_DENIED=7]="PERMISSION_DENIED",Td[Td.UNAUTHENTICATED=16]="UNAUTHENTICATED",Td[Td.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Td[Td.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Td[Td.ABORTED=10]="ABORTED",Td[Td.OUT_OF_RANGE=11]="OUT_OF_RANGE",Td[Td.UNIMPLEMENTED=12]="UNIMPLEMENTED",Td[Td.INTERNAL=13]="INTERNAL",Td[Td.UNAVAILABLE=14]="UNAVAILABLE",Td[Td.DATA_LOSS=15]="DATA_LOSS";var Pd=function(){function t(t,e){this.J=t,this.root=e||Vd.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,Vd.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,Vd.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new Rd(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new Rd(this.root,t,this.J,!1)},t.prototype.se=function(){return new Rd(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new Rd(this.root,t,this.J,!0)},t}(),Rd=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),Vd=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw eh();if(this.right._e())throw eh();var t=this.left.me();if(t!==this.right.me())throw eh();return t+(this._e()?0:1)},t}();Vd.EMPTY=null,Vd.RED=!0,Vd.Jt=!1,Vd.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw eh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw eh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw eh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw eh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw eh()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new Vd(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var Ld=function(){function t(t){this.J=t,this.data=new Pd(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new Md(this.data.ee())},t.prototype.ne=function(t){return new Md(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),Md=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),Ud=new Pd(Nh.J);function Fd(){return Ud}function Hd(){return Fd()}var qd=new Pd(Nh.J);function zd(){return qd}var Gd=new Pd(Nh.J);function Bd(){return Gd}var Wd=new Ld(Nh.J);function Kd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Wd,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Jd=new Ld(ah);function Zd(){return Jd}var Yd=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Nh.J(e.key,n.key)}:function(t,e){return Nh.J(t.key,e.key)},this.Ve=zd(),this.pe=new Pd(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),Qd=function(){function t(){this.ve=new Pd(Nh.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):eh():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),Xd=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=a,this.Ne=s}return t.Oe=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Yd.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&zf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),$d=function(){function t(t,e,n,r,i){this.Mt=t,this.Fe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,tp.Be(e,n)),new t(Ih.min(),r,Zd(),Fd(),Kd())},t}(),tp=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(ch.h,n,Kd(),Kd(),Kd())},t}(),ep=function(t,e,n,r){this.je=t,this.removedTargetIds=e,this.key=n,this.We=r},np=function(t,e){this.targetId=t,this.Ge=e},rp=function(t,e,n,r){void 0===n&&(n=ch.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ip=function(){function t(){this.ze=0,this.He=sp(),this.Je=ch.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=Kd(),e=Kd(),n=Kd();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:eh()}})),new tp(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=sp()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),op=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Fd(),this.fn=ap(),this.dn=new Ld(ah)}return t.prototype.wn=function(t){for(var e=0,n=t.je;e<n.length;e++){var r=n[e];t.We instanceof cf?this.En(r,t.We):t.We instanceof lf&&this.Tn(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.We)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:eh()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(yf(i))if(0===n){var o=new Nh(i.path);this.Tn(e,o,new lf(o,Ih.min()))}else nh(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var o=e.gn(i);if(o){if(r.qe&&yf(o.target)){var a=new Nh(o.target.path);null!==e._n.get(a)||e.bn(i,a)||e.Tn(i,a,new lf(a,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=Kd();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new $d(t,n,this.dn,this._n,r);return this._n=Fd(),this.fn=ap(),this.dn=new Ld(ah),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new ip,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Ld(ah),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||Ql("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new ip),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function ap(){return new Pd(Nh.J)}function sp(){return new Pd(Nh.J)}var up={asc:"ASCENDING",desc:"DESCENDING"},cp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lp=function(t,e){this.T=t,this.qt=e};function hp(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function fp(t,e){return t.qt?e.toBase64():e.toUint8Array()}function dp(t,e){return hp(t,e.G())}function pp(t){return nh(!!t),Ih.j(function(t){var e=Mh(t);return new Sh(e.seconds,e.nanos)}(t))}function vp(t,e){return function(t){return new Ah(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function yp(t){var e=Ah.ct(t);return nh(Up(e)),e}function gp(t,e){return vp(t.T,e.path)}function mp(t,e){var n=yp(e);if(n.get(1)!==t.T.projectId)throw new hh(lh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new hh(lh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Nh(kp(n))}function bp(t,e){return vp(t.T,e)}function _p(t){var e=yp(t);return 4===e.length?Ah.at():kp(e)}function wp(t){return new Ah(["projects",t.T.projectId,"databases",t.T.database]).ot()}function kp(t){return nh(t.length>4&&"documents"===t.get(4)),t.X(5)}function Cp(t,e,n){return{name:gp(t,e),fields:n.proto.mapValue.fields}}function Op(t,e,n){var r=mp(t,e.name),i=pp(e.updateTime),o=new of({mapValue:{fields:e.fields}});return new cf(r,i,o,{hasCommittedMutations:!!n})}function Ep(t,e){var n;if(e instanceof wd)n={update:Cp(t,e.key,e.value)};else if(e instanceof Ad)n={delete:gp(t,e.key)};else if(e instanceof kd)n={update:Cp(t,e.key,e.data),updateMask:Mp(e.zt)};else{if(!(e instanceof xd))return eh();n={verify:gp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof rd)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof id)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof ad)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof ud)return{fieldPath:e.field.ot(),increment:n.Qt};throw eh()}(0,t)}))),e.Gt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:dp(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:eh()}(t,e.Gt)),n}function Sp(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?dd.updateTime(pp(t.updateTime)):void 0!==t.exists?dd.exists(t.exists):dd.jt()}(e.currentDocument):dd.jt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(nh("REQUEST_TIME"===e.setToServerValue),n=new rd):"appendMissingElements"in e?n=new id(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new ad(e.removeAllFromArray.values||[]):"increment"in e?n=new ud(t,e.increment):eh();var r=jh._t(e.fieldPath);return new hd(r,n)}(t,e)})):[];if(e.update){var i=mp(t,e.update.name),o=new of({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new Vh((t.fieldPaths||[]).map((function(t){return jh._t(t)})))}(e.updateMask);return new kd(i,o,a,n,r)}return new wd(i,o,n,r)}if(e.delete){var s=mp(t,e.delete);return new Ad(s,n)}if(e.verify){var u=mp(t,e.verify);return new xd(u,n)}return eh()}function Ip(t,e){return{documents:[bp(t,e.path)]}}function Tp(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=bp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=bp(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(nf(t.value))return{unaryFilter:{field:Pp(t.field),op:"IS_NAN"}};if(ef(t.value))return{unaryFilter:{field:Pp(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(nf(t.value))return{unaryFilter:{field:Pp(t.field),op:"IS_NOT_NAN"}};if(ef(t.value))return{unaryFilter:{field:Pp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pp(t.field),op:Dp(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Pp(t.field),direction:Np(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.qt||zh(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=xp(e.startAt)),e.endAt&&(n.structuredQuery.endAt=xp(e.endAt)),n}function Ap(t){var e=_p(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){nh(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[Lp(e)]:void 0!==e.fieldFilter?[Vp(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):eh():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new Tf(Rp(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return zh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=jp(n.startAt));var l=null;return n.endAt&&(l=jp(n.endAt)),Df(e,i,s,a,u,"F",c,l)}function xp(t){return{before:t.before,values:t.position}}function jp(t){return new Sf(t.values||[],!!t.before)}function Np(t){return up[t]}function Dp(t){return cp[t]}function Pp(t){return{fieldPath:t.ot()}}function Rp(t){return jh._t(t.fieldPath)}function Vp(t){return gf.create(Rp(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return eh()}}(t.fieldFilter.op),t.fieldFilter.value)}function Lp(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Rp(t.unaryFilter.field);return gf.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Rp(t.unaryFilter.field);return gf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Rp(t.unaryFilter.field);return gf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Rp(t.unaryFilter.field);return gf.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return eh()}}function Mp(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function Up(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Fp=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Hp=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.On=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.On&&eh(),this.On=!0,this.Nn?this.error?this.Fn(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.Fn(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),qp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new Fp,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new Bp(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=Yp(e.target.error);n.qn.reject(new Bp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Bp(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(Ql("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Kp(e)},t}(),zp=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(Ja.g)())&&Xl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ql("SimpleDb","Removing database:",t),Jp(window.indexedDB.deleteDatabase(t)).Mn()},t.jn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(Ja.g)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(Jl.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Jl.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Ql("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Bp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new hh(lh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Bp(t,n))},i.onupgradeneeded=function(t){Ql("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Ql("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Jl.b)(this,void 0,void 0,(function(){var i,o,a,s,u;return Object(Jl.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return Object(Jl.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.Jn(t)];case 2:return s.db=h.sent(),e=qp.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),Hp.reject(t)})).Mn(),u={},a.catch((function(){})),[4,e.Un];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return Ql("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Gp=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return Jp(this.ts.delete())},t}(),Bp=function(t){function e(e,n){var r=this;return(r=t.call(this,lh.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Jl.c)(e,t),e}(hh);function Wp(t){return"IndexedDbTransactionError"===t.name}var Kp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ql("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ql("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Jp(n)},t.prototype.add=function(t){return Ql("SimpleDb","ADD",this.store.name,t,t),Jp(this.store.add(t))},t.prototype.get=function(t){var e=this;return Jp(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Ql("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Ql("SimpleDb","DELETE",this.store.name,t),Jp(this.store.delete(t))},t.prototype.count=function(){return Ql("SimpleDb","COUNT",this.store.name),Jp(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){Ql("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new Hp((function(n,r){e.onerror=function(t){var e=Yp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new Hp((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Gp(i),a=e(i.primaryKey,i.value,o);if(a instanceof Hp){var s=a.catch((function(t){return o.done(),Hp.reject(t)}));n.push(s)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}})).next((function(){return Hp.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Jp(t){return new Hp((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Yp(t.target.error);n(e)}}))}var Zp=!1;function Yp(t){var e=zp.Kn(Object(Ja.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new hh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Zp||(Zp=!0,setTimeout((function(){throw r}),0)),r}}return t}var Qp=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new Fp,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new hh(lh.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function Xp(t,e){if(Xl("AsyncQueue",e+": "+t),Wp(t))return new hh(lh.UNAVAILABLE,e+": "+t);throw t}var $p="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tv=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach((function(t){return t()}))},t}();function ev(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=rv(e)),e=nv(t.get(n),e);return rv(e)}function nv(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function rv(t){return t+"\x01\x01"}function iv(t){var e=t.length;if(nh(e>=2),2===e)return nh("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ah.at();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&eh(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:eh()}o=a+2}return new Ah(r)}var ov=function(t,e){this.seconds=t,this.nanoseconds=e},av=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};av.store="owner",av.key="owner";var sv=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};sv.store="mutationQueues",sv.keyPath="userId";var uv=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};uv.store="mutations",uv.keyPath="batchId",uv.userMutationsIndex="userMutationsIndex",uv.userMutationsKeyPath=["userId","batchId"];var cv=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ev(e)]},t.key=function(t,e,n){return[t,ev(e),n]},t}();cv.store="documentMutations",cv.PLACEHOLDER=new cv;var lv=function(t,e){this.path=t,this.readTime=e},hv=function(t,e){this.path=t,this.version=e},fv=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};fv.store="remoteDocuments",fv.readTimeIndex="readTimeIndex",fv.readTimeIndexPath="readTime",fv.collectionReadTimeIndex="collectionReadTimeIndex",fv.collectionReadTimeIndexPath=["parentPath","readTime"];var dv=function(t){this.byteSize=t};dv.store="remoteDocumentGlobal",dv.key="remoteDocumentGlobalKey";var pv=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};pv.store="targets",pv.keyPath="targetId",pv.queryTargetsIndexName="queryTargetsIndex",pv.queryTargetsKeyPath=["canonicalId","targetId"];var vv=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};vv.store="targetDocuments",vv.keyPath=["targetId","path"],vv.documentTargetsIndex="documentTargetsIndex",vv.documentTargetsKeyPath=["path","targetId"];var yv=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};yv.key="targetGlobalKey",yv.store="targetGlobal";var gv=function(t,e){this.collectionId=t,this.parent=e};gv.store="collectionParents",gv.keyPath=["collectionId","parent"];var mv=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};mv.store="clientMetadata",mv.keyPath="clientId";var bv=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};bv.store="bundles",bv.keyPath="bundleId";var _v=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};_v.store="namedQueries",_v.keyPath="name";var wv=Object(Jl.g)(Object(Jl.g)(Object(Jl.g)(Object(Jl.g)([sv.store,uv.store,cv.store,fv.store,pv.store,av.store,yv.store,vv.store],[mv.store]),[dv.store]),[gv.store]),[bv.store,_v.store]),kv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(Jl.c)(e,t),e}(tv);function Cv(t,e){var n=rh(t);return zp.Hn(n.bs,e)}var Ov=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=yd(o,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=gd(a,e,0,this.Ss));for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(t)&&(e=gd(a,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Kd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&sh(this.mutations,t.mutations,(function(t,e){return bd(t,e)}))&&sh(this.baseMutations,t.baseMutations,(function(t,e){return bd(t,e)}))},t}(),Ev=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.Cs=n,this.Fs=r}return t.from=function(e,n,r){nh(e.mutations.length===r.length);for(var i=Bd(),o=e.mutations,a=0;a<o.length;a++)i=i.Ht(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Sv=function(t){this.ks=t};function Iv(t,e){if(e.document)return Op(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Nh.Tt(e.noDocument.path),r=Nv(e.noDocument.readTime);return new lf(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Nh.Tt(e.unknownDocument.path);return r=Nv(e.unknownDocument.version),new hf(i,r)}return eh()}function Tv(t,e,n){var r=Av(n),i=e.key.path.Z().rt();if(e instanceof cf){var o=function(t,e){return{name:gp(t,e.key),fields:e.vt().mapValue.fields,updateTime:hp(t,e.version.G())}}(t.ks,e),a=e.hasCommittedMutations;return new fv(null,null,o,a,r,i)}if(e instanceof lf){var s=e.key.path.rt(),u=jv(e.version);return a=e.hasCommittedMutations,new fv(null,new lv(s,u),null,a,r,i)}if(e instanceof hf){var c=e.key.path.rt(),l=jv(e.version);return new fv(new hv(c,l),null,null,!0,r,i)}return eh()}function Av(t){var e=t.G();return[e.seconds,e.nanoseconds]}function xv(t){var e=new Sh(t[0],t[1]);return Ih.j(e)}function jv(t){var e=t.G();return new ov(e.seconds,e.nanoseconds)}function Nv(t){var e=new Sh(t.seconds,t.nanoseconds);return Ih.j(e)}function Dv(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Sp(t.ks,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return Sp(t.ks,e)})),a=Sh.fromMillis(e.localWriteTimeMs);return new Ov(e.batchId,a,n,o)}function Pv(t){var e,n,r=Nv(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Nv(t.lastLimboFreeSnapshotVersion):Ih.min();return void 0!==t.query.documents?(nh(1===(n=t.query).documents.length),e=Hf(Pf(_p(n.documents[0])))):e=function(t){return Hf(Ap(t))}(t.query),new Zf(e,t.targetId,0,t.lastListenSequenceNumber,r,i,ch.fromBase64String(t.resumeToken))}function Rv(t,e){var n,r=jv(e.Mt),i=jv(e.lastLimboFreeSnapshotVersion);n=yf(e.target)?Ip(t.ks,e.target):Tp(t.ks,e.target);var o=e.resumeToken.toBase64();return new pv(e.targetId,pf(e.target),r,o,e.sequenceNumber,i,n)}function Vv(t){var e=Ap({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?qf(e,e.limit,"L"):e}var Lv=function(){function t(){}return t.prototype.Ms=function(t,e){return Mv(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Nv(e.createTime),version:e.version};var e}))},t.prototype.Ls=function(t,e){return Mv(t).put({bundleId:(n=e).id,createTime:jv(pp(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return Uv(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Vv(e.bundledQuery),readTime:Nv(e.readTime)};var e}))},t.prototype.Bs=function(t,e){return Uv(t).put(function(t){return{name:t.name,readTime:jv(pp(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Mv(t){return Cv(t,bv.store)}function Uv(t){return Cv(t,_v.store)}var Fv=function(){function t(){this.qs=new Hv}return t.prototype.Us=function(t,e){return this.qs.add(e),Hp.resolve()},t.prototype.Qs=function(t,e){return Hp.resolve(this.qs.getEntries(e))},t}(),Hv=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Ld(Ah.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ld(Ah.J)).rt()},t}(),qv=function(){function t(){this.Ks=new Hv}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs((function(){n.Ks.add(e)}));var o={collectionId:r,parent:ev(i)};return zv(t).put(o)}return Hp.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[uh(e),""],!1,!0);return zv(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(iv(o.parent))}return n}))},t}();function zv(t){return Cv(t,gv.store)}var Gv={js:!1,Ws:0,Gs:0,zs:0},Bv=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function Wv(t){return Object(Jl.b)(this,void 0,void 0,(function(){return Object(Jl.d)(this,(function(e){if(t.code!==lh.FAILED_PRECONDITION||t.message!==$p)throw t;return Ql("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}Bv.Zs=10,Bv.ti=1e3,Bv.ei=new Bv(41943040,Bv.Zs,Bv.ti),Bv.ni=new Bv(-1,0,0);var Kv=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.ii(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Ph(this.ri,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.nt=function(){return Rh(this.ri)},t}(),Jv=function(){function t(){this.oi=new Kv((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:Ih.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?Hp.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function Zv(t,e,n){var r=t.store(uv.store),i=t.store(cv.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.ls({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){nh(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=cv.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Hp.$n(o).next((function(){return c}))}function Yv(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw eh();e=t.noDocument}return JSON.stringify(e).length}var Qv=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return nh(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $v(t).ls({index:uv.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Pi=function(t,e,n,r){var i=this,o=ty(t),a=$v(t);return a.add({}).next((function(s){nh("number"==typeof s);for(var u=new Ov(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Ep(t.ks,e)})),i=n.mutations.map((function(e){return Ep(t.ks,e)}));return new uv(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new Ld((function(t,e){return ah(t.ot(),e.ot())})),f=0,d=r;f<d.length;f++){var p=d[f],v=cv.key(i.userId,p.key.path,s);h=h.add(p.key.path.Z()),l.push(a.put(c)),l.push(o.put(v,cv.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ti.Us(t,e))})),t.Vs((function(){i.mi[s]=u.keys()})),Hp.$n(l).next((function(){return u}))}))},t.prototype.yi=function(t,e){var n=this;return $v(t).get(e).next((function(t){return t?(nh(t.userId===n.userId),Dv(n.Kt,t)):null}))},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?Hp.resolve(this.mi[e]):this.yi(t,e).next((function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null}))},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return $v(t).ls({index:uv.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(nh(e.batchId>=r),o=Dv(n.Kt,e)),i.done()})).next((function(){return o}))},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return $v(t).ls({index:uv.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $v(t).os(uv.userMutationsIndex,n).next((function(t){return t.map((function(t){return Dv(e.Kt,t)}))}))},t.prototype.vi=function(t,e){var n=this,r=cv.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ty(t).ls({range:i},(function(r,i,a){var s=r[0],u=r[2],c=iv(r[1]);if(s===n.userId&&e.path.isEqual(c))return $v(t).get(u).next((function(t){if(!t)throw eh();nh(t.userId===n.userId),o.push(Dv(n.Kt,t))}));a.done()})).next((function(){return o}))},t.prototype.Si=function(t,e){var n=this,r=new Ld(ah),i=[];return e.forEach((function(e){var o=cv.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=ty(t).ls({range:a},(function(t,i,o){var a=t[0],s=t[2],u=iv(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()}));i.push(s)})),Hp.$n(i).next((function(){return n.Di(t,r)}))},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,o=cv.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Ld(ah);return ty(t).ls({range:a},(function(t,e,o){var a=t[0],u=t[2],c=iv(t[1]);a===n.userId&&r.st(c)?c.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.Di(t,s)}))},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push($v(t).get(e).next((function(t){if(null===t)throw eh();nh(t.userId===n.userId),r.push(Dv(n.Kt,t))})))})),Hp.$n(i).next((function(){return r}))},t.prototype.xi=function(t,e){var n=this;return Zv(t.bs,this.userId,e).next((function(r){return t.Vs((function(){n.Ni(e.batchId)})),Hp.forEach(r,(function(e){return n.Ii.Oi(t,e)}))}))},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Fi=function(t){var e=this;return this.Ri(t).next((function(n){if(!n)return Hp.resolve();var r=IDBKeyRange.lowerBound(cv.prefixForUser(e.userId)),i=[];return ty(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var o=iv(t[1]);i.push(o)}else r.done()})).next((function(){nh(0===i.length)}))}))},t.prototype.ki=function(t,e){return Xv(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return ey(t).get(this.userId).next((function(t){return t||new sv(e.userId,-1,"")}))},t}();function Xv(t,e,n){var r=cv.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return ty(t).ls({range:o,hs:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function $v(t){return Cv(t,uv.store)}function ty(t){return Cv(t,cv.store)}function ey(t){return Cv(t,sv.store)}var ny=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),ry=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next((function(n){var r=new ny(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ki=function(t){return this.Ui(t).next((function(t){return Ih.j(new Sh(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ji=function(t){return this.Ui(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.Ui(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)}))},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next((function(){return n.Ui(t).next((function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)}))}))},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next((function(){return iy(t).delete(e.targetId)})).next((function(){return n.Ui(t)})).next((function(e){return nh(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)}))},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return iy(t).ls((function(a,s){var u=Pv(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Yi(t,u)))})).next((function(){return Hp.$n(o)})).next((function(){return i}))},t.prototype.mn=function(t,e){return iy(t).ls((function(t,n){var r=Pv(n);e(r)}))},t.prototype.Ui=function(t){return oy(t).get(yv.key).next((function(t){return nh(null!==t),t}))},t.prototype.Qi=function(t,e){return oy(t).put(yv.key,e)},t.prototype.zi=function(t,e){return iy(t).put(Rv(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next((function(t){return t.targetCount}))},t.prototype.er=function(t,e){var n=pf(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return iy(t).ls({range:r,index:pv.queryTargetsIndexName},(function(t,n,r){var o=Pv(n);vf(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.nr=function(t,e,n){var r=this,i=[],o=ay(t);return e.forEach((function(e){var a=ev(e.path);i.push(o.put(new vv(n,a))),i.push(r.Ii.sr(t,n,e))})),Hp.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=ay(t);return Hp.forEach(e,(function(e){var o=ev(e.path);return Hp.$n([i.delete([n,o]),r.Ii.rr(t,n,e)])}))},t.prototype.Xi=function(t,e){var n=ay(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ay(t),i=Kd();return r.ls({range:n,hs:!0},(function(t,e,n){var r=iv(t[1]),o=new Nh(r);i=i.add(o)})).next((function(){return i}))},t.prototype.ki=function(t,e){var n=ev(e.path),r=IDBKeyRange.bound([n],[uh(n)],!1,!0),i=0;return ay(t).ls({index:vv.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return iy(t).get(e).next((function(t){return t?Pv(t):null}))},t}();function iy(t){return Cv(t,pv.store)}function oy(t){return Cv(t,yv.store)}function ay(t){return Cv(t,vv.store)}function sy(t,e){var n=t[1],r=e[1],i=ah(t[0],e[0]);return 0===i?ah(n,r):i}var uy=function(){function t(t){this.ar=t,this.buffer=new Ld(sy),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();sy(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),cy=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;Ql("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,(function(){return Object(Jl.b)(e,void 0,void 0,(function(){var e;return Object(Jl.d)(this,(function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return Wp(e=n.sent())?(Ql("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Wv(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),ly=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yr=function(t,e){var n=this;if(0===e)return Hp.resolve(Eh.U);var r=new uy(e);return this.Ar.mn(t,(function(t){return r.lr(t.sequenceNumber)})).next((function(){return n.Ar.gr(t,(function(t){return r.lr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(Ql("LruGarbageCollector","Garbage collection skipped; disabled"),Hp.resolve(Gv)):this.br(t).next((function(r){return r<n.params.Hs?(Ql("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),Gv):n.vr(t,e)}))},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.Rr(t,this.params.Js).next((function(e){return e>c.params.Ys?(Ql("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ys+" from "+e),r=c.params.Ys):r=e,o=Date.now(),c.yr(t,r)})).next((function(r){return n=r,a=Date.now(),c.Zi(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.Vr(t,n)})).next((function(t){return u=Date.now(),Yl()<=Ka.a.DEBUG&&Ql("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Hp.resolve({js:!0,Ws:r,Gs:i,zs:t})}))},t}(),hy=function(){function t(t,e){this.db=t,this._r=function(t,e){return new ly(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Sr=function(t){var e=0;return this.gr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,(function(t,n){return e(n)}))},t.prototype.sr=function(t,e,n){return fy(t,n)},t.prototype.rr=function(t,e,n){return fy(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Oi=function(t,e){return fy(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return ey(t)._s((function(r){return Xv(t,r,e).next((function(t){return t&&(n=!0),Hp.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Fr().Or(),i=[],o=0;return this.Cr(t,(function(a,s){if(s<=e){var u=n.Nr(t,a).next((function(e){if(!e)return o++,r.fi(t,a).next((function(){return r._i(a),ay(t).delete([0,ev(a.path)])}))}));i.push(u)}})).next((function(){return Hp.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return fy(t,e)},t.prototype.Cr=function(t,e){var n,r=ay(t),i=Eh.U;return r.ls({index:vv.documentTargetsIndex},(function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==Eh.U&&e(new Nh(iv(n)),i),i=a,n=o):i=Eh.U})).next((function(){i!==Eh.U&&e(new Nh(iv(n)),i)}))},t.prototype.br=function(t){return this.db.Fr().Mr(t)},t}();function fy(t,e){return ay(t).put(function(t,e){return new vv(0,ev(t.path),e)}(e,t.vs))}var dy=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return yy(t).put(gy(e),n)},t.prototype._i=function(t,e){var n=yy(t),r=gy(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Lr(t,r)}))},t.prototype.fi=function(t,e){var n=this;return yy(t).get(gy(e)).next((function(t){return n.$r(t)}))},t.prototype.Br=function(t,e){var n=this;return yy(t).get(gy(e)).next((function(t){var e=n.$r(t);return e?{li:e,size:Yv(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Hd();return this.qr(t,e,(function(t,e){var i=n.$r(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Ur=function(t,e){var n=this,r=Hd(),i=new Pd(Nh.J);return this.qr(t,e,(function(t,e){var o=n.$r(e);o?(r=r.Ht(t,o),i=i.Ht(t,Yv(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Qr:r,Kr:i}}))},t.prototype.qr=function(t,e,n){if(e.nt())return Hp.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return yy(t).ls({range:r},(function(t,e,r){for(var a=Nh.Tt(t);o&&Nh.J(o,a)<0;)n(o,null),o=i.ce();o&&o.isEqual(a)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ae()?i.ce():null}))},t.prototype.jr=function(t,e,n){var r=this,i=zd(),o=e.path.length+1,a={};if(n.isEqual(Ih.min())){var s=e.path.rt();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.rt(),c=Av(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=fv.collectionReadTimeIndex}return yy(t).ls(a,(function(t,n,a){if(t.length===o){var s=Iv(r.Kt,n);e.path.st(s.key.path)?s instanceof cf&&Wf(e,s)&&(i=i.Ht(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.Or=function(t){return new py(this,!!t&&t.Wr)},t.prototype.Mr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return vy(t).get(dv.key).next((function(t){return nh(!!t),t}))},t.prototype.Lr=function(t,e){return vy(t).put(dv.key,e)},t.prototype.$r=function(t){if(t){var e=Iv(this.Kt,t);return e instanceof lf&&e.version.isEqual(Ih.min())?null:e}return null},t}(),py=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.Wr=n,r.zr=new Kv((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(Jl.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new Ld((function(t,e){return ah(t.ot(),e.ot())}));return this.oi.forEach((function(o,a){var s=e.zr.get(o);if(a.li){var u=Tv(e.Gr.Kt,a.li,e.ai(o));i=i.add(o.path.Z());var c=Yv(u);r+=c-s,n.push(e.Gr.ui(t,o,u))}else if(r-=s,e.Wr){var l=Tv(e.Gr.Kt,new lf(o,Ih.min()),e.ai(o));n.push(e.Gr.ui(t,o,l))}else n.push(e.Gr._i(t,o))})),i.forEach((function(r){n.push(e.Gr.Ti.Us(t,r))})),n.push(this.Gr.updateMetadata(t,r)),Hp.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next((function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)}))},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next((function(t){var e=t.Qr;return t.Kr.forEach((function(t,e){n.zr.set(t,e)})),e}))},e}(Jv);function vy(t){return Cv(t,dv.store)}function yy(t){return Cv(t,fv.store)}function gy(t){return t.path.rt()}var my=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;nh(n<r&&n>=0&&r<=11);var o=new qp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(av.store)}(t),function(t){t.createObjectStore(sv.store,{keyPath:sv.keyPath}),t.createObjectStore(uv.store,{keyPath:uv.keyPath,autoIncrement:!0}).createIndex(uv.userMutationsIndex,uv.userMutationsKeyPath,{unique:!0}),t.createObjectStore(cv.store)}(t),by(t),function(t){t.createObjectStore(fv.store)}(t));var a=Hp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(vv.store),t.deleteObjectStore(pv.store),t.deleteObjectStore(yv.store)}(t),by(t)),a=a.next((function(){return function(t){var e=t.store(yv.store),n=new yv(0,0,Ih.min().G(),0);return e.put(yv.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(uv.store).os().next((function(n){t.deleteObjectStore(uv.store),t.createObjectStore(uv.store,{keyPath:uv.keyPath,autoIncrement:!0}).createIndex(uv.userMutationsIndex,uv.userMutationsKeyPath,{unique:!0});var r=e.store(uv.store),i=n.map((function(t){return r.put(t)}));return Hp.$n(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(mv.store,{keyPath:mv.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Hr(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(dv.store)}(t),i.Jr(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.Yr(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Xr(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(fv.store);e.createIndex(fv.readTimeIndex,fv.readTimeIndexPath,{unique:!1}),e.createIndex(fv.collectionReadTimeIndex,fv.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Zr(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(bv.store,{keyPath:bv.keyPath})}(t),function(t){t.createObjectStore(_v.store,{keyPath:_v.keyPath})}(t)}))),a},t.prototype.Jr=function(t){var e=0;return t.store(fv.store).ls((function(t,n){e+=Yv(n)})).next((function(){var n=new dv(e);return t.store(dv.store).put(dv.key,n)}))},t.prototype.Hr=function(t){var e=this,n=t.store(sv.store),r=t.store(uv.store);return n.os().next((function(n){return Hp.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(uv.userMutationsIndex,i).next((function(r){return Hp.forEach(r,(function(r){nh(r.userId===n.userId);var i=Dv(e.Kt,r);return Zv(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Yr=function(t){var e=t.store(vv.store),n=t.store(fv.store);return t.store(yv.store).get(yv.key).next((function(t){var r=[];return n.ls((function(n,i){var o=new Ah(n),a=function(t){return[0,ev(t)]}(o);r.push(e.get(a).next((function(n){return n?Hp.resolve():function(n){return e.put(new vv(0,ev(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Hp.$n(r)}))}))},t.prototype.Xr=function(t,e){t.createObjectStore(gv.store,{keyPath:gv.keyPath});var n=e.store(gv.store),r=new Hv,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:ev(i)})}};return e.store(fv.store).ls({hs:!0},(function(t,e){var n=new Ah(t);return i(n.Z())})).next((function(){return e.store(cv.store).ls({hs:!0},(function(t,e){var n=iv(t[1]);return i(n.Z())}))}))},t.prototype.Zr=function(t){var e=this,n=t.store(pv.store);return n.ls((function(t,r){var i=Pv(r),o=Rv(e.Kt,i);return n.put(o)}))},t}();function by(t){t.createObjectStore(vv.store,{keyPath:vv.keyPath}).createIndex(vv.documentTargetsIndex,vv.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(pv.store,{keyPath:pv.keyPath}).createIndex(pv.queryTargetsIndexName,pv.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(yv.store)}var _y="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",wy=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=o,this.window=a,this.document=s,this.no=c,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.jn())throw new hh(lh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new hy(this,i),this.lo=n+"main",this.Kt=new Sv(u),this._o=new zp(this.lo,11,new my(this.Kt)),this.fo=new ry(this.Ii,this.Kt),this.Ti=new qv,this.wo=function(t,e){return new dy(t,e)}(this.Kt,this.Ti),this.Eo=new Lv,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&Xl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new hh(lh.FAILED_PRECONDITION,_y);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.fo.ji(e)}))})).then((function(e){t.io=new Eh(e,t.no)})).then((function(){t.ro=!0})).catch((function(e){return t._o&&t._o.close(),Promise.reject(e)}))},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(Jl.b)(e,void 0,void 0,(function(){return Object(Jl.d)(this,(function(e){return this.Tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn((function(n){return Object(Jl.b)(e,void 0,void 0,(function(){return Object(Jl.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys((function(){return Object(Jl.b)(e,void 0,void 0,(function(){return Object(Jl.d)(this,(function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Cy(e).put(new mv(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.po(e).next((function(e){e||(t.isPrimary=!1,t.eo.bo((function(){return t.ho(!1)})))}))})).next((function(){return t.vo(e)})).next((function(n){return t.isPrimary&&!n?t.So(e).next((function(){return!1})):!!n&&t.Do(e).next((function(){return!0}))}))})).catch((function(e){if(Wp(e))return Ql("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ql("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.eo.bo((function(){return t.ho(e)})),t.isPrimary=e}))},t.prototype.po=function(t){var e=this;return ky(t).get(av.key).next((function(t){return Hp.resolve(e.Co(t))}))},t.prototype.xo=function(t){return Cy(t).delete(this.clientId)},t.prototype.No=function(){return Object(Jl.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(Jl.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Cv(t,mv.store);return e.os().next((function(t){var n=r.Fo(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Hp.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,(function(){return t.Io().then((function(){return t.No()})).then((function(){return t.Ro()}))}))},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?Hp.resolve(!0):ky(t).get(av.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new hh(lh.FAILED_PRECONDITION,_y);return!1}}return!(!e.networkEnabled||!e.inForeground)||Cy(t).os().next((function(t){return void 0===e.Fo(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Ql("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Lo=function(){return Object(Jl.b)(this,void 0,void 0,(function(){var t=this;return Object(Jl.d)(this,(function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[av.store,mv.store],(function(e){var n=new kv(e,Eh.U);return t.So(n).next((function(){return t.xo(n)}))}))];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}}))}))},t.prototype.Fo=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Mo(t.clientId)}))},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Cy(e).os().next((function(e){return t.Fo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return Qv.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.jo=function(){return this.Ti},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Ql("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",wv,(function(o){return r=new kv(o,i.io?i.io.next():Eh.U),"readwrite-primary"===e?i.po(r).next((function(t){return!!t||i.vo(r)})).next((function(e){if(!e)throw Xl("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo((function(){return i.ho(!1)})),new hh(lh.FAILED_PRECONDITION,$p);return n(r)})).next((function(t){return i.Do(r).next((function(){return t}))})):i.Go(r).next((function(){return n(r)}))})).then((function(t){return r.ps(),t}))},t.prototype.Go=function(t){var e=this;return ky(t).get(av.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new hh(lh.FAILED_PRECONDITION,_y)}))},t.prototype.Do=function(t){var e=new av(this.clientId,this.allowTabSynchronization,Date.now());return ky(t).put(av.key,e)},t.jn=function(){return zp.jn()},t.prototype.So=function(t){var e=this,n=ky(t);return n.get(av.key).next((function(t){return e.Co(t)?(Ql("IndexedDbPersistence","Releasing primary lease."),n.delete(av.key)):Hp.resolve()}))},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Xl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()}))},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys((function(){return e.Lo()}))},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return Ql("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Xl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){Xl("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ky(t){return Cv(t,av.store)}function Cy(t){return Cv(t,mv.store)}function Oy(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Ey=function(t,e){this.progress=t,this.zo=e},Sy=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=Hd();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].xs(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){var i=n.Xo(t,e,r),o=Fd();return i.forEach((function(t,e){e||(e=new lf(t,Ih.min())),o=o.Ht(t,e)})),o}))},t.prototype.jr=function(t,e,n){return function(t){return Nh.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):Uf(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Nh(e)).next((function(t){var e=zd();return t instanceof cf&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=zd();return this.Ti.Qs(t,i).next((function(a){return Hp.forEach(a,(function(a){var s=function(t,e){return new Nf(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.sc(t,s,n).next((function(t){t.forEach((function(t,e){o=o.Ht(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.wo.jr(t,e,n).next((function(n){return r=n,o.Ho.Ci(t,e)})).next((function(e){return o.ic(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=gd(u,r.get(c),0,o.Ss);r=l instanceof cf?r.Ht(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Wf(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=Kd(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof kd&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.wo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof cf&&(c=c.Ht(t,e))})),c}))},t}(),Iy=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=Kd(),i=Kd(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Ty=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(Ih.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(o){var a=i.lc(e,o);return(Rf(e)||Vf(e))&&i._c(e.limitType,a,r,n)?i.hc(t,e):(Yl()<=Ka.a.DEBUG&&Ql("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Bf(e)),i.uc.jr(t,e,n).next((function(t){return a.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new Ld(Kf(t));return e.forEach((function(e,r){r instanceof cf&&Wf(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return Yl()<=Ka.a.DEBUG&&Ql("QueryEngine","Using full collection scan to execute query:",Bf(e)),this.uc.jr(t,e,Ih.min())},t}(),Ay=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new Pd(ah),this.wc=new Kv((function(t){return pf(t)}),vf),this.Ec=Ih.min(),this.Ho=t.Ko(n),this.Tc=t.Fr(),this.fo=t.Dr(),this.Ic=new Sy(this.Tc,this.Ho,this.persistence.jo()),this.Eo=t.Wo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.pr(n,e.dc)}))},t}();function xy(t,e,n,r){return new Ay(t,e,n,r)}function jy(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Jl.d)(this,(function(a){switch(a.label){case 0:return n=rh(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ho.bi(t).next((function(a){return o=a,r=n.persistence.Ko(e),i=new Sy(n.Tc,r,n.persistence.jo()),r.bi(t)})).next((function(e){for(var n=[],r=[],a=Kd(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return i.Zo(t,a).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return o=a.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}}))}))}function Ny(t,e){var n=rh(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Or({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Hp.resolve();return o.forEach((function(t){a=a.next((function(){return r.fi(e,t)})).next((function(e){var o=e,a=n.Fs.get(t);nh(null!==a),(!o||o.version.u(a)<0)&&(o=i.Ds(t,o,n))&&r.ui(o,n.Os)}))})),a.next((function(){return t.Ho.xi(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function Dy(t){var e=rh(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.fo.Ki(t)}))}function Py(t,e){var n=rh(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Tc.Or({Wr:!0});i=n.dc;var a=[];e.Fe.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.fo.ir(t,e.Ke,o).next((function(){return n.fo.nr(t,e.Ue,o)})));var u=e.resumeToken;if(u.o()>0){var c=s.$t(u,r).Lt(t.vs);i=i.Ht(o,c),function(t,e,n){return nh(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.W()-t.Mt.W()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(s,c,e)&&a.push(n.fo.Ji(t,c))}}}));var s=Fd();if(e.Me.forEach((function(r,i){e.Le.has(r)&&a.push(n.persistence.Ii.kr(t,r))})),a.push(Ry(t,o,e.Me,r,void 0).next((function(t){s=t}))),!r.isEqual(Ih.min())){var u=n.fo.Ki(t).next((function(e){return n.fo.Wi(t,t.vs,r)}));a.push(u)}return Hp.$n(a).next((function(){return o.apply(t)})).next((function(){return n.Ic.tc(t,s)}))})).then((function(t){return n.dc=i,t}))}function Ry(t,e,n,r,i){var o=Kd();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Fd();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof lf&&a.version.isEqual(Ih.min())?(e._i(n,u),o=o.Ht(n,a)):null==s||a.version.u(s.version)>0||0===a.version.u(s.version)&&s.hasPendingWrites?(e.ui(a,u),o=o.Ht(n,a)):Ql("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Vy(t,e){var n=rh(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)}))}function Ly(t,e){var n=rh(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.fo.er(t,e).next((function(i){return i?Hp.resolve(r=i):n.fo.qi(t).next((function(i){return r=new Zf(e,i,0,t.vs),n.fo.Gi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function My(t,e,n){return Object(Jl.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(Jl.d)(this,(function(s){switch(s.label){case 0:r=rh(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Ii.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Wp(a=s.sent()))throw a;return Ql("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function Uy(t,e,n){var r=rh(t),i=Ih.min(),o=Kd();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=rh(t),i=r.wc.get(n);return void 0!==i?Hp.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,Hf(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.fc.jr(t,e,n?i:Ih.min(),n?o:Kd())})).next((function(t){return{documents:t,Pc:o}}))}))}function Fy(t,e){var n=rh(t),r=rh(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function Hy(t){var e=rh(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=rh(t),i=Fd(),o=Av(n),a=yy(e),s=IDBKeyRange.lowerBound(o,!0);return a.ls({index:fv.readTimeIndex,range:s},(function(t,e){var n=Iv(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime})).next((function(){return{zo:i,readTime:xv(o)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.zo;return e.Ec=t.readTime,n}))}function qy(t){return Object(Jl.b)(this,void 0,void 0,(function(){var e;return Object(Jl.d)(this,(function(n){return[2,(e=rh(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=yy(t),n=Ih.min();return e.ls({index:fv.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=xv(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}function zy(t,e,n,r){return Object(Jl.b)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return Object(Jl.d)(this,(function(p){switch(p.label){case 0:for(i=rh(t),o=Kd(),a=Fd(),s=Bd(),u=0,c=n;u<c.length;u++)h=e.yc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),a=a.Ht(h,e.gc(l)),s=s.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Wr:!0}),[4,Ly(i,function(t){return Hf(Pf(Ah.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Ry(t,f,a,Ih.min(),s).next((function(e){return f.apply(t),e})).next((function(e){return i.fo.Xi(t,d.targetId).next((function(){return i.fo.nr(t,o,d.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}function Gy(t,e,n){return void 0===n&&(n=Kd()),Object(Jl.b)(this,void 0,void 0,(function(){var r,i;return Object(Jl.d)(this,(function(o){switch(o.label){case 0:return[4,Ly(t,Hf(Vv(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=rh(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=pp(e.readTime);if(r.Mt.u(o)>=0)return i.Eo.Bs(t,e);var a=r.$t(ch.h,o);return i.dc=i.dc.Ht(a.targetId,a),i.fo.Ji(t,a).next((function(){return i.fo.Xi(t,r.targetId)})).next((function(){return i.fo.nr(t,n,r.targetId)})).next((function(){return i.Eo.Bs(t,e)}))}))]}}))}))}var By=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return Hp.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:pp(n.createTime)}),Hp.resolve()},t.prototype.$s=function(t,e){return Hp.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:Vv(t.bundledQuery),readTime:pp(t.readTime)}}(e)),Hp.resolve()},t}(),Wy=function(){function t(){this.Sc=new Ld(Ky.Dc),this.Cc=new Ld(Ky.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new Ky(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.sr(t,e)}))},t.prototype.rr=function(t,e){this.Oc(new Ky(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach((function(t){return n.rr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new Nh(new Ah([])),r=new Ky(n,t),i=new Ky(n,t+1),o=[];return this.Cc.Ae([r,i],(function(t){e.Oc(t),o.push(t.key)})),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Oc(e)}))},t.prototype.Oc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Nh(new Ah([])),n=new Ky(e,t),r=new Ky(e,t+1),i=Kd();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.ki=function(t){var e=new Ky(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Ky=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Nh.J(t.key,e.key)||ah(t.$c,e.$c)},t.xc=function(t,e){return ah(t.$c,e.$c)||Nh.J(t.key,e.key)},t}(),Jy=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new Ld(Ky.Dc)}return t.prototype.Ri=function(t){return Hp.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new Ov(i,e,n,r);this.Ho.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.qc=this.qc.add(new Ky(u.key,i)),this.Ti.Us(t,u.key.path.Z())}return Hp.resolve(o)},t.prototype.yi=function(t,e){return Hp.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return Hp.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return Hp.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return Hp.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new Ky(e,0),i=new Ky(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);o.push(e)})),Hp.resolve(o)},t.prototype.Si=function(t,e){var n=this,r=new Ld(ah);return e.forEach((function(t){var e=new Ky(t,0),i=new Ky(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),Hp.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;Nh.Et(i)||(i=i.child(""));var o=new Ky(new Nh(i),0),a=new Ld(ah);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(a=a.add(t.$c)),!0)}),o),Hp.resolve(this.Kc(a))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.xi=function(t,e){var n=this;nh(0===this.jc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return Hp.forEach(e.mutations,(function(i){var o=new Ky(i.key,e.batchId);return r=r.delete(o),n.Ii.Oi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new Ky(e,0),r=this.qc.Pe(n);return Hp.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return Hp.resolve()},t.prototype.jc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),Zy=function(){function t(t,e){this.Ti=t,this.Wc=e,this.docs=new Pd(Nh.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.Wc(e);return this.docs=this.docs.Ht(r,{li:e,size:a,readTime:n}),this.size+=a-o,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return Hp.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=Hd();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)})),Hp.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=zd(),i=new Nh(e.path.child("")),o=this.docs.ne(i);o.ae();){var a=o.ce(),s=a.value,u=s.li,c=s.readTime;if(!e.path.st(a.key.path))break;c.u(n)<=0||u instanceof cf&&Wf(e,u)&&(r=r.Ht(u.key,u))}return Hp.resolve(r)},t.prototype.Gc=function(t,e){return Hp.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Or=function(t){return new Yy(this)},t.prototype.Mr=function(t){return Hp.resolve(this.size)},t}(),Yy=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(Jl.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach((function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)})),Hp.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(Jv),Qy=function(){function t(t){this.persistence=t,this.zc=new Kv((function(t){return pf(t)}),vf),this.lastRemoteSnapshotVersion=Ih.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new Wy,this.targetCount=0,this.Yc=ny.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),Hp.resolve()},t.prototype.Ki=function(t){return Hp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return Hp.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),Hp.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),Hp.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new ny(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,Hp.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),Hp.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,Hp.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.zc.delete(a),o.push(r.Xi(t,s.targetId)),i++)})),Hp.$n(o).next((function(){return i}))},t.prototype.tr=function(t){return Hp.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return Hp.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),Hp.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Fc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach((function(e){i.push(r.Oi(t,e))})),Hp.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),Hp.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return Hp.resolve(n)},t.prototype.ki=function(t,e){return Hp.resolve(this.Jc.ki(e))},t}(),Xy=function(){function t(t,e){var n=this;this.Xc={},this.io=new Eh(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new Qy(this),this.Ti=new Fv,this.wo=function(t,e){return new Zy(t,(function(t){return n.Ii.Zc(t)}))}(this.Ti),this.Kt=new Sv(e),this.Eo=new By(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.jo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new Jy(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;Ql("MemoryPersistence","Starting transaction:",t);var i=new $y(this.io.next());return this.Ii.ta(),n(i).next((function(t){return r.Ii.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.ps(),t}))},t.prototype.na=function(t,e){return Hp.Bn(Object.values(this.Xc).map((function(n){return function(){return n.ki(t,e)}})))},t}(),$y=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(Jl.c)(e,t),e}(tv),tg=function(){function t(t){this.persistence=t,this.sa=new Wy,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw eh()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),Hp.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),Hp.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),Hp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Dr();return r.cr(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Yi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Fr().Or();return Hp.forEach(this.oa,(function(r){var i=Nh.ft(r);return e.ca(t,i).next((function(t){t||n._i(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return Hp.Bn([function(){return Hp.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function eg(t,e){return"firestore_clients_"+t+"_"+e}function ng(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function rg(t,e){return"firestore_targets_"+t+"_"+e}var ig=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new hh(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(Xl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),og=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new hh(r.error.code,r.error.message)),i?new t(e,r.state,o):(Xl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ag=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Zd(),a=0;i&&a<r.activeTargetIds.length;++a)i=Bh(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Xl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),sg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Xl("SharedClientState","Failed to parse online state: "+e),null)},t}(),ug=function(){function t(){this.activeTargetIds=Zd()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),cg=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new Pd(ah),this.Tr=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=eg(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new ug),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.jn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Jl.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l=this;return Object(Jl.d)(this,(function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(eg(this.persistenceKey,r)))&&(o=ag.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(a=this.storage.getItem(this.ga))&&(s=this.ba(a))&&this.va(s),u=0,c=this.Ia;u<c.length;u++)this.Ea(c[u]);return this.Ia=[],this.window.addEventListener("unload",(function(){return l.Lo()})),this.Tr=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Oa=function(t,e,n){this.Na(t,e,n),this.Fa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(rg(this.persistenceKey,t));if(n){var r=og.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(rg(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Fa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.ja(t)},t.prototype.Wa=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ql("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ql("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ql("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ql("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void Xl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo((function(){return Object(Jl.b)(e,void 0,void 0,(function(){var t,e,r,i,o,a;return Object(Jl.d)(this,(function(s){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(a=function(t){var e=Eh.U;if(null!=t)try{var n=JSON.parse(t);nh("number"==typeof n),e=n}catch(t){Xl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Eh.U&&this.L(a);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new ig(this.currentUser,t,e,n),i=ng(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Fa=function(t){var e=ng(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ja=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=rg(this.persistenceKey,t),i=new og(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return ag.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return ig.aa(new bh(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return og.aa(r,e)},t.prototype.ba=function(t){return sg.aa(t)},t.prototype.Xa=function(t){return Object(Jl.b)(this,void 0,void 0,(function(){return Object(Jl.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(Ql("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.fa.iu(a,s).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=Zd();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),lg=function(){function t(){this.ru=new ug,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Oa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new ug,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.Wa=function(){},t}(),hg=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),fg=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){Ql("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){Ql("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.jn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),dg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},pg=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),vg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(Jl.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,o){var a=new Kl;a.listenOnce(Gl.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case zl.NO_ERROR:var e=a.getResponseJson();Ql("Connection","XHR received:",JSON.stringify(e)),i(e);break;case zl.TIMEOUT:Ql("Connection",'RPC "'+t+'" timed out'),o(new hh(lh.DEADLINE_EXCEEDED,"Request time out"));break;case zl.HTTP_ERROR:var n=a.getStatus();if(Ql("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(lh).indexOf(e)>=0?e:lh.UNKNOWN}(r.status);o(new hh(s,r.message))}else o(new hh(lh.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new hh(lh.UNAVAILABLE,"Connection failed."));break;default:eh()}}finally{Ql("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Ml,i=Hu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(Ja.l)()||Object(Ja.n)()||Object(Ja.j)()||Object(Ja.k)()||Object(Ja.o)()||Object(Ja.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Ql("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new pg({du:function(t){c?Ql("Connection","Not sending because WebChannel is closed:",t):(u||(Ql("Connection","Opening WebChannel transport."),s.open(),u=!0),Ql("Connection","WebChannel sending:",t),s.send(t))},wu:function(){return s.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(s,Wl.EventType.OPEN,(function(){c||Ql("Connection","WebChannel transport opened.")})),h(s,Wl.EventType.CLOSE,(function(){c||(c=!0,Ql("Connection","WebChannel transport closed"),l.Pu())})),h(s,Wl.EventType.ERROR,(function(t){c||(c=!0,$l("Connection","WebChannel transport errored:",t),l.Pu(new hh(lh.UNAVAILABLE,"The operation could not be completed")))})),h(s,Wl.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];nh(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Ql("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Id[t];if(void 0!==e)return Dd(e)}(i),a=r.message;void 0===o&&(o=lh.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new hh(o,a)),s.close()}else Ql("Connection","WebChannel received:",n),l.yu(n)}})),h(i,Bl.STAT_EVENT,(function(t){10===t.stat?Ql("Connection","Detected buffering proxy"):11===t.stat&&Ql("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Ru()}),0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);Ql("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then((function(t){return Ql("RestConnection","Received: ",t),t}),(function(e){throw $l("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.2",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+dg[t]},t}());function yg(){return"undefined"!=typeof window?window:null}function gg(){return"undefined"!=typeof document?document:null}function mg(t){return new lp(t,!0)}var bg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Ou=r,this.Fu=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Fu},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&Ql("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Ou,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Fu&&(this.ku=this.Fu)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),_g=function(){function t(t,e,n,r,i,o){this.eo=t,this.Qu=n,this.Ku=r,this.ju=i,this.listener=o,this.state=0,this.Wu=0,this.Gu=null,this.stream=null,this.zu=new bg(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(Jl.b)(this,void 0,void 0,(function(){return Object(Jl.d)(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(Jl.b)(this,void 0,void 0,(function(){return Object(Jl.d)(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){return Object(Jl.d)(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.Wu++,3!==t?this.zu.reset():e&&e.code===lh.RESOURCE_EXHAUSTED?(Xl(e.toString()),Xl("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===lh.UNAUTHENTICATED&&this.ju.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.Wu),n=this.Wu;this.ju.getToken().then((function(e){t.Wu===n&&t.rh(e)}),(function(n){e((function(){var e=new hh(lh.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.Wu);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return Object(Jl.b)(t,void 0,void 0,(function(){return Object(Jl.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return Ql("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys((function(){return e.Wu===t?n():(Ql("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),wg=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,a}return Object(Jl.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:eh()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(nh(void 0===e||"string"==typeof e),ch.fromBase64String(e||"")):(nh(void 0===e||e instanceof Uint8Array),ch.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?lh.UNKNOWN:Dd(t.code);return new hh(e,t.message||"")}(s);n=new rp(r,i,o,a||null)}else if("documentChange"in e){i=mp(t,(r=e.documentChange).document.name),o=pp(r.document.updateTime);var s=new of({mapValue:{fields:r.document.fields}}),u=(a=new cf(i,o,s,{}),r.targetIds||[]);n=new ep(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=mp(t,(r=e.documentDelete).document),o=r.readTime?pp(r.readTime):Ih.min(),s=new lf(i,o),n=new ep([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=mp(t,(r=e.documentRemove).document),n=new ep([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return eh();var c=e.filter;i=new jd(r=c.count||0),n=new np(o=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return Ih.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ih.min():e.readTime?pp(e.readTime):Ih.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=wp(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=yf(r)?{documents:Ip(t,r)}:{query:Tp(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=fp(t,e.resumeToken):e.Mt.u(Ih.min())>0&&(n.readTime=hp(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return eh()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=wp(this.Kt),e.removeTarget=t,this.eh(e)},e}(_g),kg=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,a._h=!1,a}return Object(Jl.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(nh(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(nh(void 0!==e),t.map((function(t){return function(t,e){var n=pp(t.updateTime?t.updateTime:e);n.isEqual(Ih.min())&&(n=pp(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new fd(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=pp(t.commitTime);return this.listener.wh(n,e)}return nh(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=wp(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Ep(e.Kt,t)}))};this.eh(n)},e}(_g),Cg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(Jl.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new hh(lh.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===lh.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===lh.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),Og=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(Xl(e),this.Ph=!1):Ql("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),Eg=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Oh=new Set,this.Fh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return Object(Jl.b)(o,void 0,void 0,(function(){return Object(Jl.d)(this,(function(t){switch(t.label){case 0:return Pg(this)?(Ql("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Jl.b)(this,void 0,void 0,(function(){var e;return Object(Jl.d)(this,(function(n){switch(n.label){case 0:return(e=rh(t)).Oh.add(4),[4,Ig(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Oh.delete(4),[4,Sg(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new Og(n,r)};function Sg(t){return Object(Jl.b)(this,void 0,void 0,(function(){var e,n;return Object(Jl.d)(this,(function(r){switch(r.label){case 0:if(!Pg(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Ig(t){return Object(Jl.b)(this,void 0,void 0,(function(){var e,n;return Object(Jl.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Tg(t,e){var n=rh(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),Dg(n)?Ng(n):Zg(n).Ju()&&xg(n,e))}function Ag(t,e){var n=rh(t),r=Zg(n);n.Nh.delete(e),r.Ju()&&jg(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():Pg(n)&&n.Mh.set("Unknown"))}function xg(t,e){t.Lh.cn(e.targetId),Zg(t).hh(e)}function jg(t,e){t.Lh.cn(e),Zg(t).lh(e)}function Ng(t){t.Lh=new op({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),Zg(t).start(),t.Mh.yh()}function Dg(t){return Pg(t)&&!Zg(t).Hu()&&t.Nh.size>0}function Pg(t){return 0===rh(t).Oh.size}function Rg(t){t.Lh=void 0}function Vg(t){return Object(Jl.b)(this,void 0,void 0,(function(){return Object(Jl.d)(this,(function(e){return t.Nh.forEach((function(e,n){xg(t,e)})),[2]}))}))}function Lg(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){return Object(Jl.d)(this,(function(n){return Rg(t),Dg(t)?(t.Mh.ph(e),Ng(t)):t.Mh.set("Unknown"),[2]}))}))}function Mg(t,e,n){return Object(Jl.b)(this,void 0,void 0,(function(){var r,i,o;return Object(Jl.d)(this,(function(a){switch(a.label){case 0:if(t.Mh.set("Online"),!(e instanceof rp&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Jl.d)(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Ql("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Ug(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ep?t.Lh.wn(e):e instanceof np?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Ih.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Dy(t.Sh)];case 8:return i=a.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Fe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(ch.h,n.Mt)),jg(t,e);var r=new Zf(n.target,e,1,n.sequenceNumber);xg(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Ql("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Ug(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Ug(t,e,n){return Object(Jl.b)(this,void 0,void 0,(function(){var r=this;return Object(Jl.d)(this,(function(i){switch(i.label){case 0:if(!Wp(e))throw e;return t.Oh.add(1),[4,Ig(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return Dy(t.Sh)}),t.fs.bo((function(){return Object(Jl.b)(r,void 0,void 0,(function(){return Object(Jl.d)(this,(function(e){switch(e.label){case 0:return Ql("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Oh.delete(1),[4,Sg(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Fg(t,e){return e().catch((function(n){return Ug(t,n,e)}))}function Hg(t){return Object(Jl.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(Jl.d)(this,(function(a){switch(a.label){case 0:e=rh(t),n=Yg(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Pg(t)&&t.xh.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Vy(e.Sh,r)];case 3:return null===(i=a.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=Yg(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Ug(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return qg(e)&&zg(e),[2]}}))}))}function qg(t){return Pg(t)&&!Yg(t).Hu()&&t.xh.length>0}function zg(t){Yg(t).start()}function Gg(t){return Object(Jl.b)(this,void 0,void 0,(function(){return Object(Jl.d)(this,(function(e){return Yg(t).Th(),[2]}))}))}function Bg(t){return Object(Jl.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Jl.d)(this,(function(i){for(e=Yg(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]}))}))}function Wg(t,e,n){return Object(Jl.b)(this,void 0,void 0,(function(){var r,i;return Object(Jl.d)(this,(function(o){switch(o.label){case 0:return r=t.xh.shift(),i=Ev.from(r,e,n),[4,Fg(t,(function(){return t.Ch.qh(i)}))];case 1:return o.sent(),[4,Hg(t)];case 2:return o.sent(),[2]}}))}))}function Kg(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){return Object(Jl.d)(this,(function(n){switch(n.label){case 0:return e&&Yg(t).fh?[4,function(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){var n,r;return Object(Jl.d)(this,(function(i){switch(i.label){case 0:return Nd(r=e.code)&&r!==lh.ABORTED?(n=t.xh.shift(),Yg(t).Xu(),[4,Fg(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Hg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return qg(t)&&zg(t),[2]}}))}))}function Jg(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){var n;return Object(Jl.d)(this,(function(r){switch(r.label){case 0:return n=rh(t),e?(n.Oh.delete(2),[4,Sg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Oh.add(2),[4,Ig(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Zg(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=rh(t);return r.mh(),new wg(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Vg.bind(null,t),Iu:Lg.bind(null,t),uh:Mg.bind(null,t)}),t.Fh.push((function(n){return Object(Jl.b)(e,void 0,void 0,(function(){return Object(Jl.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),Dg(t)?Ng(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),Rg(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function Yg(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=rh(t);return r.mh(),new kg(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Gg.bind(null,t),Iu:Kg.bind(null,t),Eh:Bg.bind(null,t),wh:Wg.bind(null,t)}),t.Fh.push((function(n){return Object(Jl.b)(e,void 0,void 0,(function(){return Object(Jl.d)(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,Hg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(Ql("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh}var Qg=function(){this.jh=void 0,this.listeners=[]},Xg=function(){this.queries=new Kv((function(t){return Gf(t)}),zf),this.onlineState="Unknown",this.Wh=new Set};function $g(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Object(Jl.d)(this,(function(c){switch(c.label){case 0:if(n=rh(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Qg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.Gh(r)];case 2:return a.jh=c.sent(),[3,4];case 3:return s=c.sent(),u=Xp(s,"Initialization of query '"+Bf(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.jh&&e.Hh(o.jh)&&rm(n),[2]}}))}))}function tm(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(Jl.d)(this,(function(s){return n=rh(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function em(t,e){for(var n=rh(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hh(a)&&(r=!0);s.jh=a}}r&&rm(n)}function nm(t,e,n){var r=rh(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function rm(t){t.Wh.forEach((function(t){t.next()}))}var im=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Xd(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=Xd.Oe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),om=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),am=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return mp(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?Op(this.Kt,t.document,!1):new lf(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return pp(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new am(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.yc(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||Kd()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Jl.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(Jl.d)(this,(function(o){switch(o.label){case 0:return[4,zy(this.Sh,new am(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Gy(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Ey(Object.assign({},this.progress),t))]}}))}))}}();var sm=function(t){this.key=t},um=function(t){this.key=t},cm=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=Kd(),this.Ce=Kd(),this.ll=Kf(t),this._l=new Yd(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new Qd,i=e?e._l:this._l,o=e?e.Ce:this.Ce,a=i,s=!1,u=Rf(this.query)&&i.size===this.query.limit?i.last():null,c=Vf(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var l=i.get(t),h=e instanceof cf?e:null;h&&(h=Wf(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Rf(this.query)||Vf(this.query))for(;a.size>this.query.limit;){var l=Rf(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:a,wl:r,_c:s,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return eh()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var a=e?this.Il():[],s=0===this.hl.size&&this.qe?1:0,u=s!==this.ul;return this.ul=s,0!==o.length||u?{snapshot:new Xd(this.query,t._l,i,o,t.Ce,0===s,u,!1),ml:a}:{ml:a}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new Qd,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=Kd(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new um(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new sm(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=Kd();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return Xd.Oe(this.query,this._l,this.Ce,0===this.ul)},t}(),lm=function(t,e,n){this.query=t,this.targetId=e,this.view=n},hm=function(t){this.key=t,this.yl=!1},fm=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new Kv((function(t){return Gf(t)}),zf),this.Dl=new Map,this.Cl=[],this.xl=new Pd(Nh.J),this.Nl=new Map,this.Ol=new Wy,this.Fl={},this.kl=new Map,this.Ml=ny.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function dm(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(Jl.d)(this,(function(s){switch(s.label){case 0:return n=qm(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,Ly(n.Sh,Hf(e))];case 2:return o=s.sent(),a=n.pl.ka(o.targetId),[4,pm(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.$l&&Tg(n.gl,o),s.label=4;case 4:return[2,r]}}))}))}function pm(t,e,n,r){return Object(Jl.b)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Object(Jl.d)(this,(function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(Jl.b)(this,void 0,void 0,(function(){var i,o,a;return Object(Jl.d)(this,(function(s){switch(s.label){case 0:return(i=e.view.dl(n))._c?[4,Uy(t.Sh,e.query,!1).then((function(t){return e.view.dl(t.documents,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.Fe.get(e.targetId),a=e.view.Ei(i,t.$l,o),[2,(Im(t,e.targetId,a.ml),a.snapshot)]}}))}))}(t,e,n,r)},[4,Uy(t.Sh,e,!0)];case 1:return i=l.sent(),o=new cm(e,i.Pc),a=o.dl(i.documents),s=tp.Be(n,r&&"Offline"!==t.onlineState),u=o.Ei(a,t.$l,s),Im(t,n,u.ml),c=new lm(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}}))}))}function vm(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Jl.d)(this,(function(o){switch(o.label){case 0:return n=rh(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!zf(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,My(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),Ag(n.gl,r.targetId),Em(n,r.targetId)})).catch(Wv)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Em(n,r.targetId),[4,My(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function ym(t,e,n){return Object(Jl.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(Jl.d)(this,(function(s){switch(s.label){case 0:r=zm(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=rh(t),i=Sh.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Kd());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=md(c,n.get(c.key));null!=l&&a.push(new kd(c.key,l,sf(l.proto.mapValue),dd.exists(!0)))}return r.Ho.Pi(t,i,a,e)}))})).then((function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}}))}(r.Sh,e)];case 2:return i=s.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.R()];r||(r=new Pd(ah)),r=r.Ht(e,n),t.Fl[t.currentUser.R()]=r}(r,i.batchId,n),[4,xm(r,i.oi)];case 3:return s.sent(),[4,Hg(r.gl)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Xp(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function gm(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){var n,r;return Object(Jl.d)(this,(function(i){switch(i.label){case 0:n=rh(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Py(n.Sh,e)];case 2:return r=i.sent(),e.Fe.forEach((function(t,e){var r=n.Nl.get(e);r&&(nh(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?nh(r.yl):t.Ke.size>0&&(nh(r.yl),r.yl=!1))})),[4,xm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Wv(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function mm(t,e,n){var r=rh(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=rh(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)})),r&&rm(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function bm(t,e,n){return Object(Jl.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Object(Jl.d)(this,(function(c){switch(c.label){case 0:return(r=rh(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(a=(a=new Pd(Nh.J)).Ht(o,new lf(o,Ih.min())),s=Kd().add(o),u=new $d(Ih.min(),new Map,new Ld(ah),a,s),[4,gm(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),Am(r),[3,4];case 2:return[4,My(r.Sh,e,!1).then((function(){return Em(r,e,n)})).catch(Wv)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function _m(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Jl.d)(this,(function(o){switch(o.label){case 0:n=rh(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Ny(n.Sh,e)];case 2:return i=o.sent(),Om(n,r,null),Cm(n,r),n.pl.Oa(r,"acknowledged"),[4,xm(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Wv(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function wm(t,e,n){return Object(Jl.b)(this,void 0,void 0,(function(){var r,i;return Object(Jl.d)(this,(function(o){switch(o.label){case 0:r=rh(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=rh(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.yi(t,e).next((function(e){return nh(null!==e),r=e.keys(),n.Ho.xi(t,e)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=o.sent(),Om(r,e,n),Cm(r,e),r.pl.Oa(e,"rejected",n),[4,xm(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Wv(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function km(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(Jl.d)(this,(function(s){switch(s.label){case 0:Pg((n=rh(t)).gl)||Ql("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=rh(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.pi(t)}))}(n.Sh)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=s.sent(),a=Xp(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function Cm(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function Om(t,e,n){var r=rh(t),i=r.Fl[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fl[r.currentUser.R()]=i}}function Em(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Ol.kc(e).forEach((function(e){t.Ol.ki(e)||Sm(t,e)}))}function Sm(t,e){var n=t.xl.get(e);null!==n&&(Ag(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Am(t))}function Im(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof sm?(t.Ol.sr(o.key,e),Tm(t,o)):o instanceof um?(Ql("SyncEngine","Document no longer in limbo: "+o.key),t.Ol.rr(o.key,e),t.Ol.ki(o.key)||Sm(t,o.key)):eh()}}function Tm(t,e){var n=e.key;t.xl.get(n)||(Ql("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Am(t))}function Am(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new hm(e)),t.xl=t.xl.Ht(e,n),Tg(t.gl,new Zf(Hf(Pf(e.path)),n,2,Eh.U))}}function xm(t,e,n){return Object(Jl.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(Jl.d)(this,(function(s){switch(s.label){case 0:return r=rh(t),i=[],o=[],a=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,s){a.push(r.Bl(s,e,n).then((function(t){if(t){r.$l&&r.pl.qa(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Iy.cc(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vl.uh(i),[4,function(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Object(Jl.d)(this,(function(l){switch(l.label){case 0:n=rh(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Hp.forEach(e,(function(e){return Hp.forEach(e.rc,(function(r){return n.persistence.Ii.sr(t,e.targetId,r)})).next((function(){return Hp.forEach(e.oc,(function(r){return n.persistence.Ii.rr(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Wp(r=l.sent()))throw r;return Ql("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.dc.get(s),c=u.Bt(u.Mt),n.dc=n.dc.Ht(s,c));return[2]}}))}))}(r.Sh,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function jm(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){var n,r;return Object(Jl.d)(this,(function(i){switch(i.label){case 0:return(n=rh(t)).currentUser.isEqual(e)?[3,3]:(Ql("SyncEngine","User change. New user:",e.R()),[4,jy(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new hh(lh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,xm(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Nm(t,e){var n=rh(t),r=n.Nl.get(e);if(r&&r.yl)return Kd().add(r.key);var i=Kd(),o=n.Dl.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Sl.get(s[a]);i=i.ye(u.view.fl)}return i}function Dm(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Jl.d)(this,(function(o){switch(o.label){case 0:return[4,Uy((n=rh(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&Im(n,e.targetId,i.ml),i)]}}))}))}function Pm(t){return Object(Jl.b)(this,void 0,void 0,(function(){var e;return Object(Jl.d)(this,(function(n){return[2,Hy((e=rh(t)).Sh).then((function(t){return xm(e,t)}))]}))}))}function Rm(t,e,n,r){return Object(Jl.b)(this,void 0,void 0,(function(){var i,o;return Object(Jl.d)(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=rh(t),r=rh(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.gi(t,e).next((function(e){return e?n.Ic.Zo(t,e):Hp.resolve(null)}))}))}((i=rh(t)).Sh,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Hg(i.gl)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Om(i,e,r||null),Cm(i,e),function(t,e){rh(rh(t).Ho).Ni(e)}(i.Sh,e)):eh(),a.label=4;case 4:return[4,xm(i,o)];case 5:return a.sent(),[3,7];case 6:Ql("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function Vm(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Object(Jl.d)(this,(function(c){switch(c.label){case 0:return qm(n=rh(t)),zm(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,Lm(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,Jg(n.gl,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)Tg(n.gl,a[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(s=[],u=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?s.push(e):u=u.then((function(){return Em(n,e),My(n.Sh,e,!0)})),Ag(n.gl,e)})),[4,u]);case 4:return c.sent(),[4,Lm(n,s)];case 5:return c.sent(),function(t){var e=rh(t);e.Nl.forEach((function(t,n){Ag(e.gl,n)})),e.Ol.Mc(),e.Nl=new Map,e.xl=new Pd(Nh.J)}(n),n.Ll=!1,[4,Jg(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Lm(t,e,n){return Object(Jl.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return Object(Jl.d)(this,(function(v){switch(v.label){case 0:n=rh(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.Dl.get(s=a[o]))&&0!==c.length?[4,Ly(n.Sh,Hf(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,Dm(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Fy(n.Sh,s)];case 8:return p=v.sent(),[4,Ly(n.Sh,p)];case 9:return u=v.sent(),[4,pm(n,Mm(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function Mm(t){return Df(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Um(t){var e=rh(t);return rh(rh(e.Sh).persistence).Qo()}function Fm(t,e,n,r){return Object(Jl.b)(this,void 0,void 0,(function(){var i,o,a;return Object(Jl.d)(this,(function(s){switch(s.label){case 0:return(i=rh(t)).Ll?(Ql("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Hy(i.Sh)];case 3:return o=s.sent(),a=$d.$e(e,"current"===n),[4,xm(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,My(i.Sh,e,!0)];case 6:return s.sent(),Em(i,e,r),[3,8];case 7:eh(),s.label=8;case 8:return[2]}}))}))}function Hm(t,e,n){return Object(Jl.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h;return Object(Jl.d)(this,(function(f){switch(f.label){case 0:if(!(r=qm(t)).Ll)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Dl.has(a=o[i])?(Ql("SyncEngine","Adding an already active target "+a),[3,5]):[4,Fy(r.Sh,a)]:[3,6];case 2:return s=f.sent(),[4,Ly(r.Sh,s)];case 3:return u=f.sent(),[4,pm(r,Mm(s),u.targetId,!1)];case 4:f.sent(),Tg(r.gl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Jl.d)(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,My(r.Sh,t,!1).then((function(){Ag(r.gl,t),Em(r,t)})).catch(Wv)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function qm(t){var e=rh(t);return e.gl.Ch.Bh=gm.bind(null,e),e.gl.Ch.Sn=Nm.bind(null,e),e.gl.Ch.$h=bm.bind(null,e),e.vl.uh=em.bind(null,e.Vl),e.vl.ql=nm.bind(null,e.Vl),e}function zm(t){var e=rh(t);return e.gl.Ch.qh=_m.bind(null,e),e.gl.Ch.Uh=wm.bind(null,e),e}var Gm=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Jl.b)(this,void 0,void 0,(function(){return Object(Jl.d)(this,(function(e){switch(e.label){case 0:return this.Kt=mg(t.gu.T),this.pl=this.Wl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return xy(this.persistence,new Ty,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new Xy(tg.ra,this.Kt)},t.prototype.Wl=function(t){return new lg},t.prototype.terminate=function(){return Object(Jl.b)(this,void 0,void 0,(function(){return Object(Jl.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}}))}))},t}(),Bm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Jl.c)(e,t),e.prototype.initialize=function(e){return Object(Jl.b)(this,void 0,void 0,(function(){return Object(Jl.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,qy(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,zm(this.Xl.fa)];case 4:return n.sent(),[4,Hg(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return xy(this.persistence,new Ty,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new cy(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=Oy(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?Bv.Xs(this.cacheSizeBytes):Bv.ei;return new wy(this.synchronizeTabs,e,t.clientId,n,t.fs,yg(),gg(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new lg},e}(Gm),Wm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Jl.c)(e,t),e.prototype.initialize=function(e){return Object(Jl.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Jl.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof cg?(this.pl.fa={nu:Rm.bind(null,n),su:Fm.bind(null,n),iu:Hm.bind(null,n),Qo:Um.bind(null,n),eu:Pm.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po((function(t){return Object(Jl.b)(r,void 0,void 0,(function(){return Object(Jl.d)(this,(function(e){switch(e.label){case 0:return[4,Vm(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=yg();if(!cg.jn(e))throw new hh(lh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Oy(t.gu.T,t.gu.persistenceKey);return new cg(e,t.fs,n,t.clientId,t.Yl)},e}(Bm),Km=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){var n=this;return Object(Jl.d)(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return mm(n.fa,t,1)},this.gl.Ch.s_=jm.bind(null,this.fa),[4,Jg(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new Xg},t.prototype.Zl=function(t){var e=mg(t.gu.T),n=new vg(t.gu);return function(t,e,n){return new Cg(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,a=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return mm(a.fa,t,0)},o=fg.jn()?new fg:new hg,new Eg(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,a){var s=new fm(t,e,n,r,i,o);return a&&(s.Ll=!0),s}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(Jl.b)(this,void 0,void 0,(function(){var e;return Object(Jl.d)(this,(function(n){switch(n.label){case 0:return e=rh(t),Ql("RemoteStore","RemoteStore shutting down."),e.Oh.add(5),[4,Ig(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}(),Jm=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Zm=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new Fp,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(Jl.b)(this,void 0,void 0,(function(){return Object(Jl.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Kl=function(){return Object(Jl.b)(this,void 0,void 0,(function(){return Object(Jl.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},t.prototype.a_=function(){return Object(Jl.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(Jl.d)(this,(function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new om(JSON.parse(r),t.length+n)]}}))}))},t.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.u_=function(){return Object(Jl.b)(this,void 0,void 0,(function(){var t,e;return Object(Jl.d)(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.l_=function(t){return Object(Jl.b)(this,void 0,void 0,(function(){var e;return Object(Jl.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(Jl.b)(this,void 0,void 0,(function(){var t,e;return Object(Jl.d)(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new hh(lh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new jh(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),Ym=function(t){this._methodName=t};function Qm(t,e,n){if(!n)throw new hh(lh.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Xm(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new hh(lh.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function $m(t,e,n,r){if(!0===e&&!0===r)throw new hh(lh.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function tb(t){if(!Nh.Et(t))throw new hh(lh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function eb(t){if(Nh.Et(t))throw new hh(lh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function nb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":eh()}function rb(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new hh(lh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=nb(t);throw new hh(lh.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function ib(t,e){if(e<=0)throw new hh(lh.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var ob=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new hh(lh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new hh(lh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,$m("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),ab=new Map,sb=function(){function t(t,e){this.w_="(lite)",this.E_=new ob({}),this.T_=!1,t instanceof mh?(this.I_=t,this.m_=new wh):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new hh(lh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mh(t.options.projectId)}(t),this.m_=new kh(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new hh(lh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new hh(lh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new ob(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new wh;switch(t.type){case"gapi":var e=t.client;return nh(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Oh(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new hh(lh.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=ab.get(this))&&(Ql("ComponentProvider","Removing Datastore"),ab.delete(this),t.terminate()),Promise.resolve();var t},t}(),ub=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new lb(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),cb=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),lb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Pf(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Jl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new ub(this.firestore,null,new Nh(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(cb);function hb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof dh&&(t=t._),Qm("collection","path",e),t instanceof sb)return eb(n=Ah.ct.apply(Ah,Object(Jl.g)([e],r))),new lb(t,null,n);if(!(t instanceof ub||t instanceof lb))throw new hh(lh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return eb(n=Ah.ct.apply(Ah,Object(Jl.g)([t.path],r)).child(Ah.ct(e))),new lb(t.firestore,null,n)}function fb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof dh&&(t=t._),1===arguments.length&&(e=oh.t()),Qm("doc","path",e),t instanceof sb)return tb(n=Ah.ct.apply(Ah,Object(Jl.g)([e],r))),new ub(t,null,new Nh(n));if(!(t instanceof ub||t instanceof lb))throw new hh(lh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return tb(n=t.D_.child(Ah.ct.apply(Ah,Object(Jl.g)([e],r)))),new ub(t.firestore,t instanceof lb?t.v_:null,new Nh(n))}function db(t,e){return t instanceof dh&&(t=t._),e instanceof dh&&(e=e._),(t instanceof ub||t instanceof lb)&&(e instanceof ub||e instanceof lb)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function pb(t,e){return t instanceof dh&&(t=t._),e instanceof dh&&(e=e._),t instanceof cb&&e instanceof cb&&t.firestore===e.firestore&&zf(t.C_,e.C_)&&t.v_===e.v_}var vb=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new hh(lh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new hh(lh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return ah(this.x_,t.x_)||ah(this.N_,t.N_)},t}(),yb=/^__.*__$/,gb=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return null!==this.zt?new kd(t,this.data,this.zt,e,this.fieldTransforms):new wd(t,this.data,e,this.fieldTransforms)},t}(),mb=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return new kd(t,this.data,this.zt,e,this.fieldTransforms)},t}();function bb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw eh()}}var _b=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.F_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.F_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Fb(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.W_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.F_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(bb(this.k_)&&yb.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),wb=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||mg(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new _b({k_:t,methodName:e,W_:n,path:jh.at(),B_:!1,j_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function kb(t){var e=t.p_(),n=mg(t.I_);return new wb(t.I_,!!e.ignoreUndefinedProperties,n)}function Cb(t,e,n,r,i,o){void 0===o&&(o={});var a=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Vb("Data must be an object, but it was:",a,r);var s,u,c=Pb(r,a);if(o.merge)s=new Vh(a.zt),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Lb(e,f[h],n);if(!a.contains(d))throw new hh(lh.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Hb(l,d)||l.push(d)}s=new Vh(l),u=a.fieldTransforms.filter((function(t){return s.It(t.field)}))}else s=null,u=a.fieldTransforms;return new gb(new of(c),s,u)}var Ob=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jl.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ym);function Eb(t,e,n){return new _b({k_:3,W_:e.settings.W_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var Sb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jl.c)(e,t),e.prototype.z_=function(t){return new hd(t.path,new rd)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ym),Ib=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Jl.c)(e,t),e.prototype.z_=function(t){var e=Eb(this,t,!0),n=this.H_.map((function(t){return Db(t,e)})),r=new id(n);return new hd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ym),Tb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Jl.c)(e,t),e.prototype.z_=function(t){var e=Eb(this,t,!0),n=this.H_.map((function(t){return Db(t,e)})),r=new ad(n);return new hd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ym),Ab=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Jl.c)(e,t),e.prototype.z_=function(t){var e=new ud(t.Kt,Xf(t.Kt,this.J_));return new hd(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Ym);function xb(t,e,n,r){var i=t.G_(1,e,n);Vb("Data must be an object, but it was:",i,r);var o=[],a=new af;Ph(r,(function(t,r){var s=Ub(e,t,n);r instanceof dh&&(r=r._);var u=i.U_(s);if(r instanceof Ob)o.push(s);else{var c=Db(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Vh(o);return new mb(a.yt(),s,i.fieldTransforms)}function jb(t,e,n,r,i,o){var a=t.G_(1,e,n),s=[Lb(e,r,n)],u=[i];if(o.length%2!=0)throw new hh(lh.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Lb(e,o[c])),u.push(o[c+1]);for(var l=[],h=new af,f=s.length-1;f>=0;--f)if(!Hb(l,s[f])){var d=s[f],p=u[f];p instanceof dh&&(p=p._);var v=a.U_(d);if(p instanceof Ob)l.push(d);else{var y=Db(p,v);null!=y&&(l.push(d),h.set(d,y))}}var g=new Vh(l);return new mb(h.yt(),g,a.fieldTransforms)}function Nb(t,e,n,r){return void 0===r&&(r=!1),Db(n,t.G_(r?4:3,e))}function Db(t,e){if(t instanceof dh&&(t=t._),Rb(t))return Vb("Unsupported field value:",e,t),Pb(t,e);if(t instanceof Ym)return function(t,e){if(!bb(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Db(o[i],e.Q_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof dh&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Xf(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Sh.fromDate(t);return{timestampValue:hp(e.Kt,n)}}if(t instanceof Sh)return n=new Sh(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:hp(e.Kt,n)};if(t instanceof vb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fh)return{bytesValue:fp(e.Kt,t.l)};if(t instanceof ub){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:vp(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+nb(t))}(t,e)}function Pb(t,e){var n={};return Rh(t)?e.path&&e.path.length>0&&e.zt.push(e.path):Ph(t,(function(t,r){var i=Db(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Rb(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Sh||t instanceof vb||t instanceof fh||t instanceof ub||t instanceof Ym)}function Vb(t,e,n){if(!Rb(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=nb(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Lb(t,e,n){if(e instanceof dh&&(e=e._),e instanceof Zm)return e.d_;if("string"==typeof e)return Ub(t,e);throw Fb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Mb=new RegExp("[~\\*/\\[\\]]");function Ub(t,e,n){if(e.search(Mb)>=0)throw Fb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Zm.bind.apply(Zm,Object(Jl.g)([void 0],e.split("."))))).d_}catch(r){throw Fb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Fb(t,e,n,r,i){var o=r&&!r.nt(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new hh(lh.INVALID_ARGUMENT,(s+=". ")+t+u)}function Hb(t,e){return t.some((function(t){return t.isEqual(e)}))}var qb=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Jl.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Jl.d)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new hh(lh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(Jl.d)(this,(function(u){switch(u.label){case 0:return n=rh(t),r=wp(n.Kt)+"/documents",i={documents:e.map((function(t){return gp(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){nh(!!e.found);var n=mp(t,e.found.name),r=pp(e.found.updateTime),i=new of({mapValue:{fields:e.found.fields}});return new cf(n,r,i,{})}(t,e):"missing"in e?function(t,e){nh(!!e.missing),nh(!!e.readTime);var n=mp(t,e.missing),r=pp(e.readTime);return new lf(n,r)}(t,e):eh()}(n.Kt,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());nh(!!e),s.push(e)})),s)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof lf||t instanceof cf?n.sf(t):eh()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.O_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.O_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Ad(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Jl.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Jl.d)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Nh.ft(n);e.mutations.push(new xd(r,e.Gt(r)))})),[4,function(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Jl.d)(this,(function(o){switch(o.label){case 0:return n=rh(t),r=wp(n.Kt)+"/documents",i={writes:e.map((function(t){return Ep(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof cf)e=t.version;else{if(!(t instanceof lf))throw eh();e=Ih.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new hh(lh.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?dd.updateTime(e):dd.jt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Ih.min()))throw new hh(lh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dd.updateTime(e)}return dd.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),zb=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new bg(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return Object(Jl.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Jl.d)(this,(function(r){return t=new qb(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!zh(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Nd(e)}return!1},t}(),Gb=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=bh.UNAUTHENTICATED,this.clientId=oh.t(),this._f=function(){},this.N=new Fp,this.credentials.S((function(t){Ql("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return Object(Jl.b)(this,void 0,void 0,(function(){return Object(Jl.d)(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new hh(lh.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new Fp;return this.fs.Tf((function(){return Object(Jl.b)(t,void 0,void 0,(function(){var t,n;return Object(Jl.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Xp(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function Bb(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(Jl.d)(this,(function(o){switch(o.label){case 0:return t.fs.Af(),Ql("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.bo((function(){return Object(Jl.b)(i,void 0,void 0,(function(){return Object(Jl.d)(this,(function(t){switch(t.label){case 0:return[4,jy(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.yo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function Wb(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){var n,r;return Object(Jl.d)(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,Kb(t)];case 1:return n=i.sent(),Ql("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.bo((function(){return function(t,e){return Object(Jl.b)(this,void 0,void 0,(function(){var n,r;return Object(Jl.d)(this,(function(i){switch(i.label){case 0:return(n=rh(t)).fs.Af(),Ql("RemoteStore","RemoteStore received new credentials"),r=Pg(n),n.Oh.add(3),[4,Ig(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Oh.delete(3),[4,Sg(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function Kb(t){return Object(Jl.b)(this,void 0,void 0,(function(){return Object(Jl.d)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(Ql("FirestoreClient","Using default OfflineComponentProvider"),[4,Bb(t,new Gm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function Jb(t){return Object(Jl.b)(this,void 0,void 0,(function(){return Object(Jl.d)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(Ql("FirestoreClient","Using default OnlineComponentProvider"),[4,Wb(t,new Km)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function Zb(t){return Kb(t).then((function(t){return t.persistence}))}function Yb(t){return Kb(t).then((function(t){return t.Sh}))}function Qb(t){return Jb(t).then((function(t){return t.gl}))}function Xb(t){return Jb(t).then((function(t){return t.fa}))}function $b(t){return Object(Jl.b)(this,void 0,void 0,(function(){var e,n;return Object(Jl.d)(this,(function(r){switch(r.label){case 0:return[4,Jb(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=dm.bind(null,e.fa),n.Jh=vm.bind(null,e.fa),n)]}}))}))}function t_(t,e,n){var r=this;void 0===n&&(n={});var i=new Fp;return t.fs.ys((function(){return Object(Jl.b)(r,void 0,void 0,(function(){var r;return Object(Jl.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Jm({next:function(o){e.ys((function(){return tm(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new hh(lh.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new hh(lh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new im(Pf(n.path),o,{includeMetadataChanges:!0,sl:!0});return $g(t,a)},[4,$b(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function e_(t,e,n){var r=this;void 0===n&&(n={});var i=new Fp;return t.fs.ys((function(){return Object(Jl.b)(r,void 0,void 0,(function(){var r;return Object(Jl.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Jm({next:function(n){e.ys((function(){return tm(t,a)})),n.fromCache&&"server"===r.source?i.reject(new hh(lh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new im(n,o,{includeMetadataChanges:!0,sl:!0});return $g(t,a)},[4,$b(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var n_=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new bg(this,"async_queue_retry"),this.vf=function(){var e=gg();e&&Ql("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=gg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=gg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object(Jl.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Jl.d)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!Wp(t=n.sent()))throw t;return Ql("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,Xl("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Qp.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&eh()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Jl.b)(this,void 0,void 0,(function(){var t;return Object(Jl.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Of=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),r_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new n_,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Jl.c)(e,t),e.prototype.b_=function(){return this.Lf||o_(this),this.Lf.terminate()},e}(sb);function i_(t){return t.Lf||o_(t),t.Lf.df(),t.Lf}function o_(t){var e=t.p_(),n=function(t,e,n){return new gh(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new Gb(t.m_,t.Mf,n)}function a_(t,e,n){var r=this,i=new Fp;return t.fs.enqueue((function(){return Object(Jl.b)(r,void 0,void 0,(function(){var r;return Object(Jl.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Bb(t,n)];case 1:return o.sent(),[4,Wb(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===lh.FAILED_PRECONDITION||t.code===lh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function s_(t){if(t.R_||t.P_)throw new hh(lh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var u_=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Wh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Uh(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(Fh(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.jf(t.arrayValue,e);case 10:return this.Wf(t.mapValue,e);default:throw eh()}},t.prototype.Wf=function(t,e){var n=this,r={};return Ph(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new vb(Uh(t.latitude),Uh(t.longitude))},t.prototype.jf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return Hh(n)?t(n):n}(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(qh(t));default:return null}},t.prototype.Bf=function(t){var e=Mh(t);return new Sh(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Ah.ct(t);nh(Up(n));var r=new mh(n.get(1),n.get(3)),i=new Nh(n.X(5));return r.isEqual(e)||Xl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),c_=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ub(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new l_(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(h_("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),l_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jl.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(c_);function h_(t,e){return"string"==typeof e?Ub(t,e):e instanceof dh?e._.d_:e.d_}function f_(t){if(Vf(t)&&0===t.Nt.length)throw new hh(lh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var d_=function(){};function p_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var v_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(Jl.c)(e,t),e.prototype.Yf=function(t){var e=kb(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new hh(lh.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){k_(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(w_(r,t,l[c]));s={arrayValue:{values:u}}}else s=w_(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||k_(a,o),s=Nb(n,"where",a,"in"===o||"not-in"===o);var h=gf.create(i,o,s);return function(t,e){if(e.xt()){var n=Mf(t);if(null!==n&&!n.isEqual(e.field))throw new hh(lh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Lf(t);null!==r&&C_(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new hh(lh.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new cb(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Nf(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(d_),y_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(Jl.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new hh(lh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new hh(lh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Tf(e,n);return function(t,e){if(null===Lf(t)){var n=Mf(t);null!==n&&C_(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new cb(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Nf(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(d_),g_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(Jl.c)(e,t),e.prototype.Yf=function(t){return new cb(t.firestore,t.v_,qf(t.C_,this.nd,this.sd))},e}(d_),m_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Jl.c)(e,t),e.prototype.Yf=function(t){var e=__(t,this.type,this.rd,this.od);return new cb(t.firestore,t.v_,function(t,e){return new Nf(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(d_),b_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Jl.c)(e,t),e.prototype.Yf=function(t){var e=__(t,this.type,this.rd,this.od);return new cb(t.firestore,t.v_,function(t,e){return new Nf(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(d_);function __(t,e,n,r){if(n[0]instanceof dh&&(n[0]=n[0]._),n[0]instanceof c_)return function(t,e,n,r,i){if(!r)throw new hh(lh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Ff(t);a<s.length;a++){var u=s[a];if(u.field.ht())o.push(Xh(e,r.key));else{var c=r.field(u.field);if(Hh(c))throw new hh(lh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new hh(lh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Sf(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=kb(t.firestore);return function(t,e,n,r,i,o){var a=t.Nt;if(i.length>a.length)throw new hh(lh.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.ht()){if("string"!=typeof c)throw new hh(lh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Uf(t)&&-1!==c.indexOf("/"))throw new hh(lh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Ah.ct(c));if(!Nh.Et(l))throw new hh(lh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Nh(l);s.push(Xh(e,h))}else{var f=Nb(n,r,c);s.push(f)}}return new Sf(s,o)}(t.C_,t.firestore.I_,i,e,n,r)}function w_(t,e,n){if(n instanceof dh&&(n=n._),"string"==typeof n){if(""===n)throw new hh(lh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uf(e)&&-1!==n.indexOf("/"))throw new hh(lh.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ah.ct(n));if(!Nh.Et(r))throw new hh(lh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Xh(t,new Nh(r))}if(n instanceof ub)return Xh(t,n.S_);throw new hh(lh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+nb(n)+".")}function k_(t,e){if(!Array.isArray(t)||0===t.length)throw new hh(lh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new hh(lh.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function C_(t,e,n){if(!n.isEqual(e))throw new hh(lh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function O_(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function E_(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var S_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Jl.c)(e,t),e.prototype.Uf=function(t){return new fh(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new ub(this.firestore,null,e)},e}(u_),I_=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),T_=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this).zf=e,s.ad=e,s.metadata=o,s}return Object(Jl.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new A_(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(h_("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(c_),A_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jl.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(T_),x_=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new I_(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new A_(n.zf,n.Hf,r.key,r,new I_(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new hh(lh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){return{type:"added",doc:new A_(t.zf,t.Hf,e.doc.key,e.doc,new I_(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new A_(t.zf,t.Hf,e.doc.key,e.doc,new I_(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:j_(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.ld=e),this.hd},t}();function j_(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return eh()}}function N_(t,e){return t instanceof T_&&e instanceof T_?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof x_&&e instanceof x_&&t.zf===e.zf&&pb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var D_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Jl.c)(e,t),e.prototype.Uf=function(t){return new fh(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new ub(this.firestore,null,e)},e}(u_);function P_(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=rb(t,ub);var o=rb(t.firestore,r_),a=kb(o);return e instanceof dh&&(e=e._),V_(o,[("string"==typeof e||e instanceof Zm?jb(a,"updateDoc",t.S_,e,n,r):xb(a,"updateDoc",t.S_,e)).O_(t.S_,dd.exists(!0))])}function R_(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof dh&&(t=t._);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||O_(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(O_(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof ub)c=rb(t.firestore,r_),l=Pf(t.S_.path),u={next:function(e){i[s]&&i[s](L_(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=rb(t,cb);c=rb(d.firestore,r_),l=d.C_;var p=new D_(c);u={next:function(t){i[s]&&i[s](new x_(c,p,d,t))},error:i[s+1],complete:i[s+2]},f_(t.C_)}return function(t,e,n,r){var i=this,o=new Jm(r),a=new im(e,o,n);return t.fs.ys((function(){return Object(Jl.b)(i,void 0,void 0,(function(){var e;return Object(Jl.d)(this,(function(n){switch(n.label){case 0:return e=$g,[4,$b(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.r_(),t.fs.ys((function(){return Object(Jl.b)(i,void 0,void 0,(function(){var e;return Object(Jl.d)(this,(function(n){switch(n.label){case 0:return e=tm,[4,$b(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(i_(c),l,h,u)}function V_(t,e){return function(t,e){var n=this,r=new Fp;return t.fs.ys((function(){return Object(Jl.b)(n,void 0,void 0,(function(){var n;return Object(Jl.d)(this,(function(i){switch(i.label){case 0:return n=ym,[4,Xb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(i_(t),e)}function L_(t,e,n){var r=n.docs.get(e.S_),i=new D_(t);return new T_(t,i,e.S_,r,new I_(n.hasPendingWrites,n.fromCache),e.v_)}var M_=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=kb(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=U_(t,this.zf),i=E_(r.v_,e,n),o=Cb(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.O_(r.S_,dd.jt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,a=U_(t,this.zf);return e instanceof dh&&(e=e._),o="string"==typeof e||e instanceof Zm?jb(this.wd,"WriteBatch.update",a.S_,e,n,r):xb(this.wd,"WriteBatch.update",a.S_,e),this.fd.push(o.O_(a.S_,dd.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=U_(t,this.zf);return this.fd=this.fd.concat(new Ad(e.S_,dd.jt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new hh(lh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function U_(t,e){if(t instanceof dh&&(t=t._),t.firestore!==e)throw new hh(lh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var F_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(Jl.c)(e,t),e.prototype.get=function(e){var n=this,r=U_(e,this.zf),i=new D_(this.zf);return t.prototype.get.call(this,e).then((function(t){return new T_(n.zf,i,r.S_,t.Jf,new I_(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=kb(t)}return t.prototype.get=function(t){var e=this,n=U_(t,this.zf),r=new S_(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return eh();var i=t[0];if(i instanceof lf)return new c_(e.zf,r,n.S_,null,n.v_);if(i instanceof cf)return new c_(e.zf,r,i.key,i,n.v_);throw eh()}))},t.prototype.set=function(t,e,n){var r=U_(t,this.zf),i=E_(r.v_,e,n),o=Cb(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=U_(t,this.zf);return e instanceof dh&&(e=e._),o="string"==typeof e||e instanceof Zm?jb(this.wd,"Transaction.update",a.S_,e,n,r):xb(this.wd,"Transaction.update",a.S_,e),this.Td.update(a.S_,o),this},t.prototype.delete=function(t){var e=U_(t,this.zf);return this.Td.delete(e.S_),this},t}()),H_=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){s_(t=rb(t,r_));var n=i_(t),r=t.p_(),i=new Km;return a_(n,i,new Bm(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){s_(t=rb(t,r_));var e=i_(t),n=t.p_(),r=new Km;return a_(e,r,new Wm(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new hh(lh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Fp;return t.Mf.Tf((function(){return Object(Jl.b)(e,void 0,void 0,(function(){var e;return Object(Jl.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Jl.b)(this,void 0,void 0,(function(){return Object(Jl.d)(this,(function(e){switch(e.label){case 0:return zp.jn()?[4,zp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Oy(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),q_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof mh||(i.md=e),i}return Object(Jl.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=rb(t,sb)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&$l("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(Jl.b)(e,void 0,void 0,(function(){var e,n;return Object(Jl.d)(this,(function(r){switch(r.label){case 0:return[4,Zb(t)];case 1:return e=r.sent(),[4,Qb(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=rh(t);return e.Oh.delete(0),Sg(e)}(n))]}}))}))}))}(i_(rb(this._,r_)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(Jl.b)(e,void 0,void 0,(function(){var e,n;return Object(Jl.d)(this,(function(r){switch(r.label){case 0:return[4,Zb(t)];case 1:return e=r.sent(),[4,Qb(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(Jl.b)(this,void 0,void 0,(function(){var e;return Object(Jl.d)(this,(function(n){switch(n.label){case 0:return(e=rh(t)).Oh.add(0),[4,Ig(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(i_(rb(this._,r_)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&$m("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Fp;return t.fs.ys((function(){return Object(Jl.b)(e,void 0,void 0,(function(){var e;return Object(Jl.d)(this,(function(r){switch(r.label){case 0:return e=km,[4,Xb(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(i_(rb(this._,r_)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Jm(e);return t.fs.ys((function(){return Object(Jl.b)(n,void 0,void 0,(function(){var e;return Object(Jl.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){rh(t).Wh.add(e),e.next()},[4,$b(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return Object(Jl.b)(n,void 0,void 0,(function(){var e;return Object(Jl.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){rh(t).Wh.delete(e)},[4,$b(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(i_(t=rb(t,r_)),O_(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new hh(lh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new ew(this,hb(this._,t))}catch(t){throw K_(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new W_(this,fb(this._,t))}catch(t){throw K_(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new X_(this,function(t,e){if(t=rb(t,sb),Qm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new hh(lh.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new cb(t,null,function(t){return new Nf(Ah.at(),t)}(e))}(this._,t))}catch(t){throw K_(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Fp;return t.fs.ys((function(){return Object(Jl.b)(n,void 0,void 0,(function(){var n;return Object(Jl.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return Jb(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new zb(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(i_(t),(function(n){return e(new F_(t,n))}))}(this._,(function(n){return t(new G_(e,n))}))},e.prototype.batch=function(){var t=this;return i_(this._),new B_(new M_(this._,(function(e){return V_(t._,e)})))},e.prototype.loadBundle=function(t){throw new hh(lh.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new hh(lh.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(dh),z_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Jl.c)(e,t),e.prototype.Uf=function(t){return new yh(new fh(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return W_.Ad(e,this.firestore,null)},e}(u_),G_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new z_(e),r}return Object(Jl.c)(e,t),e.prototype.get=function(t){var e=this,n=nw(t);return this._.get(n).then((function(t){return new Y_(e.zf,new T_(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=nw(t);return n?(Xm("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=nw(t);return 2===arguments.length?this._.update(a,e):(r=this._).update.apply(r,Object(Jl.g)([a,e,n],i)),this},e.prototype.delete=function(t){var e=nw(t);return this._.delete(e),this},e}(dh),B_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jl.c)(e,t),e.prototype.set=function(t,e,n){var r=nw(t);return n?(Xm("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=nw(t);return 2===arguments.length?this._.update(a,e):(r=this._).update.apply(r,Object(Jl.g)([a,e,n],i)),this},e.prototype.delete=function(t){var e=nw(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(dh),W_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new z_(e),r}return Object(Jl.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new hh(lh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new ub(n._,r,new Nh(t)))},e.Ad=function(t,n,r){return new e(n,new ub(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ew(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new ew(this.firestore,hb(this._,t))}catch(t){throw K_(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof dh&&(t=t._),t instanceof ub&&db(this._,t)},e.prototype.set=function(t,e){e=Xm("DocumentReference.set",e);try{return function(t,e,n){t=rb(t,ub);var r=rb(t.firestore,r_),i=E_(t.v_,e,n);return V_(r,[Cb(kb(r),"setDoc",t.S_,i,null!==t.v_,n).O_(t.S_,dd.jt())])}(this._,t,e)}catch(t){throw K_(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?P_(this._,t):P_.apply(void 0,Object(Jl.g)([this._,t,e],n))}catch(t){throw K_(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return V_(rb((t=this._).firestore,r_),[new Ad(t.S_,dd.jt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=J_(e),i=Z_(e,(function(e){return new Y_(t.firestore,new T_(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return R_(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=rb(t,ub);var e=rb(t.firestore,r_),n=i_(e),r=new D_(e);return function(t,e){var n=this,r=new Fp;return t.fs.ys((function(){return Object(Jl.b)(n,void 0,void 0,(function(){var n;return Object(Jl.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Jl.b)(this,void 0,void 0,(function(){var r,i;return Object(Jl.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=rh(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof cf?n.resolve(i):i instanceof lf?n.resolve(null):n.reject(new hh(lh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Xp(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Yb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new T_(e,r,t.S_,n,new I_(n instanceof cf&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=rb(t,ub);var e=rb(t.firestore,r_);return t_(i_(e),t.S_,{source:"server"}).then((function(n){return L_(e,t,n)}))}(this._):function(t){t=rb(t,ub);var e=rb(t.firestore,r_);return t_(i_(e),t.S_).then((function(n){return L_(e,t,n)}))}(this._)).then((function(t){return new Y_(e.firestore,new T_(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(dh);function K_(t,e,n){return t.message=t.message.replace(e,n),t}function J_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!O_(r))return r}return{}}function Z_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=O_(t[0])?t[0]:O_(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Y_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Jl.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new W_(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return N_(this._,t._)},e}(dh),Q_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jl.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(Y_),X_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new z_(e),r}return Object(Jl.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,p_(this._,function(t,e,n){var r=e,i=h_("where",t);return new v_(i,r,n)}(t,n,r)))}catch(t){throw K_(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,p_(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=h_("orderBy",t);return new y_(r,n)}(t,n)))}catch(t){throw K_(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,p_(this._,function(t){return ib("limit",t),new g_("limit",t,"F")}(t)))}catch(t){throw K_(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,p_(this._,function(t){return ib("limitToLast",t),new g_("limitToLast",t,"L")}(t)))}catch(t){throw K_(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,p_(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new m_("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw K_(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,p_(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new m_("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw K_(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,p_(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new b_("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw K_(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,p_(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new b_("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw K_(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return pb(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=rb(t,cb);var e=rb(t.firestore,r_),n=i_(e),r=new D_(e);return function(t,e){var n=this,r=new Fp;return t.fs.ys((function(){return Object(Jl.b)(n,void 0,void 0,(function(){var n;return Object(Jl.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Jl.b)(this,void 0,void 0,(function(){var r,i,o,a,s;return Object(Jl.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Uy(t,e,!0)];case 1:return s=u.sent(),r=new cm(e,s.Pc),i=r.dl(s.documents),o=r.Ei(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Xp(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Yb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new x_(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=rb(t,cb);var e=rb(t.firestore,r_),n=i_(e),r=new D_(e);return e_(n,t.C_,{source:"server"}).then((function(n){return new x_(e,r,t,n)}))}(this._):function(t){t=rb(t,cb);var e=rb(t.firestore,r_),n=i_(e),r=new D_(e);return f_(t.C_),e_(n,t.C_).then((function(n){return new x_(e,r,t,n)}))}(this._)).then((function(t){return new tw(e.firestore,new x_(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=J_(e),i=Z_(e,(function(e){return new tw(t.firestore,new x_(t.firestore._,t.Hf,t._,e.ud))}));return R_(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(dh),$_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Jl.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Q_(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(dh),tw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Jl.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new X_(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new Q_(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new $_(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new Q_(n.zf,r))}))},e.prototype.isEqual=function(t){return N_(this._,t._)},e}(dh),ew=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(Jl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new W_(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new W_(this.firestore,void 0===t?fb(this._):fb(this._,t))}catch(t){throw K_(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=rb(t.firestore,r_),r=fb(t),i=E_(t.v_,e);return V_(n,[Cb(kb(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).O_(r.S_,dd.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new W_(e.firestore,t)}))},e.prototype.isEqual=function(t){return db(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(X_);function nw(t){return t instanceof dh&&(t=t._),rb(t,ub)}var rw=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Zm.bind.apply(Zm,Object(Jl.g)([void 0],e))))||this}return Object(Jl.c)(e,t),e.documentId=function(){return new e(jh.lt().ot())},e.prototype.isEqual=function(t){return t instanceof dh&&(t=t._),t instanceof Zm&&this._.d_.isEqual(t.d_)},e}(dh),iw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jl.c)(e,t),e.serverTimestamp=function(){var t=new Sb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Ob("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ib("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tb("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Ab("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(dh);!function(){function t(){this.Pd={},this.yd=new Fp,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.jl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var ow,aw=n("/6Yf"),sw={Firestore:q_,GeoPoint:vb,Timestamp:Sh,Blob:yh,Transaction:G_,WriteBatch:B_,DocumentReference:W_,DocumentSnapshot:Y_,Query:X_,QueryDocumentSnapshot:Q_,QuerySnapshot:tw,CollectionReference:ew,FieldPath:rw,FieldValue:iw,setLogLevel:function(t){Zl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new aw.a("firestore",(function(t){return function(t,e){return new q_(t,new r_(t,e),new H_)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},sw)))})(ow=Wa.a),ow.registerVersion("@firebase/firestore","2.1.2"),n("VRyK"),n("qgXg"),n("Ylt2"),n("tf+s");var uw=new r.q("angularfire2.auth.use-emulator");function cw(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:La.a;return new Vt.a((function(n){var r;return null!=e?e.schedule((function(){r=t.onSnapshot({includeMetadataChanges:!0},n)})):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}}))}(t,e)}function lw(t,e){return cw(t,e).pipe(Object(Jt.a)((function(t){return{payload:t,type:"query"}})))}function hw(t,e){return lw(t,e).pipe(Ae(void 0),Ma(),Object(Jt.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1],i=r.payload.docChanges(),o=i.map((function(t){return{type:t.type,payload:t}}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((function(t,e){var r=i.find((function(e){return e.doc.ref.isEqual(t.ref)})),a=null==n?void 0:n.payload.docs.find((function(e){return e.ref.isEqual(t.ref)}));r&&JSON.stringify(r.doc.metadata)===JSON.stringify(t.metadata)||!r&&a&&JSON.stringify(a.metadata)===JSON.stringify(t.metadata)||o.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})})),o})))}function fw(t,e,n){return hw(t,n).pipe(xe((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return dw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return dw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return dw(t,e.oldIndex,1)}return t}(t,e))})),t}(t,n.map((function(t){return t.payload})),e)}),[]),(function(t){return t.lift(new Ha(void 0,void 0))}),Object(Jt.a)((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}function dw(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[e,n].concat(o)),r}function pw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var vw=function(){function t(e,n,r){_classCallCheck(this,t),this.ref=e,this.query=n,this.afs=r}return _createClass(t,[{key:"stateChanges",value:function(t){var e=hw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Jt.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})))),e.pipe(Ae(void 0),Ma(),Xt((function(t){var e=_slicedToArray(t,2),n=e[0];return e[1].length>0||!n})),Object(Jt.a)((function(t){var e=_slicedToArray(t,2);e[0];return e[1]})),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(xe((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=pw(t);return fw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return lw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Jt.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(Object.assign({},e.data()),_defineProperty({},t.idField,e.id)):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Nt.a)(this.query.get(t)).pipe(Object(za.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new yw(this.ref.doc(t),this.afs)}}]),t}(),yw=function(){function t(e,n){_classCallCheck(this,t),this.ref=e,this.afs=n}return _createClass(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=kw(this.ref.collection(t),e),r=n.ref,i=n.query;return new vw(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return cw(this.ref,this.afs.schedulers.outsideAngular).pipe(Ae(void 0),Ma(),Object(Jt.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1];return r.exists?(null==n?void 0:n.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(Jt.a)((function(e){var n=e.payload;return t.idField?Object.assign(Object.assign({},n.data()),_defineProperty({},t.idField,n.id)):n.data()})))}},{key:"get",value:function(t){return Object(Nt.a)(this.ref.get(t)).pipe(Object(za.b)(this.afs.schedulers.insideAngular))}}]),t}(),gw=function(){function t(e,n){_classCallCheck(this,t),this.query=e,this.afs=n}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?hw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Jt.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),Xt((function(t){return t.length>0})),this.afs.keepUnstableUntilFirst):hw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(xe((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=pw(t);return fw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return lw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Jt.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(_defineProperty({},t.idField,e.id),e.data()):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Nt.a)(this.query.get(t)).pipe(Object(za.b)(this.afs.schedulers.insideAngular))}}]),t}(),mw=new r.q("angularfire2.enableFirestorePersistence"),bw=new r.q("angularfire2.firestore.persistenceSettings"),_w=new r.q("angularfire2.firestore.settings"),ww=new r.q("angularfire2.firestore.use-emulator");function kw(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var Cw,Ow,Ew,Sw,Iw,Tw=((Iw=function(){function t(e,n,r,i,o,a,s,u,c){_classCallCheck(this,t),this.schedulers=new Ga.d(a),this.keepUnstableUntilFirst=Object(Ga.h)(this.schedulers);var l=Object(Ga.g)(e,a,n);!Ba.a.auth&&c&&Object(Ga.j)();var h=u,f=_slicedToArray(Object(Ga.f)(l.name+".firestore","AngularFirestore",l,(function(){var t=a.runOutsideAngular((function(){return l.firestore()}));return i&&t.settings(i),h&&t.useEmulator.apply(t,_toConsumableArray(h)),r&&!function(t){return"server"===t}(o)?[t,a.runOutsideAngular((function(){try{return Object(Nt.a)(t.enablePersistence(s||void 0).then((function(){return!0}),(function(){return!1})))}catch(ow){return"undefined"!=typeof console&&console.warn(ow),Object(jt.a)(!1)}}))]:[t,Object(jt.a)(!1)]}),[i,h,r]),2);this.firestore=f[0],this.persistenceEnabled$=f[1]}return _createClass(t,[{key:"collection",value:function(t,e){var n=kw("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new vw(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new gw(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run((function(){return e}));return new yw(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||Iw)(r.Sb(Ga.c),r.Sb(Ga.b,8),r.Sb(mw,8),r.Sb(_w,8),r.Sb(r.B),r.Sb(r.z),r.Sb(bw,8),r.Sb(ww,8),r.Sb(uw,8))},Iw.\u0275prov=Object(r.Hb)({factory:function(){return new Iw(Object(r.Sb)(Ga.c),Object(r.Sb)(Ga.b,8),Object(r.Sb)(mw,8),Object(r.Sb)(_w,8),Object(r.Sb)(r.B),Object(r.Sb)(r.z),Object(r.Sb)(bw,8),Object(r.Sb)(ww,8),Object(r.Sb)(uw,8))},token:Iw,providedIn:"any"}),Iw),Aw=((Sw=function(){function t(e){_classCallCheck(this,t),this.firestore=e,this.enBio=new ea({content:new ta("")}),this.ptBio=new ea({content:new ta("")})}return _createClass(t,[{key:"editBio",value:function(t,e){return this.firestore.collection("biografias").doc(e).set(t,{merge:!0})}},{key:"getBio",value:function(t){return this.firestore.collection("biografias").doc(t).get()}}]),t}()).\u0275fac=function(t){return new(t||Sw)(r.Sb(Tw))},Sw.\u0275prov=r.Hb({token:Sw,factory:Sw.\u0275fac,providedIn:"root"}),Sw),xw=((Ew=function(){function t(e){_classCallCheck(this,t),this.bioService=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.getBios()}},{key:"getBios",value:function(){var t=this;this.bioService.getBio("8gvNivwD4eKxhKtewRG1").subscribe((function(e){t.ptBio=e.data()})),this.bioService.getBio("z0F3xdQAduL6YmfmyGIf").subscribe((function(e){t.enBio=e.data()}))}}]),t}()).\u0275fac=function(t){return new(t||Ew)(r.Lb(Aw))},Ew.\u0275cmp=r.Fb({type:Ew,selectors:[["app-bio"]],decls:29,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-sm-6"],[1,"col-sm-12","text-justify"],[1,"align-top","py-1"],[1,"fab","fa-vimeo-v","mr-2"],[1,"align-middle","py-1"],[1,"fab","fa-instagram","mr-2"],[1,"far","fa-envelope","mr-2"],["src","./../../../../assets/img/retrato.jpg",1,"img-fluid","center"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.Ob(3,"div",1),r.Ob(4,"div",3),r.gc(5),r.Mb(6,"br"),r.Mb(7,"br"),r.gc(8),r.Mb(9,"br"),r.Mb(10,"br"),r.Mb(11,"br"),r.Mb(12,"br"),r.Ob(13,"span",4),r.Mb(14,"i",5),r.gc(15," vascobauerle "),r.Nb(),r.Mb(16,"br"),r.Ob(17,"span",6),r.Mb(18,"i",7),r.gc(19," vascotrabulobauerle "),r.Nb(),r.Mb(20,"br"),r.Ob(21,"span",6),r.Mb(22,"i",8),r.gc(23," vascoworkscontact@gmail.com "),r.Nb(),r.Mb(24,"br"),r.Mb(25,"br"),r.Mb(26,"br"),r.Nb(),r.Nb(),r.Nb(),r.Ob(27,"div",2),r.Mb(28,"img",9),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.Ab(5),r.ic(" [PT] ",e.ptBio.content," "),r.Ab(3),r.ic(" [EN] ",e.enBio.content," "))},styles:[""]}),Ew),jw=((Ow=function(){function t(e){_classCallCheck(this,t),this.firestore=e,this.form=new ea({conteudo:new ta("",eo.required),imagemCapa:new ta("",eo.required),nome:new ta("",eo.required),subtitulo:new ta("",eo.required),titulo:new ta("",eo.required)})}return _createClass(t,[{key:"getWorks",value:function(){return this.firestore.collection("trabalhos").snapshotChanges()}},{key:"createWork",value:function(t){var e=this;return new Promise((function(n,r){e.firestore.collection("trabalhos").add(t).then((function(t){}),(function(t){return r(t)}))}))}},{key:"editWork",value:function(t,e){return this.firestore.collection("trabalhos").doc(e).set(t,{merge:!0})}},{key:"deleteWork",value:function(t){return this.firestore.collection("trabalhos").doc(t.payload.doc.id).delete()}}]),t}()).\u0275fac=function(t){return new(t||Ow)(r.Sb(Tw))},Ow.\u0275prov=r.Hb({token:Ow,factory:Ow.\u0275fac,providedIn:"root"}),Ow),Nw=((Cw=function(){function t(e,n){_classCallCheck(this,t),this.document=e,this.platformId=n,this.documentIsAccessible=function(t){return"browser"===t}(this.platformId)}return _createClass(t,[{key:"check",value:function(t){return!!this.documentIsAccessible&&(t=encodeURIComponent(t),this.getCookieRegExp(t).test(this.document.cookie))}},{key:"get",value:function(t){if(this.documentIsAccessible&&this.check(t)){t=encodeURIComponent(t);var e=this.getCookieRegExp(t).exec(this.document.cookie);return this.safeDecodeURIComponent(e[1])}return""}},{key:"getAll",value:function(){var t=this;if(!this.documentIsAccessible)return{};var e={},n=this.document;return n.cookie&&""!==n.cookie&&n.cookie.split(";").forEach((function(n){var r=_slicedToArray(n.split("="),2),i=r[0],o=r[1];e[t.safeDecodeURIComponent(i.replace(/^ /,""))]=t.safeDecodeURIComponent(o)})),e}},{key:"set",value:function(t,e,n,r,i,o,a){if(this.documentIsAccessible)if("number"==typeof n||n instanceof Date||r||i||o||a)this.set(t,e,{expires:n,path:r,domain:i,secure:o,sameSite:a||"Lax"});else{var s=encodeURIComponent(t)+"="+encodeURIComponent(e)+";",u=n||{};u.expires&&(s+="number"==typeof u.expires?"expires="+new Date((new Date).getTime()+1e3*u.expires*60*60*24).toUTCString()+";":"expires="+u.expires.toUTCString()+";"),u.path&&(s+="path="+u.path+";"),u.domain&&(s+="domain="+u.domain+";"),!1===u.secure&&"None"===u.sameSite&&(u.secure=!0,console.warn("[ngx-cookie-service] Cookie ".concat(t," was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130"))),u.secure&&(s+="secure;"),u.sameSite||(u.sameSite="Lax"),s+="sameSite="+u.sameSite+";",this.document.cookie=s}}},{key:"delete",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Lax";if(this.documentIsAccessible){var o=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(t,"",{expires:o,path:e,domain:n,secure:r,sameSite:i})}}},{key:"deleteAll",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Lax";if(this.documentIsAccessible){var i=this.getAll();for(var o in i)i.hasOwnProperty(o)&&this.delete(o,t,e,n,r)}}},{key:"getCookieRegExp",value:function(t){var e=t.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+e+"|;\\s*"+e+")=(.*?)(?:;|$)","g")}},{key:"safeDecodeURIComponent",value:function(t){try{return decodeURIComponent(t)}catch(Fb){return t}}}]),t}()).\u0275fac=function(t){return new(t||Cw)(r.Sb(u),r.Sb(r.B))},Cw.\u0275prov=Object(r.Hb)({factory:function(){return new Cw(Object(r.Sb)(u),Object(r.Sb)(r.B))},token:Cw,providedIn:"root"}),Cw);function Dw(t,e){if(1&t){var n=r.Pb();r.Ob(0,"div",1),r.Ob(1,"div",2),r.Ob(2,"h1"),r.gc(3,"Vasco B\xe4uerle"),r.Nb(),r.Ob(4,"h4"),r.gc(5,"Dashboard"),r.Nb(),r.Mb(6,"br"),r.Ob(7,"div",3),r.Ob(8,"div",4),r.Ob(9,"div",5),r.Ob(10,"input",6),r.Wb("ngModelChange",(function(t){return r.bc(n),r.Yb().pw=t})),r.Nb(),r.Nb(),r.Ob(11,"div",5),r.Ob(12,"button",7),r.Wb("click",(function(){return r.bc(n),r.Yb().entrar()})),r.gc(13,"Entrar"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()}if(2&t){var i=r.Yb();r.Ab(10),r.Zb("ngModel",i.pw)}}function Pw(t,e){1&t&&(r.Ob(0,"div",39),r.gc(1," Opera\xe7\xe3o realizada com sucesso! "),r.Nb())}function Rw(t,e){if(1&t){var n=r.Pb();r.Ob(0,"tr"),r.Ob(1,"th",40),r.gc(2),r.Nb(),r.Ob(3,"td",41),r.gc(4),r.Nb(),r.Ob(5,"td",41),r.Mb(6,"img",42),r.Nb(),r.Ob(7,"td",43),r.Ob(8,"button",27),r.Wb("click",(function(){r.bc(n);var t=e.$implicit;return r.Yb(2).selectWork(t.payload.doc.data().nome)})),r.gc(9,"Editar"),r.Nb(),r.Nb(),r.Ob(10,"td",43),r.Ob(11,"button",44),r.Wb("click",(function(){r.bc(n);var t=e.$implicit;return r.Yb(2).deleteWork(t)})),r.gc(12,"Eliminar"),r.Nb(),r.Nb(),r.Nb()}if(2&t){var i=e.$implicit;r.Ab(2),r.ic(" works/",i.payload.doc.data().nome,""),r.Ab(2),r.ic(" ",i.payload.doc.data().titulo,""),r.Ab(2),r.Zb("src",i.payload.doc.data().imagemCapa,r.dc)}}function Vw(t,e){if(1&t&&(r.Ob(0,"h3"),r.gc(1),r.Nb()),2&t){var n=r.Yb(2);r.Ab(1),r.ic("Editar ",n.selectedWork.titulo," ")}}function Lw(t,e){if(1&t){var n=r.Pb();r.Ob(0,"div",1),r.Ob(1,"nav"),r.Ob(2,"div",8),r.Ob(3,"a",9),r.gc(4,"Lista de trabalhos"),r.Nb(),r.Ob(5,"a",10),r.Wb("click",(function(){return r.bc(n),r.Yb().clearForm()})),r.gc(6,"Adicionar trabalhos"),r.Nb(),r.Ob(7,"a",11),r.gc(8,"Biografia"),r.Nb(),r.Ob(9,"a",12),r.Wb("click",(function(){return r.bc(n),r.Yb().sair()})),r.gc(10,"Terminar Sess\xe3o"),r.Nb(),r.Nb(),r.Nb(),r.fc(11,Pw,2,0,"div",13),r.Ob(12,"div",14),r.Ob(13,"div",15),r.Ob(14,"div",3),r.Ob(15,"div"),r.Ob(16,"table",16),r.Ob(17,"thead"),r.Ob(18,"tr"),r.Ob(19,"th",17),r.gc(20,"Nome"),r.Nb(),r.Ob(21,"th",17),r.gc(22,"Titulo"),r.Nb(),r.Ob(23,"th",17),r.gc(24,"Imagem de capa"),r.Nb(),r.Mb(25,"th",17),r.Mb(26,"th",17),r.Nb(),r.Nb(),r.Ob(27,"tbody"),r.fc(28,Rw,13,3,"tr",18),r.Nb(),r.Nb(),r.Nb(),r.Ob(29,"div"),r.fc(30,Vw,2,1,"h3",19),r.Ob(31,"form",20),r.Mb(32,"input",21),r.Mb(33,"input",22),r.Mb(34,"input",23),r.Mb(35,"input",24),r.Mb(36,"textarea",25),r.Ob(37,"div",26),r.Ob(38,"button",27),r.Wb("click",(function(){return r.bc(n),r.Yb().onEdit()})),r.gc(39," Guardar "),r.Nb(),r.Ob(40,"button",28),r.Wb("click",(function(){return r.bc(n),r.Yb().closeEdition()})),r.gc(41," Fechar "),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(42,"div",29),r.Ob(43,"div",30),r.Ob(44,"h3",31),r.gc(45,"Adicionar novo Trabalho"),r.Nb(),r.Mb(46,"hr"),r.Ob(47,"form",20),r.Mb(48,"input",21),r.Mb(49,"input",22),r.Mb(50,"input",23),r.Mb(51,"input",32),r.Mb(52,"textarea",33),r.Ob(53,"div",34),r.Ob(54,"button",35),r.Wb("click",(function(){return r.bc(n),r.Yb().onSubmit()})),r.gc(55," Adicionar "),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(56,"div",36),r.Ob(57,"div",3),r.Ob(58,"div",37),r.Ob(59,"form",20),r.Mb(60,"textarea",38),r.Ob(61,"div",34),r.Ob(62,"button",27),r.Wb("click",(function(){return r.bc(n),r.Yb().onEditBio("8gvNivwD4eKxhKtewRG1")})),r.gc(63," Editar "),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(64,"div",37),r.Ob(65,"form",20),r.Mb(66,"textarea",38),r.Ob(67,"div",34),r.Ob(68,"button",27),r.Wb("click",(function(){return r.bc(n),r.Yb().onEditBio("z0F3xdQAduL6YmfmyGIf")})),r.gc(69," Editar "),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Mb(70,"div",3),r.Nb()}if(2&t){var i=r.Yb();r.Ab(11),r.Zb("ngIf",i.showSuccessMessage),r.Ab(4),r.Cb(null==i.selectedWork?"col-12":"display-none"),r.Ab(13),r.Zb("ngForOf",i.works),r.Ab(1),r.Cb(null==i.selectedWork?"display-none":"col-12"),r.Ab(1),r.Zb("ngIf",null!=i.selectedWork),r.Ab(1),r.Zb("formGroup",i.worksService.form),r.Ab(16),r.Zb("formGroup",i.worksService.form),r.Ab(7),r.Zb("disabled",!i.worksService.form.valid),r.Ab(5),r.Zb("formGroup",i.bioService.ptBio),r.Ab(6),r.Zb("formGroup",i.bioService.enBio)}}var Mw,Uw=((Mw=function(){function t(e,n,r,i){var o=this;_classCallCheck(this,t),this.worksService=e,this.bioService=n,this.firestore=r,this.cookieService=i,this.showSuccessMessage=!1,this.isLogged=!1,this.works=[],this.selectedWork=null,this.getWorks=function(){return o.worksService.getWorks().subscribe((function(t){return o.works=t}))},this.deleteWork=function(t){return o.worksService.deleteWork(t)}}return _createClass(t,[{key:"ngOnInit",value:function(){null!=this.cookieService.get("isLogged")&&"yes"==this.cookieService.get("isLogged")&&(this.isLogged=!0),this.getWorks(),this.getBios()}},{key:"entrar",value:function(){"vasco"==this.pw?(this.isLogged=!0,this.cookieService.set("isLogged","yes")):(alert("senha errada!"),this.pw="")}},{key:"sair",value:function(){this.isLogged=!1,this.cookieService.deleteAll(),location.reload()}},{key:"getBios",value:function(){var t=this;this.bioService.getBio("8gvNivwD4eKxhKtewRG1").subscribe((function(e){t.ptBio=e.data(),t.bioService.ptBio.setValue({content:t.ptBio.content})})),this.bioService.getBio("z0F3xdQAduL6YmfmyGIf").subscribe((function(e){t.enBio=e.data(),t.bioService.enBio.setValue({content:t.enBio.content})}))}},{key:"onSubmit",value:function(){var t=this;this.worksService.createWork(this.worksService.form.value).then((function(e){t.showSuccessMsg(),t.selectedWork=null}))}},{key:"onEdit",value:function(){var t=this;this.worksService.editWork(this.worksService.form.value,this.selectedId).then((function(e){t.showSuccessMsg(),t.selectedWork=null}))}},{key:"onEditBio",value:function(t){var e,n=this;"8gvNivwD4eKxhKtewRG1"==t||(e=this.bioService.enBio.value),this.bioService.editBio(e,t).then((function(t){n.showSuccessMsg()}))}},{key:"closeEdition",value:function(){this.selectedWork=null,this.clearForm()}},{key:"showSuccessMsg",value:function(){var t=this;this.showSuccessMessage=!0,setTimeout((function(){t.showSuccessMessage=!1}),2e3)}},{key:"clearForm",value:function(){this.selectedWork=null,this.worksService.form.reset()}},{key:"selectWork",value:function(t){var e=this;this.firestore.collection("trabalhos",(function(e){return e.where("nome","==",t)})).get().subscribe((function(t){0===t.docs.length||t.docs.forEach((function(t){e.selectedWork=t.data(),e.selectedId=t.id,e.worksService.form.setValue({conteudo:e.selectedWork.conteudo,imagemCapa:e.selectedWork.imagemCapa,titulo:e.selectedWork.titulo,nome:e.selectedWork.nome,subtitulo:e.selectedWork.subtitulo})}))}))}}]),t}()).\u0275fac=function(t){return new(t||Mw)(r.Lb(jw),r.Lb(Aw),r.Lb(Tw),r.Lb(Nw))},Mw.\u0275cmp=r.Fb({type:Mw,selectors:[["app-dashboard"]],decls:2,vars:2,consts:[["class","container",4,"ngIf"],[1,"container"],["id","login_div",1,"main-div","text-center","my-5"],[1,"row"],[1,"col-3","mx-auto","my-5"],[1,"form-group"],["name","pw","type","password","name","password","id","exampleInputPassword1","placeholder","senha","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"click"],["id","nav-tab","role","tablist",1,"nav","nav-tabs"],["id","nav-home-tab","data-toggle","tab","href","#nav-home","role","tab","aria-controls","nav-home","aria-selected","true",1,"nav-item","nav-link","active"],["id","nav-profile-tab","data-toggle","tab","href","#nav-profile","role","tab","aria-controls","nav-profile","aria-selected","false",1,"nav-item","nav-link",3,"click"],["id","nav-contact-tab","data-toggle","tab","href","#nav-contact","role","tab","aria-controls","nav-contact","aria-selected","false",1,"nav-item","nav-link"],["id","nav-contact-tab","aria-selected","false",1,"nav-item","nav-link",3,"click"],["class","alert alert-success",4,"ngIf"],["id","nav-tabContent",1,"tab-content"],["id","nav-home","role","tabpanel","aria-labelledby","nav-home-tab",1,"tab-pane","fade","show","active"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"formGroup"],["placeholder","Titulo","formControlName","titulo","type","text",1,"form-control","my-2"],["placeholder","Imagem de capa","formControlName","imagemCapa","type","text",1,"form-control","my-2"],["placeholder","Subtitulo","formControlName","subtitulo","type","text",1,"form-control","my-2"],["placeholder","nome","formControlName","nome","type","text",1,"form-control","my-2"],["rows","10","placeholder","Conteudo","formControlName","conteudo","type","text",1,"form-control","my-2"],[1,"my-5"],[1,"btn","btn-dark",3,"click"],[1,"ml-3","btn","btn-outline-dark",3,"click"],["id","nav-profile","role","tabpanel","aria-labelledby","nav-profile-tab",1,"tab-pane","fade"],[1,"col-sm-8","mx-auto"],[1,"mb-4"],["placeholder","Nome","formControlName","nome","type","text",1,"form-control","my-2"],["rows","15","placeholder","Conteudo","formControlName","conteudo","type","text",1,"form-control","my-2"],[1,"mt-4"],[1,"btn","btn-dark",3,"disabled","click"],["id","nav-contact","role","tabpanel","aria-labelledby","nav-contact-tab",1,"tab-pane","fade"],[1,"col-sm-6"],["rows","15","placeholder","Conteudo","formControlName","content","type","text",1,"form-control","my-2"],[1,"alert","alert-success"],["scope","row",1,"align-middle","w-25"],[1,"align-middle","w-25"],["height","60","class-","img-fluid",3,"src"],[1,"align-middle","text-right"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,e){1&t&&(r.fc(0,Dw,14,1,"div",0),r.fc(1,Lw,71,12,"div",0)),2&t&&(r.Zb("ngIf",!e.isLogged),r.Ab(1),r.Zb("ngIf",e.isLogged))},directives:[H,Fi,Na,Zi,da,U,pa,Yi,ga,xa],styles:[".table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{vertical-align:middle}.display-none[_ngcontent-%COMP%]{display:none}#hideMe[_ngcontent-%COMP%]{-webkit-animation:cssAnimation 0s ease-in 2s forwards;animation:cssAnimation 0s ease-in 2s forwards;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@keyframes cssAnimation{to{width:0;height:0;display:none}}@-webkit-keyframes cssAnimation{to{width:0;height:0;display:none}}"]}),Mw);function Fw(t,e){if(1&t&&(r.Ob(0,"div",4),r.Ob(1,"a",5),r.Ob(2,"div",6),r.Mb(3,"img",7),r.Nb(),r.Nb(),r.Ob(4,"h2"),r.gc(5),r.Nb(),r.Ob(6,"h3"),r.Ob(7,"small"),r.gc(8),r.Nb(),r.Nb(),r.Nb()),2&t){var n=e.$implicit;r.Ab(1),r.Zb("href","work/"+n.payload.doc.data().nome,r.dc),r.Ab(2),r.Zb("src",n.payload.doc.data().imagemCapa,r.dc),r.Ab(2),r.hc(n.payload.doc.data().titulo),r.Ab(3),r.hc(n.payload.doc.data().subtitulo)}}var Hw,qw,zw,Gw,Bw,Ww,Kw,Jw=[{path:"home",component:(qw=function(){function t(e){var n=this;_classCallCheck(this,t),this.worksService=e,this.works=[],this.getWorks=function(){return n.worksService.getWorks().subscribe((function(t){return n.works=t}))}}return _createClass(t,[{key:"ngOnInit",value:function(){this.getWorks()}}]),t}(),qw.\u0275fac=function(t){return new(t||qw)(r.Lb(jw))},qw.\u0275cmp=r.Fb({type:qw,selectors:[["app-home"]],decls:4,vars:1,consts:[[1,"container"],[1,"page__demo"],[1,"page__container"],["class","photobox photobox_type3",4,"ngFor","ngForOf"],[1,"photobox","photobox_type3"],[3,"href"],[1,"photobox__previewbox"],["alt","Preview",1,"photobox__preview",3,"src"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.fc(3,Fw,9,4,"div",3),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.Ab(3),r.Zb("ngForOf",e.works))},directives:[U],styles:[""]}),qw)},{path:"about",component:xw},{path:"work/:name",component:(Hw=function(){function t(e,n){_classCallCheck(this,t),this.firestore=e,this.activatedRoute=n,this.conteudo='<div class="texto">cenas</div>'}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this,e=this.activatedRoute.snapshot.paramMap.get("name");this.firestore.collection("trabalhos",(function(t){return t.where("nome","==",e)})).get().subscribe((function(e){0===e.docs.length||e.docs.forEach((function(e){t.work=e.data(),t.work.conteudo=t.work.conteudo,t.conteudo=t.work.conteudo.toString(),console.log(e.data())}))}))}},{key:"stringToHTML",value:function(t){var e=document.createElement("div");return e.innerHTML=t,e}}]),t}(),Hw.\u0275fac=function(t){return new(t||Hw)(r.Lb(Tw),r.Lb(Jn))},Hw.\u0275cmp=r.Fb({type:Hw,selectors:[["app-work-detail"]],decls:6,vars:2,consts:[[1,"container"],[1,"trabalho"],["id","trabalho",1,"display-4"],["id","post",3,"innerHTML"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"h1",2),r.gc(3),r.Nb(),r.Mb(4,"br"),r.Mb(5,"span",3),r.Nb(),r.Nb()),2&t&&(r.Ab(3),r.hc(e.work.titulo),r.Ab(2),r.Zb("innerHTML",e.conteudo,r.cc))},styles:[""]}),Hw)},{path:"admin",component:Uw},{path:"**",redirectTo:"/home",pathMatch:"full"}],Zw=((Kw=function t(){_classCallCheck(this,t)}).\u0275mod=r.Jb({type:Kw}),Kw.\u0275inj=r.Ib({factory:function(t){return new(t||Kw)},imports:[[bi.forRoot(Jw)],bi]}),Kw),Yw=((Ww=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Ww)},Ww.\u0275cmp=r.Fb({type:Ww,selectors:[["app-menu"]],decls:11,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container"],["href","/",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"nav","navbar-nav","ml-auto"],[1,"nav-item"],["href","/about",1,"nav-link"]],template:function(t,e){1&t&&(r.Ob(0,"nav",0),r.Ob(1,"div",1),r.Ob(2,"a",2),r.gc(3,"Vasco B\xe4uerle"),r.Nb(),r.Ob(4,"button",3),r.Mb(5,"span",4),r.Nb(),r.Ob(6,"div",5),r.Ob(7,"ul",6),r.Ob(8,"li",7),r.Ob(9,"a",8),r.gc(10,"SOBRE"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb())},styles:[""]}),Ww),Qw=((Bw=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Bw)},Bw.\u0275cmp=r.Fb({type:Bw,selectors:[["app-footer"]],decls:11,vars:0,consts:[[1,"footer"],[1,"container"],["href","#top","title","To Top",1,"scroll-to-top","scroll"],[1,"lni-chevron-up"],["target","_blank","href","https://www.truetype.pt"]],template:function(t,e){1&t&&(r.Ob(0,"footer",0),r.Ob(1,"div",1),r.Ob(2,"a",2),r.Mb(3,"i",3),r.Nb(),r.Ob(4,"p"),r.Mb(5,"br"),r.Mb(6,"br"),r.gc(7," \xa9 Todos os direitos reservados / Densenvolvido por "),r.Ob(8,"a",4),r.Ob(9,"b"),r.gc(10,"Nelson Sousa"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb())},styles:[""]}),Bw),Xw=((Gw=function t(){_classCallCheck(this,t),this.title="site-vasco"}).\u0275fac=function(t){return new(t||Gw)},Gw.\u0275cmp=r.Fb({type:Gw,selectors:[["app-root"]],decls:3,vars:0,template:function(t,e){1&t&&(r.Mb(0,"app-menu"),r.Mb(1,"router-outlet"),r.Mb(2,"app-footer"))},directives:[Yw,ui,Qw],styles:[""]}),Gw),$w=((zw=function t(){_classCallCheck(this,t)}).\u0275mod=r.Jb({type:zw,bootstrap:[Xw]}),zw.\u0275inj=r.Ib({factory:function(t){return new(t||zw)},providers:[Nw],imports:[[xt,Zw,Ga.a.initializeApp(i),Ga.a,Va,Ra]]}),zw);Object(r.S)(),Tt().bootstrapModule($w).catch((function(t){return console.error(t)}))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);